   
2025-06-06 13:04:33,725 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\a13052540ed9f27eea7d611e9e33293fea9fb4aa584c029e80036f5f857f03de.webp
2025-06-06 13:04:33,726 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 6, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-06 13:04:33,738 - DEBUG - {"call_id": 6, "event": "Received RPC result", "json": {"callId": 6, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-06 13:04:33,739 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749240273729 - 923.webp",
  "name": "a13052540ed9f27eea7d611e9e33293fea9fb4aa584c029e80036f5f857f03de.webp",
  "sizeBytes": 231480,
  "type": "file"
})
2025-06-06 13:04:33,739 - DEBUG - Full prompt sent to LLM: Analyze the provided image.
Describe its content in detail.
Suggest a single, concise category for the image.
Your response MUST be a valid JSON object with two keys: 'description' (string) and 'category' (string).
Example: {'description': 'A serene forest with tall trees and a clear stream.', 'category': 'Forest'}
Ensure the JSON is well-formed and nothing else is included in the response.

2025-06-06 13:04:33,739 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 7, "creationParameter": {"history": {"messages": [{"content": [{"text": "Analyze the provided image.\nDescribe its content in detail.\nSuggest a single, concise category for the image.\nYour response MUST be a valid JSON object with two keys: 'description' (string) and 'category' (string).\nExample: {'description': 'A serene forest with tall trees and a clear stream.', 'category': 'Forest'}\nEnsure the JSON is well-formed and nothing else is included in the response.\n", "type": "text"}, {"fileType": "image", "identifier": "1749240273729 - 923.webp", "name": "a13052540ed9f27eea7d611e9e33293fea9fb4aa584c029e80036f5f857f03de.webp", "sizeBytes": 231480, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "r/m/qwen2.5-vl-3b-instruct.q4_k_m.gguf"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-06 13:04:34,881 - DEBUG - Raw LLM response: <|box_start|> category\u5fd8\u8bb0\u4e86
2025-06-06 13:04:34,882 - ERROR - No JSON object found in text: <|box_start|> category\u5fd8\u8bb0\u4e86
2025-06-06 13:04:34,883 - ERROR - Failed to parse JSON. Raw response: <|box_start|> category\u5fd8\u8bb0\u4e86
2025-06-06 13:04:34,883 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\A1897E5E85B488FDE84BB77AE42E97B7778AE8CAC745860766931D266FDE4FE0.jpg
2025-06-06 13:04:34,883 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 7, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-06 13:04:34,889 - DEBUG - {"call_id": 7, "event": "Received RPC result", "json": {"callId": 7, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-06 13:04:34,889 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749240274884 - 282.jpg",
  "name": "A1897E5E85B488FDE84BB77AE42E97B7778AE8CAC745860766931D266FDE4FE0.jpg",
  "sizeBytes": 50344,
  "type": "file"
})
2025-06-06 13:04:34,890 - DEBUG - Full prompt sent to LLM: Analyze the provided image.
Describe its content in detail.
Suggest a single, concise category for the image.
Your response MUST be a valid JSON object with two keys: 'description' (string) and 'category' (string).
Example: {'description': 'A serene forest with tall trees and a clear stream.', 'category': 'Forest'}
Ensure the JSON is well-formed and nothing else is included in the response.

2025-06-06 13:04:34,890 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 8, "creationParameter": {"history": {"messages": [{"content": [{"text": "Analyze the provided image.\nDescribe its content in detail.\nSuggest a single, concise category for the image.\nYour response MUST be a valid JSON object with two keys: 'description' (string) and 'category' (string).\nExample: {'description': 'A serene forest with tall trees and a clear stream.', 'category': 'Forest'}\nEnsure the JSON is well-formed and nothing else is included in the response.\n", "type": "text"}, {"fileType": "image", "identifier": "1749240274884 - 282.jpg", "name": "A1897E5E85B488FDE84BB77AE42E97B7778AE8CAC745860766931D266FDE4FE0.jpg", "sizeBytes": 50344, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "r/m/qwen2.5-vl-3b-instruct.q4_k_m.gguf"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-06 13:04:35,398 - DEBUG - Raw LLM response: 
2025-06-06 13:04:35,398 - ERROR - No JSON object found in text: 
2025-06-06 13:04:35,399 - ERROR - Failed to parse JSON. Raw response: 
2025-06-06 13:04:35,399 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\Amazing-StonesMinerals6__880.jpg
2025-06-06 13:04:35,400 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 8, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-06 13:04:35,407 - DEBUG - {"call_id": 8, "event": "Received RPC result", "json": {"callId": 8, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-06 13:04:35,408 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749240275402 - 558.jpg",
  "name": "Amazing-StonesMinerals6__880.jpg",
  "sizeBytes": 128783,
  "type": "file"
})
2025-06-06 13:04:35,408 - DEBUG - Full prompt sent to LLM: Analyze the provided image.
Describe its content in detail.
Suggest a single, concise category for the image.
Your response MUST be a valid JSON object with two keys: 'description' (string) and 'category' (string).
Example: {'description': 'A serene forest with tall trees and a clear stream.', 'category': 'Forest'}
Ensure the JSON is well-formed and nothing else is included in the response.

2025-06-06 13:04:35,408 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 9, "creationParameter": {"history": {"messages": [{"content": [{"text": "Analyze the provided image.\nDescribe its content in detail.\nSuggest a single, concise category for the image.\nYour response MUST be a valid JSON object with two keys: 'description' (string) and 'category' (string).\nExample: {'description': 'A serene forest with tall trees and a clear stream.', 'category': 'Forest'}\nEnsure the JSON is well-formed and nothing else is included in the response.\n", "type": "text"}, {"fileType": "image", "identifier": "1749240275402 - 558.jpg", "name": "Amazing-StonesMinerals6__880.jpg", "sizeBytes": 128783, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "r/m/qwen2.5-vl-3b-instruct.q4_k_m.gguf"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-06 13:04:41,865 - DEBUG - Raw LLM response: 5ftrlcr\u602a\u54c8\u54c8\u54c8\u54c8w</

- -1----------------------------------------------------------------

-- -------------------------------------------------------------

----- ---------------------------------------------------------------

----------------------------------------------------------------

--15 -----------1- 11-1---11-1-1-1-1-2-11-1-11
-- - ---11-1-11----1

-

--------------- -
2025-06-06 13:04:41,865 - ERROR - No JSON object found in text: 5ftrlcr\u602a\u54c8\u54c8\u54c8\u54c8w</

- -1----------------------------------------------------------------

-- -------------------------------------------------------------

----- ---------------------------------------------------------------

----------------------------------------------------------------

--15 -----------1- 11-1---11-1-1-1-1-2-11-1-11
-- - ---11-1-11----1

-

--------------- -
2025-06-06 13:04:41,866 - ERROR - Failed to parse JSON. Raw response: 5ftrlcr\u602a\u54c8\u54c8\u54c8\u54c8w</

- -1----------------------------------------------------------------

-- -------------------------------------------------------------

----- ---------------------------------------------------------------

----------------------------------------------------------------

--15 -----------1- 11-1---11-1-1-1-1-2-11-1-11
-- - ---11-1-11----1

-

--------------- -
2025-06-06 13:04:41,866 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\Bing_0056.jpeg
2025-06-06 13:04:41,867 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 9, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-06 13:04:41,875 - DEBUG - {"call_id": 9, "event": "Received RPC result", "json": {"callId": 9, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-06 13:04:41,875 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749240281869 - 907.jpeg",
  "name": "Bing_0056.jpeg",
  "sizeBytes": 88069,
  "type": "file"
})
2025-06-06 13:04:41,876 - DEBUG - Full prompt sent to LLM: Analyze the provided image.
Describe its content in detail.
Suggest a single, concise category for the image.
Your response MUST be a valid JSON object with two keys: 'description' (string) and 'category' (string).
Example: {'description': 'A serene forest with tall trees and a clear stream.', 'category': 'Forest'}
Ensure the JSON is well-formed and nothing else is included in the response.

2025-06-06 13:04:41,876 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 10, "creationParameter": {"history": {"messages": [{"content": [{"text": "Analyze the provided image.\nDescribe its content in detail.\nSuggest a single, concise category for the image.\nYour response MUST be a valid JSON object with two keys: 'description' (string) and 'category' (string).\nExample: {'description': 'A serene forest with tall trees and a clear stream.', 'category': 'Forest'}\nEnsure the JSON is well-formed and nothing else is included in the response.\n", "type": "text"}, {"fileType": "image", "identifier": "1749240281869 - 907.jpeg", "name": "Bing_0056.jpeg", "sizeBytes": 88069, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "r/m/qwen2.5-vl-3b-instruct.q4_k_m.gguf"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-06 13:04:42,441 - DEBUG - Raw LLM response: 
2025-06-06 13:04:42,441 - ERROR - No JSON object found in text: 
2025-06-06 13:04:42,442 - ERROR - Failed to parse JSON. Raw response: 
2025-06-06 13:04:42,442 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\NavalSquare.jpg
2025-06-06 13:04:42,443 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 10, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-06 13:04:42,452 - DEBUG - {"call_id": 10, "event": "Received RPC result", "json": {"callId": 10, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-06 13:04:42,452 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749240282446 - 649.jpg",
  "name": "NavalSquare.jpg",
  "sizeBytes": 45352,
  "type": "file"
})
2025-06-06 13:04:42,453 - DEBUG - Full prompt sent to LLM: Analyze the provided image.
Describe its content in detail.
Suggest a single, concise category for the image.
Your response MUST be a valid JSON object with two keys: 'description' (string) and 'category' (string).
Example: {'description': 'A serene forest with tall trees and a clear stream.', 'category': 'Forest'}
Ensure the JSON is well-formed and nothing else is included in the response.

2025-06-06 13:04:42,453 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 11, "creationParameter": {"history": {"messages": [{"content": [{"text": "Analyze the provided image.\nDescribe its content in detail.\nSuggest a single, concise category for the image.\nYour response MUST be a valid JSON object with two keys: 'description' (string) and 'category' (string).\nExample: {'description': 'A serene forest with tall trees and a clear stream.', 'category': 'Forest'}\nEnsure the JSON is well-formed and nothing else is included in the response.\n", "type": "text"}, {"fileType": "image", "identifier": "1749240282446 - 649.jpg", "name": "NavalSquare.jpg", "sizeBytes": 45352, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "r/m/qwen2.5-vl-3b-instruct.q4_k_m.gguf"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-06 13:04:43,465 - DEBUG - Raw LLM response: p
2025-06-06 13:04:43,465 - ERROR - No JSON object found in text: p
2025-06-06 13:04:43,467 - ERROR - Failed to parse JSON. Raw response: p
2025-06-06 13:05:07,126 - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/files)", "ws_url": "ws://localhost:1234/files"}
2025-06-06 13:05:07,127 - INFO - {"event": "Websocket demultiplexing task terminated.", "ws_url": "ws://localhost:1234/files"}
2025-06-06 13:05:07,127 - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/files)", "ws_url": "ws://localhost:1234/files"}
2025-06-06 13:05:07,127 - INFO - {"event": "Websocket closed.", "ws_url": "ws://localhost:1234/files"}
2025-06-06 13:05:07,127 - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-06-06 13:05:07,128 - DEBUG - response_closed.started
2025-06-06 13:05:07,128 - DEBUG - response_closed.complete
2025-06-06 13:05:07,128 - INFO - {"event": "Websocket task terminated", "ws_url": "ws://localhost:1234/files"}
2025-06-06 13:05:07,129 - INFO - {"event": "Websocket demultiplexing task terminated.", "ws_url": "ws://localhost:1234/embedding"}
2025-06-06 13:05:07,129 - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-06-06 13:05:07,129 - INFO - {"event": "Websocket closed.", "ws_url": "ws://localhost:1234/embedding"}
2025-06-06 13:05:07,129 - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-06-06 13:05:07,129 - DEBUG - response_closed.started
2025-06-06 13:05:07,130 - DEBUG - response_closed.complete
2025-06-06 13:05:07,130 - INFO - {"event": "Websocket task terminated", "ws_url": "ws://localhost:1234/embedding"}
2025-06-06 13:05:07,130 - INFO - {"event": "Websocket demultiplexing task terminated.", "ws_url": "ws://localhost:1234/llm"}
2025-06-06 13:05:07,131 - INFO - {"event": "Websocket closed.", "ws_url": "ws://localhost:1234/llm"}
2025-06-06 13:05:07,131 - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-06-06 13:05:07,131 - DEBUG - response_closed.started
2025-06-06 13:05:07,131 - DEBUG - response_closed.complete
2025-06-06 13:05:07,132 - INFO - {"event": "Websocket task terminated", "ws_url": "ws://localhost:1234/llm"}
2025-06-06 13:05:07,132 - DEBUG - {"client": "<lmstudio.sync_api.Client object at 0x0000029957555910>", "event": "Terminating websocket thread due to exception", "thread_id": "Thread-1"}
Traceback (most recent call last):
  File "C:\Users\dadad\AppData\Local\Programs\Python\Python311\Lib\site-packages\lmstudio\_ws_impl.py", line 292, in _log_thread_execution
    await never_set.wait()
  File "C:\Users\dadad\AppData\Local\Programs\Python\Python311\Lib\asyncio\locks.py", line 213, in wait
    await fut
asyncio.exceptions.CancelledError: Cancelled by cancel scope 29957560510
2025-06-06 13:05:07,133 - INFO - {"client": "<lmstudio.sync_api.Client object at 0x0000029957555910>", "event": "Websocket thread terminated", "thread_id": "Thread-1"}
2025-06-06 13:35:13,517 - DEBUG - Using proactor: IocpProactor
2025-06-06 13:35:13,529 - INFO - {"client": "<lmstudio.sync_api.Client object at 0x000001E7506A6350>", "event": "Websocket handling thread started", "thread_id": "Thread-1"}
2025-06-06 13:35:13,530 - INFO - {"event": "Websocket handling task started", "ws_url": "ws://localhost:1234/llm"}
2025-06-06 13:35:13,771 - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-06-06 13:35:14,028 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001E74FB2F290>
2025-06-06 13:35:14,028 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-06 13:35:14,028 - DEBUG - send_request_headers.complete
2025-06-06 13:35:14,028 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-06 13:35:14,029 - DEBUG - send_request_body.complete
2025-06-06 13:35:14,029 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-06 13:35:14,032 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'wxJI9MmP4dLVtfBbXShrtyvYYxg=')])
2025-06-06 13:35:14,032 - INFO - HTTP Request: GET ws://localhost:1234/llm "HTTP/1.1 101 Switching Protocols"
2025-06-06 13:35:14,033 - DEBUG - {"event": "Websocket connected", "ws_url": "ws://localhost:1234/llm"}
2025-06-06 13:35:14,035 - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "ws_url": "ws://localhost:1234/llm"}
2025-06-06 13:35:14,035 - INFO - {"event": "Websocket session established (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-06-06 13:35:14,036 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "listLoaded", "type": "rpcCall"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-06 13:35:14,039 - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": ["..."], "type": "rpcResult"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-06 13:35:14,040 - INFO - {"event": "Websocket handling task started", "ws_url": "ws://localhost:1234/embedding"}
2025-06-06 13:35:14,297 - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-06-06 13:35:14,549 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001E7532FAA50>
2025-06-06 13:35:14,549 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-06 13:35:14,549 - DEBUG - send_request_headers.complete
2025-06-06 13:35:14,550 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-06 13:35:14,550 - DEBUG - send_request_body.complete
2025-06-06 13:35:14,550 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-06 13:35:14,550 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'KwRGgjuIgzGpZ1Ff2wUUy/Lv06Q=')])
2025-06-06 13:35:14,550 - INFO - HTTP Request: GET ws://localhost:1234/embedding "HTTP/1.1 101 Switching Protocols"
2025-06-06 13:35:14,550 - DEBUG - {"event": "Websocket connected", "ws_url": "ws://localhost:1234/embedding"}
2025-06-06 13:35:14,551 - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "ws_url": "ws://localhost:1234/embedding"}
2025-06-06 13:35:14,552 - INFO - {"event": "Websocket session established (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-06-06 13:35:14,552 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "listLoaded", "type": "rpcCall"}, "ws_url": "ws://localhost:1234/embedding"}
2025-06-06 13:35:14,554 - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": ["..."], "type": "rpcResult"}, "ws_url": "ws://localhost:1234/embedding"}
2025-06-06 13:35:14,555 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 1, "creationParameter": {"identifier": "r/m/qwen2.5-vl-3b-instruct.q4_k_m.gguf", "loadConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}, "loadTtlMs": 3600000}, "endpoint": "getOrLoad", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-06 13:35:14,562 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\2010-11-21-full-moon-1000.png
2025-06-06 13:35:14,565 - INFO - {"event": "Websocket handling task started", "ws_url": "ws://localhost:1234/files"}
2025-06-06 13:35:14,743 - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-06-06 13:35:14,996 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001E753302A90>
2025-06-06 13:35:14,996 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-06 13:35:14,997 - DEBUG - send_request_headers.complete
2025-06-06 13:35:14,997 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-06 13:35:14,997 - DEBUG - send_request_body.complete
2025-06-06 13:35:14,997 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-06 13:35:14,997 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'lQa4yVL9lm/C5pucc9RRiBFkKfg=')])
2025-06-06 13:35:14,998 - INFO - HTTP Request: GET ws://localhost:1234/files "HTTP/1.1 101 Switching Protocols"
2025-06-06 13:35:14,998 - DEBUG - {"event": "Websocket connected", "ws_url": "ws://localhost:1234/files"}
2025-06-06 13:35:14,999 - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "ws_url": "ws://localhost:1234/files"}
2025-06-06 13:35:14,999 - INFO - {"event": "Websocket session established (ws://localhost:1234/files)", "ws_url": "ws://localhost:1234/files"}
2025-06-06 13:35:14,999 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-06 13:35:15,016 - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-06 13:35:15,016 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749242115007 - 951.png",
  "name": "2010-11-21-full-moon-1000.png",
  "sizeBytes": 303022,
  "type": "file"
})
2025-06-06 13:35:15,017 - DEBUG - Full prompt sent to LLM: Analyze the provided image.
Based on the image content, categorize it into one or more folders.
Your response MUST be a valid JSON object adhering to the following schema:
{
  "type": "object",
  "properties": {
    "folders": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Name of the folder"
          },
          "images": {
            "type": "array",
            "items": {
              "type": "string",
              "description": "Filename of the image"
            }
          }
        },
        "required": [
          "name",
          "images"
        ]
      }
    }
  },
  "required": [
    "folders"
  ]
}

For example, if the image is of a cat, and you want to put it in a "Animals" folder:
{
  "folders": [
    {
      "name": "Animals",
      "images": ["image_filename.jpg"]
    }
  ]
}
If the image is of a sunset over a mountain, and you want to put it in "Nature" and "Landscapes" folders:
{
  "folders": [
    {
      "name": "Nature",
      "images": ["image_filename.jpg"]
    },
    {
      "name": "Landscapes",
      "images": ["image_filename.jpg"]
    }
  ]
}
Ensure the JSON is well-formed and nothing else is included in the response.
The 'images' array should contain only the filename of the image being processed (e.g., "my_image.jpg").

2025-06-06 13:35:15,018 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 2, "creationParameter": {"history": {"messages": [{"content": [{"text": "Analyze the provided image.\nBased on the image content, categorize it into one or more folders.\nYour response MUST be a valid JSON object adhering to the following schema:\n{\n  \"type\": \"object\",\n  \"properties\": {\n    \"folders\": {\n      \"type\": \"array\",\n      \"items\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"name\": {\n            \"type\": \"string\",\n            \"description\": \"Name of the folder\"\n          },\n          \"images\": {\n            \"type\": \"array\",\n            \"items\": {\n              \"type\": \"string\",\n              \"description\": \"Filename of the image\"\n            }\n          }\n        },\n        \"required\": [\n          \"name\",\n          \"images\"\n        ]\n      }\n    }\n  },\n  \"required\": [\n    \"folders\"\n  ]\n}\n\nFor example, if the image is of a cat, and you want to put it in a \"Animals\" folder:\n{\n  \"folders\": [\n    {\n      \"name\": \"Animals\",\n      \"images\": [\"image_filename.jpg\"]\n    }\n  ]\n}\nIf the image is of a sunset over a mountain, and you want to put it in \"Nature\" and \"Landscapes\" folders:\n{\n  \"folders\": [\n    {\n      \"name\": \"Nature\",\n      \"images\": [\"image_filename.jpg\"]\n    },\n    {\n      \"name\": \"Landscapes\",\n      \"images\": [\"image_filename.jpg\"]\n    }\n  ]\n}\nEnsure the JSON is well-formed and nothing else is included in the response.\nThe 'images' array should contain only the filename of the image being processed (e.g., \"my_image.jpg\").\n", "type": "text"}, {"fileType": "image", "identifier": "1749242115007 - 951.png", "name": "2010-11-21-full-moon-1000.png", "sizeBytes": 303022, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "r/m/qwen2.5-vl-3b-instruct.q4_k_m.gguf"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-06 13:35:21,366 - DEBUG - Raw LLM response: 113451 / </</</</11-1 -1111111111111\n11111111111111111111111111111111111111111 /1111111111111111111111111111\n111111111111111 -1111111111111112111115111111 /11111111111111-111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111 /1111111111111111111-1111111111 -11111\n1111111 1111111 /
2025-06-06 13:35:21,366 - ERROR - No JSON object found in text: 113451 / </</</</11-1 -1111111111111\n11111111111111111111111111111111111111111 /1111111111111111111111111111\n111111111111111 -1111111111111112111115111111 /11111111111111-111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111 /1111111111111111111-1111111111 -11111\n1111111 1111111 /
2025-06-06 13:35:21,368 - ERROR - Failed to parse JSON. Raw response: 113451 / </</</</11-1 -1111111111111\n11111111111111111111111111111111111111111 /1111111111111111111111111111\n111111111111111 -1111111111111112111115111111 /11111111111111-111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111 /1111111111111111111-1111111111 -11111\n1111111 1111111 /
2025-06-06 13:35:21,368 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\21663397742_10c834c71e_c.jpg
2025-06-06 13:35:21,369 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 2, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-06 13:35:21,381 - DEBUG - {"call_id": 2, "event": "Received RPC result", "json": {"callId": 2, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-06 13:35:21,382 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749242121372 - 556.jpg",
  "name": "21663397742_10c834c71e_c.jpg",
  "sizeBytes": 189014,
  "type": "file"
})
2025-06-06 13:35:21,382 - DEBUG - Full prompt sent to LLM: Analyze the provided image.
Based on the image content, categorize it into one or more folders.
Your response MUST be a valid JSON object adhering to the following schema:
{
  "type": "object",
  "properties": {
    "folders": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Name of the folder"
          },
          "images": {
            "type": "array",
            "items": {
              "type": "string",
              "description": "Filename of the image"
            }
          }
        },
        "required": [
          "name",
          "images"
        ]
      }
    }
  },
  "required": [
    "folders"
  ]
}

For example, if the image is of a cat, and you want to put it in a "Animals" folder:
{
  "folders": [
    {
      "name": "Animals",
      "images": ["image_filename.jpg"]
    }
  ]
}
If the image is of a sunset over a mountain, and you want to put it in "Nature" and "Landscapes" folders:
{
  "folders": [
    {
      "name": "Nature",
      "images": ["image_filename.jpg"]
    },
    {
      "name": "Landscapes",
      "images": ["image_filename.jpg"]
    }
  ]
}
Ensure the JSON is well-formed and nothing else is included in the response.
The 'images' array should contain only the filename of the image being processed (e.g., "my_image.jpg").

2025-06-06 13:35:21,382 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 3, "creationParameter": {"history": {"messages": [{"content": [{"text": "Analyze the provided image.\nBased on the image content, categorize it into one or more folders.\nYour response MUST be a valid JSON object adhering to the following schema:\n{\n  \"type\": \"object\",\n  \"properties\": {\n    \"folders\": {\n      \"type\": \"array\",\n      \"items\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"name\": {\n            \"type\": \"string\",\n            \"description\": \"Name of the folder\"\n          },\n          \"images\": {\n            \"type\": \"array\",\n            \"items\": {\n              \"type\": \"string\",\n              \"description\": \"Filename of the image\"\n            }\n          }\n        },\n        \"required\": [\n          \"name\",\n          \"images\"\n        ]\n      }\n    }\n  },\n  \"required\": [\n    \"folders\"\n  ]\n}\n\nFor example, if the image is of a cat, and you want to put it in a \"Animals\" folder:\n{\n  \"folders\": [\n    {\n      \"name\": \"Animals\",\n      \"images\": [\"image_filename.jpg\"]\n    }\n  ]\n}\nIf the image is of a sunset over a mountain, and you want to put it in \"Nature\" and \"Landscapes\" folders:\n{\n  \"folders\": [\n    {\n      \"name\": \"Nature\",\n      \"images\": [\"image_filename.jpg\"]\n    },\n    {\n      \"name\": \"Landscapes\",\n      \"images\": [\"image_filename.jpg\"]\n    }\n  ]\n}\nEnsure the JSON is well-formed and nothing else is included in the response.\nThe 'images' array should contain only the filename of the image being processed (e.g., \"my_image.jpg\").\n", "type": "text"}, {"fileType": "image", "identifier": "1749242121372 - 556.jpg", "name": "21663397742_10c834c71e_c.jpg", "sizeBytes": 189014, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "r/m/qwen2.5-vl-3b-instruct.q4_k_m.gguf"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-06 13:36:25,938 - ERROR - Error generating response for 21663397742_10c834c71e_c.jpg: Chat response error: Context shifting is not yet supported when images are in the chat. Current number of prompt+generated tokens with all images expanded: 4097. Loaded context length: 4096. Try reloading with a larger context length or using a shorter prompt.. Error: Chat response error: Context shifting is not yet supported when images are in the chat. Current number of prompt+generated tokens with all images expanded: 4097. Loaded context length: 4096. Try reloading with a larger context length or using a shorter prompt.
2025-06-06 13:36:25,938 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\3.jpg
2025-06-06 13:36:25,939 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 3, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-06 13:36:25,969 - DEBUG - {"call_id": 3, "event": "Received RPC result", "json": {"callId": 3, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-06 13:36:25,969 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749242185942 - 41.jpg",
  "name": "3.jpg",
  "sizeBytes": 16659,
  "type": "file"
})
2025-06-06 13:36:25,970 - DEBUG - Full prompt sent to LLM: Analyze the provided image.
Based on the image content, categorize it into one or more folders.
Your response MUST be a valid JSON object adhering to the following schema:
{
  "type": "object",
  "properties": {
    "folders": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Name of the folder"
          },
          "images": {
            "type": "array",
            "items": {
              "type": "string",
              "description": "Filename of the image"
            }
          }
        },
        "required": [
          "name",
          "images"
        ]
      }
    }
  },
  "required": [
    "folders"
  ]
}

For example, if the image is of a cat, and you want to put it in a "Animals" folder:
{
  "folders": [
    {
      "name": "Animals",
      "images": ["image_filename.jpg"]
    }
  ]
}
If the image is of a sunset over a mountain, and you want to put it in "Nature" and "Landscapes" folders:
{
  "folders": [
    {
      "name": "Nature",
      "images": ["image_filename.jpg"]
    },
    {
      "name": "Landscapes",
      "images": ["image_filename.jpg"]
    }
  ]
}
Ensure the JSON is well-formed and nothing else is included in the response.
The 'images' array should contain only the filename of the image being processed (e.g., "my_image.jpg").

2025-06-06 13:36:25,970 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 4, "creationParameter": {"history": {"messages": [{"content": [{"text": "Analyze the provided image.\nBased on the image content, categorize it into one or more folders.\nYour response MUST be a valid JSON object adhering to the following schema:\n{\n  \"type\": \"object\",\n  \"properties\": {\n    \"folders\": {\n      \"type\": \"array\",\n      \"items\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"name\": {\n            \"type\": \"string\",\n            \"description\": \"Name of the folder\"\n          },\n          \"images\": {\n            \"type\": \"array\",\n            \"items\": {\n              \"type\": \"string\",\n              \"description\": \"Filename of the image\"\n            }\n          }\n        },\n        \"required\": [\n          \"name\",\n          \"images\"\n        ]\n      }\n    }\n  },\n  \"required\": [\n    \"folders\"\n  ]\n}\n\nFor example, if the image is of a cat, and you want to put it in a \"Animals\" folder:\n{\n  \"folders\": [\n    {\n      \"name\": \"Animals\",\n      \"images\": [\"image_filename.jpg\"]\n    }\n  ]\n}\nIf the image is of a sunset over a mountain, and you want to put it in \"Nature\" and \"Landscapes\" folders:\n{\n  \"folders\": [\n    {\n      \"name\": \"Nature\",\n      \"images\": [\"image_filename.jpg\"]\n    },\n    {\n      \"name\": \"Landscapes\",\n      \"images\": [\"image_filename.jpg\"]\n    }\n  ]\n}\nEnsure the JSON is well-formed and nothing else is included in the response.\nThe 'images' array should contain only the filename of the image being processed (e.g., \"my_image.jpg\").\n", "type": "text"}, {"fileType": "image", "identifier": "1749242185942 - 41.jpg", "name": "3.jpg", "sizeBytes": 16659, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "r/m/qwen2.5-vl-3b-instruct.q4_k_m.gguf"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-06 13:36:27,356 - DEBUG - Raw LLM response: 
2025-06-06 13:36:27,357 - ERROR - No JSON object found in text: 
2025-06-06 13:36:27,361 - ERROR - Failed to parse JSON. Raw response: 
2025-06-06 13:36:27,361 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\56ba49e41a00002d00ab2507.jpeg
2025-06-06 13:36:27,362 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 4, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-06 13:36:27,377 - DEBUG - {"call_id": 4, "event": "Received RPC result", "json": {"callId": 4, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-06 13:36:27,377 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749242187365 - 607.jpeg",
  "name": "56ba49e41a00002d00ab2507.jpeg",
  "sizeBytes": 42576,
  "type": "file"
})
2025-06-06 13:36:27,378 - DEBUG - Full prompt sent to LLM: Analyze the provided image.
Based on the image content, categorize it into one or more folders.
Your response MUST be a valid JSON object adhering to the following schema:
{
  "type": "object",
  "properties": {
    "folders": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Name of the folder"
          },
          "images": {
            "type": "array",
            "items": {
              "type": "string",
              "description": "Filename of the image"
            }
          }
        },
        "required": [
          "name",
          "images"
        ]
      }
    }
  },
  "required": [
    "folders"
  ]
}

For example, if the image is of a cat, and you want to put it in a "Animals" folder:
{
  "folders": [
    {
      "name": "Animals",
      "images": ["image_filename.jpg"]
    }
  ]
}
If the image is of a sunset over a mountain, and you want to put it in "Nature" and "Landscapes" folders:
{
  "folders": [
    {
      "name": "Nature",
      "images": ["image_filename.jpg"]
    },
    {
      "name": "Landscapes",
      "images": ["image_filename.jpg"]
    }
  ]
}
Ensure the JSON is well-formed and nothing else is included in the response.
The 'images' array should contain only the filename of the image being processed (e.g., "my_image.jpg").

2025-06-06 13:36:27,378 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 5, "creationParameter": {"history": {"messages": [{"content": [{"text": "Analyze the provided image.\nBased on the image content, categorize it into one or more folders.\nYour response MUST be a valid JSON object adhering to the following schema:\n{\n  \"type\": \"object\",\n  \"properties\": {\n    \"folders\": {\n      \"type\": \"array\",\n      \"items\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"name\": {\n            \"type\": \"string\",\n            \"description\": \"Name of the folder\"\n          },\n          \"images\": {\n            \"type\": \"array\",\n            \"items\": {\n              \"type\": \"string\",\n              \"description\": \"Filename of the image\"\n            }\n          }\n        },\n        \"required\": [\n          \"name\",\n          \"images\"\n        ]\n      }\n    }\n  },\n  \"required\": [\n    \"folders\"\n  ]\n}\n\nFor example, if the image is of a cat, and you want to put it in a \"Animals\" folder:\n{\n  \"folders\": [\n    {\n      \"name\": \"Animals\",\n      \"images\": [\"image_filename.jpg\"]\n    }\n  ]\n}\nIf the image is of a sunset over a mountain, and you want to put it in \"Nature\" and \"Landscapes\" folders:\n{\n  \"folders\": [\n    {\n      \"name\": \"Nature\",\n      \"images\": [\"image_filename.jpg\"]\n    },\n    {\n      \"name\": \"Landscapes\",\n      \"images\": [\"image_filename.jpg\"]\n    }\n  ]\n}\nEnsure the JSON is well-formed and nothing else is included in the response.\nThe 'images' array should contain only the filename of the image being processed (e.g., \"my_image.jpg\").\n", "type": "text"}, {"fileType": "image", "identifier": "1749242187365 - 607.jpeg", "name": "56ba49e41a00002d00ab2507.jpeg", "sizeBytes": 42576, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "r/m/qwen2.5-vl-3b-instruct.q4_k_m.gguf"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-06 13:36:28,593 - DEBUG - Raw LLM response: 
2025-06-06 13:36:28,593 - ERROR - No JSON object found in text: 
2025-06-06 13:36:28,600 - ERROR - Failed to parse JSON. Raw response: 
2025-06-06 13:36:28,600 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\9.jpg
2025-06-06 13:36:28,601 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 5, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-06 13:36:28,618 - DEBUG - {"call_id": 5, "event": "Received RPC result", "json": {"callId": 5, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-06 13:36:28,618 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749242188605 - 292.jpg",
  "name": "9.jpg",
  "sizeBytes": 77222,
  "type": "file"
})
2025-06-06 13:36:28,618 - DEBUG - Full prompt sent to LLM: Analyze the provided image.
Based on the image content, categorize it into one or more folders.
Your response MUST be a valid JSON object adhering to the following schema:
{
  "type": "object",
  "properties": {
    "folders": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Name of the folder"
          },
          "images": {
            "type": "array",
            "items": {
              "type": "string",
              "description": "Filename of the image"
            }
          }
        },
        "required": [
          "name",
          "images"
        ]
      }
    }
  },
  "required": [
    "folders"
  ]
}

For example, if the image is of a cat, and you want to put it in a "Animals" folder:
{
  "folders": [
    {
      "name": "Animals",
      "images": ["image_filename.jpg"]
    }
  ]
}
If the image is of a sunset over a mountain, and you want to put it in "Nature" and "Landscapes" folders:
{
  "folders": [
    {
      "name": "Nature",
      "images": ["image_filename.jpg"]
    },
    {
      "name": "Landscapes",
      "images": ["image_filename.jpg"]
    }
  ]
}
Ensure the JSON is well-formed and nothing else is included in the response.
The 'images' array should contain only the filename of the image being processed (e.g., "my_image.jpg").

2025-06-06 13:36:28,619 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 6, "creationParameter": {"history": {"messages": [{"content": [{"text": "Analyze the provided image.\nBased on the image content, categorize it into one or more folders.\nYour response MUST be a valid JSON object adhering to the following schema:\n{\n  \"type\": \"object\",\n  \"properties\": {\n    \"folders\": {\n      \"type\": \"array\",\n      \"items\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"name\": {\n            \"type\": \"string\",\n            \"description\": \"Name of the folder\"\n          },\n          \"images\": {\n            \"type\": \"array\",\n            \"items\": {\n              \"type\": \"string\",\n              \"description\": \"Filename of the image\"\n            }\n          }\n        },\n        \"required\": [\n          \"name\",\n          \"images\"\n        ]\n      }\n    }\n  },\n  \"required\": [\n    \"folders\"\n  ]\n}\n\nFor example, if the image is of a cat, and you want to put it in a \"Animals\" folder:\n{\n  \"folders\": [\n    {\n      \"name\": \"Animals\",\n      \"images\": [\"image_filename.jpg\"]\n    }\n  ]\n}\nIf the image is of a sunset over a mountain, and you want to put it in \"Nature\" and \"Landscapes\" folders:\n{\n  \"folders\": [\n    {\n      \"name\": \"Nature\",\n      \"images\": [\"image_filename.jpg\"]\n    },\n    {\n      \"name\": \"Landscapes\",\n      \"images\": [\"image_filename.jpg\"]\n    }\n  ]\n}\nEnsure the JSON is well-formed and nothing else is included in the response.\nThe 'images' array should contain only the filename of the image being processed (e.g., \"my_image.jpg\").\n", "type": "text"}, {"fileType": "image", "identifier": "1749242188605 - 292.jpg", "name": "9.jpg", "sizeBytes": 77222, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "r/m/qwen2.5-vl-3b-instruct.q4_k_m.gguf"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-06 13:36:30,099 - DEBUG - Raw LLM response: 


2025-06-06 13:36:30,100 - ERROR - No JSON object found in text: 


2025-06-06 13:36:30,105 - ERROR - Failed to parse JSON. Raw response: 


2025-06-06 13:36:30,106 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\a13052540ed9f27eea7d611e9e33293fea9fb4aa584c029e80036f5f857f03de.webp
2025-06-06 13:36:30,108 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 6, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-06 13:36:30,136 - DEBUG - {"call_id": 6, "event": "Received RPC result", "json": {"callId": 6, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-06 13:36:30,136 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749242190116 - 342.webp",
  "name": "a13052540ed9f27eea7d611e9e33293fea9fb4aa584c029e80036f5f857f03de.webp",
  "sizeBytes": 231480,
  "type": "file"
})
2025-06-06 13:36:30,137 - DEBUG - Full prompt sent to LLM: Analyze the provided image.
Based on the image content, categorize it into one or more folders.
Your response MUST be a valid JSON object adhering to the following schema:
{
  "type": "object",
  "properties": {
    "folders": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Name of the folder"
          },
          "images": {
            "type": "array",
            "items": {
              "type": "string",
              "description": "Filename of the image"
            }
          }
        },
        "required": [
          "name",
          "images"
        ]
      }
    }
  },
  "required": [
    "folders"
  ]
}

For example, if the image is of a cat, and you want to put it in a "Animals" folder:
{
  "folders": [
    {
      "name": "Animals",
      "images": ["image_filename.jpg"]
    }
  ]
}
If the image is of a sunset over a mountain, and you want to put it in "Nature" and "Landscapes" folders:
{
  "folders": [
    {
      "name": "Nature",
      "images": ["image_filename.jpg"]
    },
    {
      "name": "Landscapes",
      "images": ["image_filename.jpg"]
    }
  ]
}
Ensure the JSON is well-formed and nothing else is included in the response.
The 'images' array should contain only the filename of the image being processed (e.g., "my_image.jpg").

2025-06-06 13:36:30,138 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 7, "creationParameter": {"history": {"messages": [{"content": [{"text": "Analyze the provided image.\nBased on the image content, categorize it into one or more folders.\nYour response MUST be a valid JSON object adhering to the following schema:\n{\n  \"type\": \"object\",\n  \"properties\": {\n    \"folders\": {\n      \"type\": \"array\",\n      \"items\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"name\": {\n            \"type\": \"string\",\n            \"description\": \"Name of the folder\"\n          },\n          \"images\": {\n            \"type\": \"array\",\n            \"items\": {\n              \"type\": \"string\",\n              \"description\": \"Filename of the image\"\n            }\n          }\n        },\n        \"required\": [\n          \"name\",\n          \"images\"\n        ]\n      }\n    }\n  },\n  \"required\": [\n    \"folders\"\n  ]\n}\n\nFor example, if the image is of a cat, and you want to put it in a \"Animals\" folder:\n{\n  \"folders\": [\n    {\n      \"name\": \"Animals\",\n      \"images\": [\"image_filename.jpg\"]\n    }\n  ]\n}\nIf the image is of a sunset over a mountain, and you want to put it in \"Nature\" and \"Landscapes\" folders:\n{\n  \"folders\": [\n    {\n      \"name\": \"Nature\",\n      \"images\": [\"image_filename.jpg\"]\n    },\n    {\n      \"name\": \"Landscapes\",\n      \"images\": [\"image_filename.jpg\"]\n    }\n  ]\n}\nEnsure the JSON is well-formed and nothing else is included in the response.\nThe 'images' array should contain only the filename of the image being processed (e.g., \"my_image.jpg\").\n", "type": "text"}, {"fileType": "image", "identifier": "1749242190116 - 342.webp", "name": "a13052540ed9f27eea7d611e9e33293fea9fb4aa584c029e80036f5f857f03de.webp", "sizeBytes": 231480, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "r/m/qwen2.5-vl-3b-instruct.q4_k_m.gguf"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-06 13:40:53,196 - DEBUG - Using proactor: IocpProactor
2025-06-06 13:40:53,205 - INFO - {"client": "<lmstudio.sync_api.Client object at 0x000001E53FB85D10>", "event": "Websocket handling thread started", "thread_id": "Thread-1"}
2025-06-06 13:40:53,205 - INFO - {"event": "Websocket handling task started", "ws_url": "ws://localhost:1234/llm"}
2025-06-06 13:40:53,481 - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-06-06 13:40:53,738 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001E53F01CB50>
2025-06-06 13:40:53,738 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-06 13:40:53,738 - DEBUG - send_request_headers.complete
2025-06-06 13:40:53,738 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-06 13:40:53,738 - DEBUG - send_request_body.complete
2025-06-06 13:40:53,738 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-06 13:40:53,738 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'JqpObyKK5hvHJJTwCtcIKyJvu2I=')])
2025-06-06 13:40:53,738 - INFO - HTTP Request: GET ws://localhost:1234/llm "HTTP/1.1 101 Switching Protocols"
2025-06-06 13:40:53,739 - DEBUG - {"event": "Websocket connected", "ws_url": "ws://localhost:1234/llm"}
2025-06-06 13:40:53,741 - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "ws_url": "ws://localhost:1234/llm"}
2025-06-06 13:40:53,741 - INFO - {"event": "Websocket session established (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-06-06 13:40:53,741 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "listLoaded", "type": "rpcCall"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-06 13:40:53,743 - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": ["..."], "type": "rpcResult"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-06 13:40:53,744 - INFO - {"event": "Websocket handling task started", "ws_url": "ws://localhost:1234/embedding"}
2025-06-06 13:40:53,966 - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-06-06 13:40:54,219 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001E5424EE450>
2025-06-06 13:40:54,219 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-06 13:40:54,219 - DEBUG - send_request_headers.complete
2025-06-06 13:40:54,219 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-06 13:40:54,219 - DEBUG - send_request_body.complete
2025-06-06 13:40:54,219 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-06 13:40:54,220 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'szUaSghQ9g7l8APO+rk7l08Wzwo=')])
2025-06-06 13:40:54,220 - INFO - HTTP Request: GET ws://localhost:1234/embedding "HTTP/1.1 101 Switching Protocols"
2025-06-06 13:40:54,220 - DEBUG - {"event": "Websocket connected", "ws_url": "ws://localhost:1234/embedding"}
2025-06-06 13:40:54,221 - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "ws_url": "ws://localhost:1234/embedding"}
2025-06-06 13:40:54,221 - INFO - {"event": "Websocket session established (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-06-06 13:40:54,221 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "listLoaded", "type": "rpcCall"}, "ws_url": "ws://localhost:1234/embedding"}
2025-06-06 13:40:54,223 - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": ["..."], "type": "rpcResult"}, "ws_url": "ws://localhost:1234/embedding"}
2025-06-06 13:40:54,226 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 1, "creationParameter": {"identifier": "r/m/qwen2.5-vl-3b-instruct.q4_k_m.gguf", "loadConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}, "loadTtlMs": 3600000}, "endpoint": "getOrLoad", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-06 13:40:54,228 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\2010-11-21-full-moon-1000.png
2025-06-06 13:40:54,231 - INFO - {"event": "Websocket handling task started", "ws_url": "ws://localhost:1234/files"}
2025-06-06 13:40:54,453 - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-06-06 13:40:54,705 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001E542502510>
2025-06-06 13:40:54,705 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-06 13:40:54,706 - DEBUG - send_request_headers.complete
2025-06-06 13:40:54,706 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-06 13:40:54,706 - DEBUG - send_request_body.complete
2025-06-06 13:40:54,706 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-06 13:40:54,708 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'Kw4yq44e4ExdQsZ+JM6Nk9YcDcc=')])
2025-06-06 13:40:54,709 - INFO - HTTP Request: GET ws://localhost:1234/files "HTTP/1.1 101 Switching Protocols"
2025-06-06 13:40:54,709 - DEBUG - {"event": "Websocket connected", "ws_url": "ws://localhost:1234/files"}
2025-06-06 13:40:54,710 - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "ws_url": "ws://localhost:1234/files"}
2025-06-06 13:40:54,710 - INFO - {"event": "Websocket session established (ws://localhost:1234/files)", "ws_url": "ws://localhost:1234/files"}
2025-06-06 13:40:54,710 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-06 13:40:54,724 - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-06 13:40:54,725 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749242454715 - 305.png",
  "name": "2010-11-21-full-moon-1000.png",
  "sizeBytes": 303022,
  "type": "file"
})
2025-06-06 13:40:54,725 - DEBUG - Full prompt sent to LLM: Analyze the provided image.
Describe its content in detail.
Suggest a single, concise category for the image.
Your response MUST be a valid JSON object with two keys: 'description' (string) and 'category' (string).
Example: {'description': 'A serene forest with tall trees and a clear stream.', 'category': 'Forest'}
Ensure the JSON is well-formed and nothing else is included in the response.

2025-06-06 13:40:54,727 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 2, "creationParameter": {"history": {"messages": [{"content": [{"text": "Analyze the provided image.\nDescribe its content in detail.\nSuggest a single, concise category for the image.\nYour response MUST be a valid JSON object with two keys: 'description' (string) and 'category' (string).\nExample: {'description': 'A serene forest with tall trees and a clear stream.', 'category': 'Forest'}\nEnsure the JSON is well-formed and nothing else is included in the response.\n", "type": "text"}, {"fileType": "image", "identifier": "1749242454715 - 305.png", "name": "2010-11-21-full-moon-1000.png", "sizeBytes": 303022, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "r/m/qwen2.5-vl-3b-instruct.q4_k_m.gguf"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-06 13:40:56,070 - DEBUG - Raw LLM response: 
2025-06-06 13:40:56,070 - ERROR - No JSON object found in text: 
2025-06-06 13:40:56,071 - ERROR - Failed to parse JSON. Raw response: 
2025-06-06 13:40:56,071 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\21663397742_10c834c71e_c.jpg
2025-06-06 13:40:56,072 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 2, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-06 13:40:56,080 - DEBUG - {"call_id": 2, "event": "Received RPC result", "json": {"callId": 2, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-06 13:40:56,080 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749242456076 - 184.jpg",
  "name": "21663397742_10c834c71e_c.jpg",
  "sizeBytes": 189014,
  "type": "file"
})
2025-06-06 13:40:56,082 - DEBUG - Full prompt sent to LLM: Analyze the provided image.
Describe its content in detail.
Suggest a single, concise category for the image.
Your response MUST be a valid JSON object with two keys: 'description' (string) and 'category' (string).
Example: {'description': 'A serene forest with tall trees and a clear stream.', 'category': 'Forest'}
Ensure the JSON is well-formed and nothing else is included in the response.

2025-06-06 13:40:56,082 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 3, "creationParameter": {"history": {"messages": [{"content": [{"text": "Analyze the provided image.\nDescribe its content in detail.\nSuggest a single, concise category for the image.\nYour response MUST be a valid JSON object with two keys: 'description' (string) and 'category' (string).\nExample: {'description': 'A serene forest with tall trees and a clear stream.', 'category': 'Forest'}\nEnsure the JSON is well-formed and nothing else is included in the response.\n", "type": "text"}, {"fileType": "image", "identifier": "1749242456076 - 184.jpg", "name": "21663397742_10c834c71e_c.jpg", "sizeBytes": 189014, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "r/m/qwen2.5-vl-3b-instruct.q4_k_m.gguf"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-06 13:45:24,084 - DEBUG - Using proactor: IocpProactor
2025-06-06 13:45:24,090 - INFO - {"client": "<lmstudio.sync_api.Client object at 0x000002B604976550>", "event": "Websocket handling thread started", "thread_id": "Thread-1"}
2025-06-06 13:45:24,090 - INFO - {"event": "Websocket handling task started", "ws_url": "ws://localhost:1234/llm"}
2025-06-06 13:45:24,319 - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-06-06 13:45:24,578 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002B603DD32D0>
2025-06-06 13:45:24,578 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-06 13:45:24,578 - DEBUG - send_request_headers.complete
2025-06-06 13:45:24,578 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-06 13:45:24,579 - DEBUG - send_request_body.complete
2025-06-06 13:45:24,579 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-06 13:45:24,579 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'fd+QGnEVrzzrmFJcC74hReHCW6k=')])
2025-06-06 13:45:24,579 - INFO - HTTP Request: GET ws://localhost:1234/llm "HTTP/1.1 101 Switching Protocols"
2025-06-06 13:45:24,580 - DEBUG - {"event": "Websocket connected", "ws_url": "ws://localhost:1234/llm"}
2025-06-06 13:45:24,581 - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "ws_url": "ws://localhost:1234/llm"}
2025-06-06 13:45:24,581 - INFO - {"event": "Websocket session established (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-06-06 13:45:24,581 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "listLoaded", "type": "rpcCall"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-06 13:45:24,583 - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": ["..."], "type": "rpcResult"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-06 13:45:24,584 - INFO - {"event": "Websocket handling task started", "ws_url": "ws://localhost:1234/embedding"}
2025-06-06 13:45:24,793 - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-06-06 13:45:25,045 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002B60A54AE90>
2025-06-06 13:45:25,046 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-06 13:45:25,046 - DEBUG - send_request_headers.complete
2025-06-06 13:45:25,046 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-06 13:45:25,046 - DEBUG - send_request_body.complete
2025-06-06 13:45:25,046 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-06 13:45:25,046 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'6aMAr8QTPl3mRL5FZsb11X7PU+s=')])
2025-06-06 13:45:25,047 - INFO - HTTP Request: GET ws://localhost:1234/embedding "HTTP/1.1 101 Switching Protocols"
2025-06-06 13:45:25,047 - DEBUG - {"event": "Websocket connected", "ws_url": "ws://localhost:1234/embedding"}
2025-06-06 13:45:25,048 - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "ws_url": "ws://localhost:1234/embedding"}
2025-06-06 13:45:25,048 - INFO - {"event": "Websocket session established (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-06-06 13:45:25,048 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "listLoaded", "type": "rpcCall"}, "ws_url": "ws://localhost:1234/embedding"}
2025-06-06 13:45:25,050 - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": ["..."], "type": "rpcResult"}, "ws_url": "ws://localhost:1234/embedding"}
2025-06-06 13:45:25,052 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 1, "creationParameter": {"identifier": "r/m/qwen2.5-vl-3b-instruct.q4_k_m.gguf", "loadConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}, "loadTtlMs": 3600000}, "endpoint": "getOrLoad", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-06 13:45:25,055 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\2010-11-21-full-moon-1000.png
2025-06-06 13:45:25,058 - INFO - {"event": "Websocket handling task started", "ws_url": "ws://localhost:1234/files"}
2025-06-06 13:45:25,260 - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-06-06 13:45:25,513 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002B60A552F10>
2025-06-06 13:45:25,514 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-06 13:45:25,514 - DEBUG - send_request_headers.complete
2025-06-06 13:45:25,515 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-06 13:45:25,515 - DEBUG - send_request_body.complete
2025-06-06 13:45:25,515 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-06 13:45:25,516 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'g2zx5oqpp96MjCspq+rJxjANaF8=')])
2025-06-06 13:45:25,516 - INFO - HTTP Request: GET ws://localhost:1234/files "HTTP/1.1 101 Switching Protocols"
2025-06-06 13:45:25,516 - DEBUG - {"event": "Websocket connected", "ws_url": "ws://localhost:1234/files"}
2025-06-06 13:45:25,517 - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "ws_url": "ws://localhost:1234/files"}
2025-06-06 13:45:25,517 - INFO - {"event": "Websocket session established (ws://localhost:1234/files)", "ws_url": "ws://localhost:1234/files"}
2025-06-06 13:45:25,518 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-06 13:45:25,531 - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-06 13:45:25,531 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749242725524 - 55.png",
  "name": "2010-11-21-full-moon-1000.png",
  "sizeBytes": 303022,
  "type": "file"
})
2025-06-06 13:45:25,532 - DEBUG - Full prompt sent to LLM: Categorize the image into one or more folders.
Respond ONLY with a JSON object: {"folders": [{"name": "Folder Name", "images": ["image_filename.jpg"]}]}.
Include only the filename of the image being processed in the 'images' array.

2025-06-06 13:45:25,533 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 2, "creationParameter": {"history": {"messages": [{"content": [{"text": "Categorize the image into one or more folders.\nRespond ONLY with a JSON object: {\"folders\": [{\"name\": \"Folder Name\", \"images\": [\"image_filename.jpg\"]}]}.\nInclude only the filename of the image being processed in the 'images' array.\n", "type": "text"}, {"fileType": "image", "identifier": "1749242725524 - 55.png", "name": "2010-11-21-full-moon-1000.png", "sizeBytes": 303022, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "r/m/qwen2.5-vl-3b-instruct.q4_k_m.gguf"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-06 13:45:26,777 - DEBUG - Raw LLM response: 
2025-06-06 13:45:26,778 - DEBUG - Attempting to extract JSON from text: 
2025-06-06 13:45:26,778 - ERROR - No JSON object found in text: 
2025-06-06 13:45:26,779 - ERROR - Failed to parse JSON. Raw response content: 
2025-06-06 13:45:26,779 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\21663397742_10c834c71e_c.jpg
2025-06-06 13:45:26,780 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 2, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-06 13:45:26,789 - DEBUG - {"call_id": 2, "event": "Received RPC result", "json": {"callId": 2, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-06 13:45:26,790 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749242726783 - 780.jpg",
  "name": "21663397742_10c834c71e_c.jpg",
  "sizeBytes": 189014,
  "type": "file"
})
2025-06-06 13:45:26,790 - DEBUG - Full prompt sent to LLM: Categorize the image into one or more folders.
Respond ONLY with a JSON object: {"folders": [{"name": "Folder Name", "images": ["image_filename.jpg"]}]}.
Include only the filename of the image being processed in the 'images' array.

2025-06-06 13:45:26,790 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 3, "creationParameter": {"history": {"messages": [{"content": [{"text": "Categorize the image into one or more folders.\nRespond ONLY with a JSON object: {\"folders\": [{\"name\": \"Folder Name\", \"images\": [\"image_filename.jpg\"]}]}.\nInclude only the filename of the image being processed in the 'images' array.\n", "type": "text"}, {"fileType": "image", "identifier": "1749242726783 - 780.jpg", "name": "21663397742_10c834c71e_c.jpg", "sizeBytes": 189014, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "r/m/qwen2.5-vl-3b-instruct.q4_k_m.gguf"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-06 20:16:03,924 - DEBUG - Checking None for explicit credentials as part of auth process...
2025-06-06 20:16:03,924 - DEBUG - Checking Cloud SDK credentials as part of auth process...
2025-06-06 20:16:03,924 - DEBUG - Cloud SDK credentials not found on disk; not using them
2025-06-06 20:16:03,930 - DEBUG - Making request: GET http://169.254.169.254
2025-06-06 20:16:06,931 - WARNING - Compute Engine Metadata server unavailable on attempt 1 of 3. Reason: timed out
2025-06-06 20:16:07,837 - DEBUG - Making request: GET http://169.254.169.254
2025-06-06 20:16:10,838 - WARNING - Compute Engine Metadata server unavailable on attempt 2 of 3. Reason: timed out
2025-06-06 20:16:12,771 - DEBUG - Making request: GET http://169.254.169.254
2025-06-06 20:16:15,772 - WARNING - Compute Engine Metadata server unavailable on attempt 3 of 3. Reason: timed out
2025-06-06 20:16:15,772 - WARNING - Authentication failed using Compute Engine authentication due to unavailable metadata server.
2025-06-06 20:24:59,417 - DEBUG - Using proactor: IocpProactor
2025-06-06 20:24:59,428 - INFO - {"client": "<lmstudio.sync_api.Client object at 0x000002159B535F10>", "event": "Websocket handling thread started", "thread_id": "Thread-1"}
2025-06-06 20:24:59,428 - INFO - {"event": "Websocket handling task started", "ws_url": "ws://localhost:1234/llm"}
2025-06-06 20:24:59,603 - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-06-06 20:24:59,859 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002159E42ED10>
2025-06-06 20:24:59,860 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-06 20:24:59,860 - DEBUG - send_request_headers.complete
2025-06-06 20:24:59,860 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-06 20:24:59,861 - DEBUG - send_request_body.complete
2025-06-06 20:24:59,861 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-06 20:24:59,881 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'ovVLAdNRAgv+YI2eQghnp4j5HtA=')])
2025-06-06 20:24:59,881 - INFO - HTTP Request: GET ws://localhost:1234/llm "HTTP/1.1 101 Switching Protocols"
2025-06-06 20:24:59,881 - DEBUG - {"event": "Websocket connected", "ws_url": "ws://localhost:1234/llm"}
2025-06-06 20:24:59,893 - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "ws_url": "ws://localhost:1234/llm"}
2025-06-06 20:24:59,893 - INFO - {"event": "Websocket session established (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-06-06 20:24:59,893 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "listLoaded", "type": "rpcCall"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-06 20:24:59,898 - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": ["..."], "type": "rpcResult"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-06 20:24:59,898 - INFO - {"event": "Websocket handling task started", "ws_url": "ws://localhost:1234/embedding"}
2025-06-06 20:25:00,067 - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-06-06 20:25:00,320 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002159E43AA50>
2025-06-06 20:25:00,320 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-06 20:25:00,320 - DEBUG - send_request_headers.complete
2025-06-06 20:25:00,320 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-06 20:25:00,320 - DEBUG - send_request_body.complete
2025-06-06 20:25:00,320 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-06 20:25:00,322 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'ljDQvByuOyYY41EWZ6CzxB7RxmY=')])
2025-06-06 20:25:00,322 - INFO - HTTP Request: GET ws://localhost:1234/embedding "HTTP/1.1 101 Switching Protocols"
2025-06-06 20:25:00,322 - DEBUG - {"event": "Websocket connected", "ws_url": "ws://localhost:1234/embedding"}
2025-06-06 20:25:00,323 - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "ws_url": "ws://localhost:1234/embedding"}
2025-06-06 20:25:00,323 - INFO - {"event": "Websocket session established (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-06-06 20:25:00,324 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "listLoaded", "type": "rpcCall"}, "ws_url": "ws://localhost:1234/embedding"}
2025-06-06 20:25:00,326 - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": ["..."], "type": "rpcResult"}, "ws_url": "ws://localhost:1234/embedding"}
2025-06-06 20:25:00,327 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 1, "creationParameter": {"identifier": "r/m/qwen2.5-vl-3b-instruct.q4_k_m.gguf:2", "loadConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}, "loadTtlMs": 3600000}, "endpoint": "getOrLoad", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-06 20:25:00,331 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\2010-11-21-full-moon-1000.png
2025-06-06 20:25:00,340 - INFO - {"event": "Websocket handling task started", "ws_url": "ws://localhost:1234/files"}
2025-06-06 20:25:00,513 - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-06-06 20:25:00,766 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002159E442AD0>
2025-06-06 20:25:00,767 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-06 20:25:00,767 - DEBUG - send_request_headers.complete
2025-06-06 20:25:00,768 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-06 20:25:00,768 - DEBUG - send_request_body.complete
2025-06-06 20:25:00,768 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-06 20:25:00,768 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'zibSBVx30W+IK7CgJlZAqe6Zv88=')])
2025-06-06 20:25:00,768 - INFO - HTTP Request: GET ws://localhost:1234/files "HTTP/1.1 101 Switching Protocols"
2025-06-06 20:25:00,769 - DEBUG - {"event": "Websocket connected", "ws_url": "ws://localhost:1234/files"}
2025-06-06 20:25:00,770 - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "ws_url": "ws://localhost:1234/files"}
2025-06-06 20:25:00,771 - INFO - {"event": "Websocket session established (ws://localhost:1234/files)", "ws_url": "ws://localhost:1234/files"}
2025-06-06 20:25:00,771 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-06 20:25:00,787 - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-06 20:25:00,787 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749266700778 - 850.png",
  "name": "2010-11-21-full-moon-1000.png",
  "sizeBytes": 303022,
  "type": "file"
})
2025-06-06 20:25:00,788 - DEBUG - Full prompt sent to LLM: Categorize the image into one or more folders.
Respond ONLY with a JSON object: {"folders": [{"name": "Folder Name", "images": ["image_filename.jpg"]}]}.
Include only the filename of the image being processed in the 'images' array.

2025-06-06 20:25:00,790 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 2, "creationParameter": {"history": {"messages": [{"content": [{"text": "Categorize the image into one or more folders.\nRespond ONLY with a JSON object: {\"folders\": [{\"name\": \"Folder Name\", \"images\": [\"image_filename.jpg\"]}]}.\nInclude only the filename of the image being processed in the 'images' array.\n", "type": "text"}, {"fileType": "image", "identifier": "1749266700778 - 850.png", "name": "2010-11-21-full-moon-1000.png", "sizeBytes": 303022, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "r/m/qwen2.5-vl-3b-instruct.q4_k_m.gguf:2"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": [{"key": "llm.prediction.structured", "value": {"jsonSchema": {"$defs": {"Folder": {"properties": {"images": {"items": {"type": "string"}, "type": "array"}, "name": {"type": "string"}}, "required": ["name", "images"], "title": "Folder", "type": "object"}}, "properties": {"folders": {"items": {"$ref": "#/$defs/Folder"}, "type": "array"}}, "required": ["folders"], "title": "ImageOrganizationSchema", "type": "object"}, "type": "json"}}]}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-06 20:25:34,989 - DEBUG - Raw LLM response: {
  "folders": [
    {
      "images": [
        "  -  -  -  -  -   - -  -  -  - -  -  -  -  -  -  -\n\n - -  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - 19 ",
        "pages{",
        "First Name: "
      ],
      "name": "The  - - - - "
    },
    {
      "images": [
        " - - - - - - - - - First usefu - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  -\n - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  -\n\n\n\n\n\n\n\n\n\n - First - - - 190\n - First of Image -First / - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - ",
        " -First name -,First - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -First Person - - - First, - -First Nations",
        "name - - First of One stop Animalit\u00e9sources\n - First Nations\n - "
      ],
      "name": ", "
    }
  ]
}
2025-06-06 20:25:34,997 - ERROR - LLM response was not a valid ImageOrganizationSchema instance. Raw response: {
  "folders": [
    {
      "images": [
        "  -  -  -  -  -   - -  -  -  - -  -  -  -  -  -  -\n\n - -  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - 19 ",
        "pages{",
        "First Name: "
      ],
      "name": "The  - - - - "
    },
    {
      "images": [
        " - - - - - - - - - First usefu - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  -\n - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  -\n\n\n\n\n\n\n\n\n\n - First - - - 190\n - First of Image -First / - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - ",
        " -First name -,First - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -First Person - - - First, - -First Nations",
        "name - - First of One stop Animalit\u00e9sources\n - First Nations\n - "
      ],
      "name": ", "
    }
  ]
}
2025-06-06 20:25:34,997 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\21663397742_10c834c71e_c.jpg
2025-06-06 20:25:34,998 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 2, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-06 20:25:35,013 - DEBUG - {"call_id": 2, "event": "Received RPC result", "json": {"callId": 2, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-06 20:25:35,013 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749266735004 - 479.jpg",
  "name": "21663397742_10c834c71e_c.jpg",
  "sizeBytes": 189014,
  "type": "file"
})
2025-06-06 20:25:35,013 - DEBUG - Full prompt sent to LLM: Categorize the image into one or more folders.
Respond ONLY with a JSON object: {"folders": [{"name": "Folder Name", "images": ["image_filename.jpg"]}]}.
Include only the filename of the image being processed in the 'images' array.

2025-06-06 20:25:35,014 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 3, "creationParameter": {"history": {"messages": [{"content": [{"text": "Categorize the image into one or more folders.\nRespond ONLY with a JSON object: {\"folders\": [{\"name\": \"Folder Name\", \"images\": [\"image_filename.jpg\"]}]}.\nInclude only the filename of the image being processed in the 'images' array.\n", "type": "text"}, {"fileType": "image", "identifier": "1749266735004 - 479.jpg", "name": "21663397742_10c834c71e_c.jpg", "sizeBytes": 189014, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "r/m/qwen2.5-vl-3b-instruct.q4_k_m.gguf:2"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": [{"key": "llm.prediction.structured", "value": {"jsonSchema": {"$defs": {"Folder": {"properties": {"images": {"items": {"type": "string"}, "type": "array"}, "name": {"type": "string"}}, "required": ["name", "images"], "title": "Folder", "type": "object"}}, "properties": {"folders": {"items": {"$ref": "#/$defs/Folder"}, "type": "array"}}, "required": ["folders"], "title": "ImageOrganizationSchema", "type": "object"}, "type": "json"}}]}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-06 20:25:39,250 - DEBUG - Raw LLM response: {
  "folders": []
}
2025-06-06 20:25:39,253 - ERROR - LLM response was not a valid ImageOrganizationSchema instance. Raw response: {
  "folders": []
}
2025-06-06 20:25:39,253 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\3.jpg
2025-06-06 20:25:39,254 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 3, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-06 20:25:39,282 - DEBUG - {"call_id": 3, "event": "Received RPC result", "json": {"callId": 3, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-06 20:25:39,282 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749266739258 - 207.jpg",
  "name": "3.jpg",
  "sizeBytes": 16659,
  "type": "file"
})
2025-06-06 20:25:39,282 - DEBUG - Full prompt sent to LLM: Categorize the image into one or more folders.
Respond ONLY with a JSON object: {"folders": [{"name": "Folder Name", "images": ["image_filename.jpg"]}]}.
Include only the filename of the image being processed in the 'images' array.

2025-06-06 20:25:39,283 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 4, "creationParameter": {"history": {"messages": [{"content": [{"text": "Categorize the image into one or more folders.\nRespond ONLY with a JSON object: {\"folders\": [{\"name\": \"Folder Name\", \"images\": [\"image_filename.jpg\"]}]}.\nInclude only the filename of the image being processed in the 'images' array.\n", "type": "text"}, {"fileType": "image", "identifier": "1749266739258 - 207.jpg", "name": "3.jpg", "sizeBytes": 16659, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "r/m/qwen2.5-vl-3b-instruct.q4_k_m.gguf:2"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": [{"key": "llm.prediction.structured", "value": {"jsonSchema": {"$defs": {"Folder": {"properties": {"images": {"items": {"type": "string"}, "type": "array"}, "name": {"type": "string"}}, "required": ["name", "images"], "title": "Folder", "type": "object"}}, "properties": {"folders": {"items": {"$ref": "#/$defs/Folder"}, "type": "array"}}, "required": ["folders"], "title": "ImageOrganizationSchema", "type": "object"}, "type": "json"}}]}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-06 20:25:43,855 - DEBUG - Raw LLM response: {
  "folders": []
}
2025-06-06 20:25:43,859 - ERROR - LLM response was not a valid ImageOrganizationSchema instance. Raw response: {
  "folders": []
}
2025-06-06 20:25:43,859 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\56ba49e41a00002d00ab2507.jpeg
2025-06-06 20:25:43,860 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 4, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-06 20:25:43,868 - DEBUG - {"call_id": 4, "event": "Received RPC result", "json": {"callId": 4, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-06 20:25:43,868 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749266743863 - 415.jpeg",
  "name": "56ba49e41a00002d00ab2507.jpeg",
  "sizeBytes": 42576,
  "type": "file"
})
2025-06-06 20:25:43,869 - DEBUG - Full prompt sent to LLM: Categorize the image into one or more folders.
Respond ONLY with a JSON object: {"folders": [{"name": "Folder Name", "images": ["image_filename.jpg"]}]}.
Include only the filename of the image being processed in the 'images' array.

2025-06-06 20:25:43,869 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 5, "creationParameter": {"history": {"messages": [{"content": [{"text": "Categorize the image into one or more folders.\nRespond ONLY with a JSON object: {\"folders\": [{\"name\": \"Folder Name\", \"images\": [\"image_filename.jpg\"]}]}.\nInclude only the filename of the image being processed in the 'images' array.\n", "type": "text"}, {"fileType": "image", "identifier": "1749266743863 - 415.jpeg", "name": "56ba49e41a00002d00ab2507.jpeg", "sizeBytes": 42576, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "r/m/qwen2.5-vl-3b-instruct.q4_k_m.gguf:2"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": [{"key": "llm.prediction.structured", "value": {"jsonSchema": {"$defs": {"Folder": {"properties": {"images": {"items": {"type": "string"}, "type": "array"}, "name": {"type": "string"}}, "required": ["name", "images"], "title": "Folder", "type": "object"}}, "properties": {"folders": {"items": {"$ref": "#/$defs/Folder"}, "type": "array"}}, "required": ["folders"], "title": "ImageOrganizationSchema", "type": "object"}, "type": "json"}}]}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-06 20:25:47,033 - DEBUG - Raw LLM response: {
  "folders": []
}
2025-06-06 20:25:47,036 - ERROR - LLM response was not a valid ImageOrganizationSchema instance. Raw response: {
  "folders": []
}
2025-06-06 20:25:47,037 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\9.jpg
2025-06-06 20:25:47,038 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 5, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-06 20:25:47,051 - DEBUG - {"call_id": 5, "event": "Received RPC result", "json": {"callId": 5, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-06 20:25:47,051 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749266747042 - 175.jpg",
  "name": "9.jpg",
  "sizeBytes": 77222,
  "type": "file"
})
2025-06-06 20:25:47,051 - DEBUG - Full prompt sent to LLM: Categorize the image into one or more folders.
Respond ONLY with a JSON object: {"folders": [{"name": "Folder Name", "images": ["image_filename.jpg"]}]}.
Include only the filename of the image being processed in the 'images' array.

2025-06-06 20:25:47,052 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 6, "creationParameter": {"history": {"messages": [{"content": [{"text": "Categorize the image into one or more folders.\nRespond ONLY with a JSON object: {\"folders\": [{\"name\": \"Folder Name\", \"images\": [\"image_filename.jpg\"]}]}.\nInclude only the filename of the image being processed in the 'images' array.\n", "type": "text"}, {"fileType": "image", "identifier": "1749266747042 - 175.jpg", "name": "9.jpg", "sizeBytes": 77222, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "r/m/qwen2.5-vl-3b-instruct.q4_k_m.gguf:2"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": [{"key": "llm.prediction.structured", "value": {"jsonSchema": {"$defs": {"Folder": {"properties": {"images": {"items": {"type": "string"}, "type": "array"}, "name": {"type": "string"}}, "required": ["name", "images"], "title": "Folder", "type": "object"}}, "properties": {"folders": {"items": {"$ref": "#/$defs/Folder"}, "type": "array"}}, "required": ["folders"], "title": "ImageOrganizationSchema", "type": "object"}, "type": "json"}}]}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-06 20:25:50,046 - DEBUG - Raw LLM response: {
  "folders": []
}
2025-06-06 20:25:50,048 - ERROR - LLM response was not a valid ImageOrganizationSchema instance. Raw response: {
  "folders": []
}
2025-06-06 20:25:50,048 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\a13052540ed9f27eea7d611e9e33293fea9fb4aa584c029e80036f5f857f03de.webp
2025-06-06 20:25:50,050 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 6, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-06 20:25:50,068 - DEBUG - {"call_id": 6, "event": "Received RPC result", "json": {"callId": 6, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-06 20:25:50,069 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749266750058 - 33.webp",
  "name": "a13052540ed9f27eea7d611e9e33293fea9fb4aa584c029e80036f5f857f03de.webp",
  "sizeBytes": 231480,
  "type": "file"
})
2025-06-06 20:25:50,069 - DEBUG - Full prompt sent to LLM: Categorize the image into one or more folders.
Respond ONLY with a JSON object: {"folders": [{"name": "Folder Name", "images": ["image_filename.jpg"]}]}.
Include only the filename of the image being processed in the 'images' array.

2025-06-06 20:25:50,070 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 7, "creationParameter": {"history": {"messages": [{"content": [{"text": "Categorize the image into one or more folders.\nRespond ONLY with a JSON object: {\"folders\": [{\"name\": \"Folder Name\", \"images\": [\"image_filename.jpg\"]}]}.\nInclude only the filename of the image being processed in the 'images' array.\n", "type": "text"}, {"fileType": "image", "identifier": "1749266750058 - 33.webp", "name": "a13052540ed9f27eea7d611e9e33293fea9fb4aa584c029e80036f5f857f03de.webp", "sizeBytes": 231480, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "r/m/qwen2.5-vl-3b-instruct.q4_k_m.gguf:2"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": [{"key": "llm.prediction.structured", "value": {"jsonSchema": {"$defs": {"Folder": {"properties": {"images": {"items": {"type": "string"}, "type": "array"}, "name": {"type": "string"}}, "required": ["name", "images"], "title": "Folder", "type": "object"}}, "properties": {"folders": {"items": {"$ref": "#/$defs/Folder"}, "type": "array"}}, "required": ["folders"], "title": "ImageOrganizationSchema", "type": "object"}, "type": "json"}}]}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-06 20:25:53,839 - DEBUG - Raw LLM response: {
  "folders": []
}
2025-06-06 20:25:53,843 - ERROR - LLM response was not a valid ImageOrganizationSchema instance. Raw response: {
  "folders": []
}
2025-06-06 20:25:53,843 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\A1897E5E85B488FDE84BB77AE42E97B7778AE8CAC745860766931D266FDE4FE0.jpg
2025-06-06 20:25:53,843 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 7, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-06 20:25:53,853 - DEBUG - {"call_id": 7, "event": "Received RPC result", "json": {"callId": 7, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-06 20:25:53,853 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749266753847 - 208.jpg",
  "name": "A1897E5E85B488FDE84BB77AE42E97B7778AE8CAC745860766931D266FDE4FE0.jpg",
  "sizeBytes": 50344,
  "type": "file"
})
2025-06-06 20:25:53,853 - DEBUG - Full prompt sent to LLM: Categorize the image into one or more folders.
Respond ONLY with a JSON object: {"folders": [{"name": "Folder Name", "images": ["image_filename.jpg"]}]}.
Include only the filename of the image being processed in the 'images' array.

2025-06-06 20:25:53,854 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 8, "creationParameter": {"history": {"messages": [{"content": [{"text": "Categorize the image into one or more folders.\nRespond ONLY with a JSON object: {\"folders\": [{\"name\": \"Folder Name\", \"images\": [\"image_filename.jpg\"]}]}.\nInclude only the filename of the image being processed in the 'images' array.\n", "type": "text"}, {"fileType": "image", "identifier": "1749266753847 - 208.jpg", "name": "A1897E5E85B488FDE84BB77AE42E97B7778AE8CAC745860766931D266FDE4FE0.jpg", "sizeBytes": 50344, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "r/m/qwen2.5-vl-3b-instruct.q4_k_m.gguf:2"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": [{"key": "llm.prediction.structured", "value": {"jsonSchema": {"$defs": {"Folder": {"properties": {"images": {"items": {"type": "string"}, "type": "array"}, "name": {"type": "string"}}, "required": ["name", "images"], "title": "Folder", "type": "object"}}, "properties": {"folders": {"items": {"$ref": "#/$defs/Folder"}, "type": "array"}}, "required": ["folders"], "title": "ImageOrganizationSchema", "type": "object"}, "type": "json"}}]}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-06 20:25:59,178 - DEBUG - Raw LLM response: {
  "folders": []
}
2025-06-06 20:25:59,182 - ERROR - LLM response was not a valid ImageOrganizationSchema instance. Raw response: {
  "folders": []
}
2025-06-06 20:25:59,182 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\Amazing-StonesMinerals6__880.jpg
2025-06-06 20:25:59,183 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 8, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-06 20:25:59,195 - DEBUG - {"call_id": 8, "event": "Received RPC result", "json": {"callId": 8, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-06 20:25:59,196 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749266759189 - 816.jpg",
  "name": "Amazing-StonesMinerals6__880.jpg",
  "sizeBytes": 128783,
  "type": "file"
})
2025-06-06 20:25:59,196 - DEBUG - Full prompt sent to LLM: Categorize the image into one or more folders.
Respond ONLY with a JSON object: {"folders": [{"name": "Folder Name", "images": ["image_filename.jpg"]}]}.
Include only the filename of the image being processed in the 'images' array.

2025-06-06 20:25:59,196 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 9, "creationParameter": {"history": {"messages": [{"content": [{"text": "Categorize the image into one or more folders.\nRespond ONLY with a JSON object: {\"folders\": [{\"name\": \"Folder Name\", \"images\": [\"image_filename.jpg\"]}]}.\nInclude only the filename of the image being processed in the 'images' array.\n", "type": "text"}, {"fileType": "image", "identifier": "1749266759189 - 816.jpg", "name": "Amazing-StonesMinerals6__880.jpg", "sizeBytes": 128783, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "r/m/qwen2.5-vl-3b-instruct.q4_k_m.gguf:2"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": [{"key": "llm.prediction.structured", "value": {"jsonSchema": {"$defs": {"Folder": {"properties": {"images": {"items": {"type": "string"}, "type": "array"}, "name": {"type": "string"}}, "required": ["name", "images"], "title": "Folder", "type": "object"}}, "properties": {"folders": {"items": {"$ref": "#/$defs/Folder"}, "type": "array"}}, "required": ["folders"], "title": "ImageOrganizationSchema", "type": "object"}, "type": "json"}}]}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-06 20:26:02,937 - DEBUG - Raw LLM response: {
  "folders": []
}
2025-06-06 20:26:02,940 - ERROR - LLM response was not a valid ImageOrganizationSchema instance. Raw response: {
  "folders": []
}
2025-06-06 20:26:02,940 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\Bing_0056.jpeg
2025-06-06 20:26:02,941 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 9, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-06 20:26:02,953 - DEBUG - {"call_id": 9, "event": "Received RPC result", "json": {"callId": 9, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-06 20:26:02,954 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749266762945 - 604.jpeg",
  "name": "Bing_0056.jpeg",
  "sizeBytes": 88069,
  "type": "file"
})
2025-06-06 20:26:02,954 - DEBUG - Full prompt sent to LLM: Categorize the image into one or more folders.
Respond ONLY with a JSON object: {"folders": [{"name": "Folder Name", "images": ["image_filename.jpg"]}]}.
Include only the filename of the image being processed in the 'images' array.

2025-06-06 20:26:02,954 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 10, "creationParameter": {"history": {"messages": [{"content": [{"text": "Categorize the image into one or more folders.\nRespond ONLY with a JSON object: {\"folders\": [{\"name\": \"Folder Name\", \"images\": [\"image_filename.jpg\"]}]}.\nInclude only the filename of the image being processed in the 'images' array.\n", "type": "text"}, {"fileType": "image", "identifier": "1749266762945 - 604.jpeg", "name": "Bing_0056.jpeg", "sizeBytes": 88069, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "r/m/qwen2.5-vl-3b-instruct.q4_k_m.gguf:2"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": [{"key": "llm.prediction.structured", "value": {"jsonSchema": {"$defs": {"Folder": {"properties": {"images": {"items": {"type": "string"}, "type": "array"}, "name": {"type": "string"}}, "required": ["name", "images"], "title": "Folder", "type": "object"}}, "properties": {"folders": {"items": {"$ref": "#/$defs/Folder"}, "type": "array"}}, "required": ["folders"], "title": "ImageOrganizationSchema", "type": "object"}, "type": "json"}}]}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-06 20:26:05,850 - DEBUG - Raw LLM response: {
  "folders": []
}
2025-06-06 20:26:05,854 - ERROR - LLM response was not a valid ImageOrganizationSchema instance. Raw response: {
  "folders": []
}
2025-06-06 20:26:05,854 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\NavalSquare.jpg
2025-06-06 20:26:05,855 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 10, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-06 20:26:05,862 - DEBUG - {"call_id": 10, "event": "Received RPC result", "json": {"callId": 10, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-06 20:26:05,863 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749266765857 - 74.jpg",
  "name": "NavalSquare.jpg",
  "sizeBytes": 45352,
  "type": "file"
})
2025-06-06 20:26:05,863 - DEBUG - Full prompt sent to LLM: Categorize the image into one or more folders.
Respond ONLY with a JSON object: {"folders": [{"name": "Folder Name", "images": ["image_filename.jpg"]}]}.
Include only the filename of the image being processed in the 'images' array.

2025-06-06 20:26:05,863 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 11, "creationParameter": {"history": {"messages": [{"content": [{"text": "Categorize the image into one or more folders.\nRespond ONLY with a JSON object: {\"folders\": [{\"name\": \"Folder Name\", \"images\": [\"image_filename.jpg\"]}]}.\nInclude only the filename of the image being processed in the 'images' array.\n", "type": "text"}, {"fileType": "image", "identifier": "1749266765857 - 74.jpg", "name": "NavalSquare.jpg", "sizeBytes": 45352, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "r/m/qwen2.5-vl-3b-instruct.q4_k_m.gguf:2"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": [{"key": "llm.prediction.structured", "value": {"jsonSchema": {"$defs": {"Folder": {"properties": {"images": {"items": {"type": "string"}, "type": "array"}, "name": {"type": "string"}}, "required": ["name", "images"], "title": "Folder", "type": "object"}}, "properties": {"folders": {"items": {"$ref": "#/$defs/Folder"}, "type": "array"}}, "required": ["folders"], "title": "ImageOrganizationSchema", "type": "object"}, "type": "json"}}]}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-06 20:26:11,464 - DEBUG - Raw LLM response: {
  "folders": []
}
2025-06-06 20:26:11,467 - ERROR - LLM response was not a valid ImageOrganizationSchema instance. Raw response: {
  "folders": []
}
2025-06-06 20:59:03,103 - DEBUG - Using proactor: IocpProactor
2025-06-06 20:59:03,110 - INFO - {"client": "<lmstudio.sync_api.Client object at 0x000001E59C095DD0>", "event": "Websocket handling thread started", "thread_id": "Thread-1"}
2025-06-06 20:59:03,110 - INFO - {"event": "Websocket handling task started", "ws_url": "ws://localhost:1234/llm"}
2025-06-06 20:59:03,275 - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-06-06 20:59:03,531 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001E59E86EB10>
2025-06-06 20:59:03,533 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-06 20:59:03,533 - DEBUG - send_request_headers.complete
2025-06-06 20:59:03,534 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-06 20:59:03,534 - DEBUG - send_request_body.complete
2025-06-06 20:59:03,534 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-06 20:59:03,534 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'h3ms4C/3hX3ZYg5kG1xm4g1AfnE=')])
2025-06-06 20:59:03,535 - INFO - HTTP Request: GET ws://localhost:1234/llm "HTTP/1.1 101 Switching Protocols"
2025-06-06 20:59:03,536 - DEBUG - {"event": "Websocket connected", "ws_url": "ws://localhost:1234/llm"}
2025-06-06 20:59:03,537 - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "ws_url": "ws://localhost:1234/llm"}
2025-06-06 20:59:03,537 - INFO - {"event": "Websocket session established (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-06-06 20:59:03,538 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "listLoaded", "type": "rpcCall"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-06 20:59:03,540 - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": ["..."], "type": "rpcResult"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-06 20:59:03,540 - INFO - {"event": "Websocket handling task started", "ws_url": "ws://localhost:1234/embedding"}
2025-06-06 20:59:03,707 - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-06-06 20:59:03,959 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001E59E87AC10>
2025-06-06 20:59:03,959 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-06 20:59:03,959 - DEBUG - send_request_headers.complete
2025-06-06 20:59:03,959 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-06 20:59:03,959 - DEBUG - send_request_body.complete
2025-06-06 20:59:03,960 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-06 20:59:03,960 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'pNfxCVndVYKzW0HpWZUJ7gqjTnM=')])
2025-06-06 20:59:03,960 - INFO - HTTP Request: GET ws://localhost:1234/embedding "HTTP/1.1 101 Switching Protocols"
2025-06-06 20:59:03,960 - DEBUG - {"event": "Websocket connected", "ws_url": "ws://localhost:1234/embedding"}
2025-06-06 20:59:03,962 - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "ws_url": "ws://localhost:1234/embedding"}
2025-06-06 20:59:03,962 - INFO - {"event": "Websocket session established (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-06-06 20:59:03,964 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "listLoaded", "type": "rpcCall"}, "ws_url": "ws://localhost:1234/embedding"}
2025-06-06 20:59:03,965 - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": ["..."], "type": "rpcResult"}, "ws_url": "ws://localhost:1234/embedding"}
2025-06-06 20:59:03,967 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 1, "creationParameter": {"identifier": "m@iq3_m", "loadConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}, "loadTtlMs": 3600000}, "endpoint": "getOrLoad", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-06 20:59:03,968 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\2010-11-21-full-moon-1000.png
2025-06-06 20:59:03,971 - INFO - {"event": "Websocket handling task started", "ws_url": "ws://localhost:1234/files"}
2025-06-06 20:59:04,141 - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-06-06 20:59:04,393 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001E59E882E10>
2025-06-06 20:59:04,393 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-06 20:59:04,393 - DEBUG - send_request_headers.complete
2025-06-06 20:59:04,393 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-06 20:59:04,393 - DEBUG - send_request_body.complete
2025-06-06 20:59:04,393 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-06 20:59:04,394 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'XPwNuCp+NFVvonLY368fl080LZA=')])
2025-06-06 20:59:04,394 - INFO - HTTP Request: GET ws://localhost:1234/files "HTTP/1.1 101 Switching Protocols"
2025-06-06 20:59:04,394 - DEBUG - {"event": "Websocket connected", "ws_url": "ws://localhost:1234/files"}
2025-06-06 20:59:04,395 - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "ws_url": "ws://localhost:1234/files"}
2025-06-06 20:59:04,395 - INFO - {"event": "Websocket session established (ws://localhost:1234/files)", "ws_url": "ws://localhost:1234/files"}
2025-06-06 20:59:04,395 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-06 20:59:04,407 - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-06 20:59:04,408 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749268744400 - 684.png",
  "name": "2010-11-21-full-moon-1000.png",
  "sizeBytes": 303022,
  "type": "file"
})
2025-06-06 20:59:04,408 - DEBUG - Full prompt sent to LLM: Categorize the image into one or more folders.
Respond ONLY with a JSON object: {"folders": [{"name": "Folder Name", "images": ["image_filename.jpg"]}]}.
Include only the filename of the image being processed in the 'images' array.

2025-06-06 20:59:04,411 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 2, "creationParameter": {"history": {"messages": [{"content": [{"text": "Categorize the image into one or more folders.\nRespond ONLY with a JSON object: {\"folders\": [{\"name\": \"Folder Name\", \"images\": [\"image_filename.jpg\"]}]}.\nInclude only the filename of the image being processed in the 'images' array.\n", "type": "text"}, {"fileType": "image", "identifier": "1749268744400 - 684.png", "name": "2010-11-21-full-moon-1000.png", "sizeBytes": 303022, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@iq3_m"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": [{"key": "llm.prediction.structured", "value": {"jsonSchema": {"$defs": {"Folder": {"properties": {"images": {"items": {"type": "string"}, "type": "array"}, "name": {"type": "string"}}, "required": ["name", "images"], "title": "Folder", "type": "object"}}, "properties": {"folders": {"items": {"$ref": "#/$defs/Folder"}, "type": "array"}}, "required": ["folders"], "title": "ImageOrganizationSchema", "type": "object"}, "type": "json"}}]}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-06 20:59:09,239 - DEBUG - Raw LLM response: {
  "folders": [
    {
      "images": [],
      "name": "moon"
    }
  ]
}
2025-06-06 20:59:09,240 - ERROR - LLM response was not a valid ImageOrganizationSchema instance. Raw response: {
  "folders": [
    {
      "images": [],
      "name": "moon"
    }
  ]
}
2025-06-06 20:59:09,240 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\21663397742_10c834c71e_c.jpg
2025-06-06 20:59:09,241 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 2, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-06 20:59:09,253 - DEBUG - {"call_id": 2, "event": "Received RPC result", "json": {"callId": 2, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-06 20:59:09,253 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749268749247 - 834.jpg",
  "name": "21663397742_10c834c71e_c.jpg",
  "sizeBytes": 189014,
  "type": "file"
})
2025-06-06 20:59:09,253 - DEBUG - Full prompt sent to LLM: Categorize the image into one or more folders.
Respond ONLY with a JSON object: {"folders": [{"name": "Folder Name", "images": ["image_filename.jpg"]}]}.
Include only the filename of the image being processed in the 'images' array.

2025-06-06 20:59:09,254 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 3, "creationParameter": {"history": {"messages": [{"content": [{"text": "Categorize the image into one or more folders.\nRespond ONLY with a JSON object: {\"folders\": [{\"name\": \"Folder Name\", \"images\": [\"image_filename.jpg\"]}]}.\nInclude only the filename of the image being processed in the 'images' array.\n", "type": "text"}, {"fileType": "image", "identifier": "1749268749247 - 834.jpg", "name": "21663397742_10c834c71e_c.jpg", "sizeBytes": 189014, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@iq3_m"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": [{"key": "llm.prediction.structured", "value": {"jsonSchema": {"$defs": {"Folder": {"properties": {"images": {"items": {"type": "string"}, "type": "array"}, "name": {"type": "string"}}, "required": ["name", "images"], "title": "Folder", "type": "object"}}, "properties": {"folders": {"items": {"$ref": "#/$defs/Folder"}, "type": "array"}}, "required": ["folders"], "title": "ImageOrganizationSchema", "type": "object"}, "type": "json"}}]}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-06 20:59:15,646 - DEBUG - Raw LLM response: {
  "folders": [
    {
      "images": [],
      "name": "Nature"
    },
    {
      "images": [
        "image_filename.jpg"
      ],
      "name": "Flowers"
    }
  ]
}
2025-06-06 20:59:15,648 - ERROR - LLM response was not a valid ImageOrganizationSchema instance. Raw response: {
  "folders": [
    {
      "images": [],
      "name": "Nature"
    },
    {
      "images": [
        "image_filename.jpg"
      ],
      "name": "Flowers"
    }
  ]
}
2025-06-06 20:59:15,648 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\3.jpg
2025-06-06 20:59:15,648 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 3, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-06 20:59:15,654 - DEBUG - {"call_id": 3, "event": "Received RPC result", "json": {"callId": 3, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-06 20:59:15,654 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749268755650 - 112.jpg",
  "name": "3.jpg",
  "sizeBytes": 16659,
  "type": "file"
})
2025-06-06 20:59:15,654 - DEBUG - Full prompt sent to LLM: Categorize the image into one or more folders.
Respond ONLY with a JSON object: {"folders": [{"name": "Folder Name", "images": ["image_filename.jpg"]}]}.
Include only the filename of the image being processed in the 'images' array.

2025-06-06 20:59:15,655 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 4, "creationParameter": {"history": {"messages": [{"content": [{"text": "Categorize the image into one or more folders.\nRespond ONLY with a JSON object: {\"folders\": [{\"name\": \"Folder Name\", \"images\": [\"image_filename.jpg\"]}]}.\nInclude only the filename of the image being processed in the 'images' array.\n", "type": "text"}, {"fileType": "image", "identifier": "1749268755650 - 112.jpg", "name": "3.jpg", "sizeBytes": 16659, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@iq3_m"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": [{"key": "llm.prediction.structured", "value": {"jsonSchema": {"$defs": {"Folder": {"properties": {"images": {"items": {"type": "string"}, "type": "array"}, "name": {"type": "string"}}, "required": ["name", "images"], "title": "Folder", "type": "object"}}, "properties": {"folders": {"items": {"$ref": "#/$defs/Folder"}, "type": "array"}}, "required": ["folders"], "title": "ImageOrganizationSchema", "type": "object"}, "type": "json"}}]}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-06 20:59:19,266 - DEBUG - Raw LLM response: {
  "folders": [
    {
      "images": [],
      "name": "Nature"
    }
  ]
}
2025-06-06 20:59:19,268 - ERROR - LLM response was not a valid ImageOrganizationSchema instance. Raw response: {
  "folders": [
    {
      "images": [],
      "name": "Nature"
    }
  ]
}
2025-06-06 20:59:19,268 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\56ba49e41a00002d00ab2507.jpeg
2025-06-06 20:59:19,268 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 4, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-06 20:59:19,274 - DEBUG - {"call_id": 4, "event": "Received RPC result", "json": {"callId": 4, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-06 20:59:19,274 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749268759270 - 628.jpeg",
  "name": "56ba49e41a00002d00ab2507.jpeg",
  "sizeBytes": 42576,
  "type": "file"
})
2025-06-06 20:59:19,274 - DEBUG - Full prompt sent to LLM: Categorize the image into one or more folders.
Respond ONLY with a JSON object: {"folders": [{"name": "Folder Name", "images": ["image_filename.jpg"]}]}.
Include only the filename of the image being processed in the 'images' array.

2025-06-06 20:59:19,275 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 5, "creationParameter": {"history": {"messages": [{"content": [{"text": "Categorize the image into one or more folders.\nRespond ONLY with a JSON object: {\"folders\": [{\"name\": \"Folder Name\", \"images\": [\"image_filename.jpg\"]}]}.\nInclude only the filename of the image being processed in the 'images' array.\n", "type": "text"}, {"fileType": "image", "identifier": "1749268759270 - 628.jpeg", "name": "56ba49e41a00002d00ab2507.jpeg", "sizeBytes": 42576, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@iq3_m"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": [{"key": "llm.prediction.structured", "value": {"jsonSchema": {"$defs": {"Folder": {"properties": {"images": {"items": {"type": "string"}, "type": "array"}, "name": {"type": "string"}}, "required": ["name", "images"], "title": "Folder", "type": "object"}}, "properties": {"folders": {"items": {"$ref": "#/$defs/Folder"}, "type": "array"}}, "required": ["folders"], "title": "ImageOrganizationSchema", "type": "object"}, "type": "json"}}]}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-06 20:59:23,127 - DEBUG - Raw LLM response: {
  "folders": [
    {
      "images": [],
      "name": "Marine Life"
    }
  ]
}
2025-06-06 20:59:23,129 - ERROR - LLM response was not a valid ImageOrganizationSchema instance. Raw response: {
  "folders": [
    {
      "images": [],
      "name": "Marine Life"
    }
  ]
}
2025-06-06 20:59:23,129 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\9.jpg
2025-06-06 20:59:23,130 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 5, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-06 20:59:23,138 - DEBUG - {"call_id": 5, "event": "Received RPC result", "json": {"callId": 5, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-06 20:59:23,138 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749268763134 - 737.jpg",
  "name": "9.jpg",
  "sizeBytes": 77222,
  "type": "file"
})
2025-06-06 20:59:23,138 - DEBUG - Full prompt sent to LLM: Categorize the image into one or more folders.
Respond ONLY with a JSON object: {"folders": [{"name": "Folder Name", "images": ["image_filename.jpg"]}]}.
Include only the filename of the image being processed in the 'images' array.

2025-06-06 20:59:23,139 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 6, "creationParameter": {"history": {"messages": [{"content": [{"text": "Categorize the image into one or more folders.\nRespond ONLY with a JSON object: {\"folders\": [{\"name\": \"Folder Name\", \"images\": [\"image_filename.jpg\"]}]}.\nInclude only the filename of the image being processed in the 'images' array.\n", "type": "text"}, {"fileType": "image", "identifier": "1749268763134 - 737.jpg", "name": "9.jpg", "sizeBytes": 77222, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@iq3_m"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": [{"key": "llm.prediction.structured", "value": {"jsonSchema": {"$defs": {"Folder": {"properties": {"images": {"items": {"type": "string"}, "type": "array"}, "name": {"type": "string"}}, "required": ["name", "images"], "title": "Folder", "type": "object"}}, "properties": {"folders": {"items": {"$ref": "#/$defs/Folder"}, "type": "array"}}, "required": ["folders"], "title": "ImageOrganizationSchema", "type": "object"}, "type": "json"}}]}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-06 20:59:27,543 - DEBUG - Raw LLM response: {
  "folders": [
    {
      "images": [],
      "name": "scuba diving underwater with a statue"
    }
  ]
}
2025-06-06 20:59:27,545 - ERROR - LLM response was not a valid ImageOrganizationSchema instance. Raw response: {
  "folders": [
    {
      "images": [],
      "name": "scuba diving underwater with a statue"
    }
  ]
}
2025-06-06 20:59:27,545 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\a13052540ed9f27eea7d611e9e33293fea9fb4aa584c029e80036f5f857f03de.webp
2025-06-06 20:59:27,547 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 6, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-06 20:59:27,560 - DEBUG - {"call_id": 6, "event": "Received RPC result", "json": {"callId": 6, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-06 20:59:27,560 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749268767553 - 97.webp",
  "name": "a13052540ed9f27eea7d611e9e33293fea9fb4aa584c029e80036f5f857f03de.webp",
  "sizeBytes": 231480,
  "type": "file"
})
2025-06-06 20:59:27,561 - DEBUG - Full prompt sent to LLM: Categorize the image into one or more folders.
Respond ONLY with a JSON object: {"folders": [{"name": "Folder Name", "images": ["image_filename.jpg"]}]}.
Include only the filename of the image being processed in the 'images' array.

2025-06-06 20:59:27,562 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 7, "creationParameter": {"history": {"messages": [{"content": [{"text": "Categorize the image into one or more folders.\nRespond ONLY with a JSON object: {\"folders\": [{\"name\": \"Folder Name\", \"images\": [\"image_filename.jpg\"]}]}.\nInclude only the filename of the image being processed in the 'images' array.\n", "type": "text"}, {"fileType": "image", "identifier": "1749268767553 - 97.webp", "name": "a13052540ed9f27eea7d611e9e33293fea9fb4aa584c029e80036f5f857f03de.webp", "sizeBytes": 231480, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@iq3_m"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": [{"key": "llm.prediction.structured", "value": {"jsonSchema": {"$defs": {"Folder": {"properties": {"images": {"items": {"type": "string"}, "type": "array"}, "name": {"type": "string"}}, "required": ["name", "images"], "title": "Folder", "type": "object"}}, "properties": {"folders": {"items": {"$ref": "#/$defs/Folder"}, "type": "array"}}, "required": ["folders"], "title": "ImageOrganizationSchema", "type": "object"}, "type": "json"}}]}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-06 20:59:34,540 - DEBUG - Raw LLM response: {
  "folders": [
    {
      "images": [],
      "name": "castles"
    },
    {
      "images": [],
      "name": "holidays"
    }
  ]
}
2025-06-06 20:59:34,542 - ERROR - LLM response was not a valid ImageOrganizationSchema instance. Raw response: {
  "folders": [
    {
      "images": [],
      "name": "castles"
    },
    {
      "images": [],
      "name": "holidays"
    }
  ]
}
2025-06-06 20:59:34,542 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\A1897E5E85B488FDE84BB77AE42E97B7778AE8CAC745860766931D266FDE4FE0.jpg
2025-06-06 20:59:34,543 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 7, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-06 20:59:34,551 - DEBUG - {"call_id": 7, "event": "Received RPC result", "json": {"callId": 7, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-06 20:59:34,551 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749268774545 - 474.jpg",
  "name": "A1897E5E85B488FDE84BB77AE42E97B7778AE8CAC745860766931D266FDE4FE0.jpg",
  "sizeBytes": 50344,
  "type": "file"
})
2025-06-06 20:59:34,552 - DEBUG - Full prompt sent to LLM: Categorize the image into one or more folders.
Respond ONLY with a JSON object: {"folders": [{"name": "Folder Name", "images": ["image_filename.jpg"]}]}.
Include only the filename of the image being processed in the 'images' array.

2025-06-06 20:59:34,552 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 8, "creationParameter": {"history": {"messages": [{"content": [{"text": "Categorize the image into one or more folders.\nRespond ONLY with a JSON object: {\"folders\": [{\"name\": \"Folder Name\", \"images\": [\"image_filename.jpg\"]}]}.\nInclude only the filename of the image being processed in the 'images' array.\n", "type": "text"}, {"fileType": "image", "identifier": "1749268774545 - 474.jpg", "name": "A1897E5E85B488FDE84BB77AE42E97B7778AE8CAC745860766931D266FDE4FE0.jpg", "sizeBytes": 50344, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@iq3_m"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": [{"key": "llm.prediction.structured", "value": {"jsonSchema": {"$defs": {"Folder": {"properties": {"images": {"items": {"type": "string"}, "type": "array"}, "name": {"type": "string"}}, "required": ["name", "images"], "title": "Folder", "type": "object"}}, "properties": {"folders": {"items": {"$ref": "#/$defs/Folder"}, "type": "array"}}, "required": ["folders"], "title": "ImageOrganizationSchema", "type": "object"}, "type": "json"}}]}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-06 20:59:38,433 - DEBUG - Raw LLM response: {
  "folders": [
    {
      "images": [],
      "name": "Anime"
    }
  ]
}
2025-06-06 20:59:38,436 - ERROR - LLM response was not a valid ImageOrganizationSchema instance. Raw response: {
  "folders": [
    {
      "images": [],
      "name": "Anime"
    }
  ]
}
2025-06-06 20:59:38,436 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\Amazing-StonesMinerals6__880.jpg
2025-06-06 20:59:38,437 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 8, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-06 20:59:38,449 - DEBUG - {"call_id": 8, "event": "Received RPC result", "json": {"callId": 8, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-06 20:59:38,450 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749268778442 - 986.jpg",
  "name": "Amazing-StonesMinerals6__880.jpg",
  "sizeBytes": 128783,
  "type": "file"
})
2025-06-06 20:59:38,450 - DEBUG - Full prompt sent to LLM: Categorize the image into one or more folders.
Respond ONLY with a JSON object: {"folders": [{"name": "Folder Name", "images": ["image_filename.jpg"]}]}.
Include only the filename of the image being processed in the 'images' array.

2025-06-06 20:59:38,451 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 9, "creationParameter": {"history": {"messages": [{"content": [{"text": "Categorize the image into one or more folders.\nRespond ONLY with a JSON object: {\"folders\": [{\"name\": \"Folder Name\", \"images\": [\"image_filename.jpg\"]}]}.\nInclude only the filename of the image being processed in the 'images' array.\n", "type": "text"}, {"fileType": "image", "identifier": "1749268778442 - 986.jpg", "name": "Amazing-StonesMinerals6__880.jpg", "sizeBytes": 128783, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@iq3_m"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": [{"key": "llm.prediction.structured", "value": {"jsonSchema": {"$defs": {"Folder": {"properties": {"images": {"items": {"type": "string"}, "type": "array"}, "name": {"type": "string"}}, "required": ["name", "images"], "title": "Folder", "type": "object"}}, "properties": {"folders": {"items": {"$ref": "#/$defs/Folder"}, "type": "array"}}, "required": ["folders"], "title": "ImageOrganizationSchema", "type": "object"}, "type": "json"}}]}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-06 20:59:44,272 - DEBUG - Raw LLM response: {
  "folders": [
    {
      "images": [],
      "name": "minerals"
    }
  ]
}
2025-06-06 20:59:44,276 - ERROR - LLM response was not a valid ImageOrganizationSchema instance. Raw response: {
  "folders": [
    {
      "images": [],
      "name": "minerals"
    }
  ]
}
2025-06-06 20:59:44,276 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\Bing_0056.jpeg
2025-06-06 20:59:44,277 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 9, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-06 20:59:44,288 - DEBUG - {"call_id": 9, "event": "Received RPC result", "json": {"callId": 9, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-06 20:59:44,288 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749268784282 - 558.jpeg",
  "name": "Bing_0056.jpeg",
  "sizeBytes": 88069,
  "type": "file"
})
2025-06-06 20:59:44,288 - DEBUG - Full prompt sent to LLM: Categorize the image into one or more folders.
Respond ONLY with a JSON object: {"folders": [{"name": "Folder Name", "images": ["image_filename.jpg"]}]}.
Include only the filename of the image being processed in the 'images' array.

2025-06-06 20:59:44,289 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 10, "creationParameter": {"history": {"messages": [{"content": [{"text": "Categorize the image into one or more folders.\nRespond ONLY with a JSON object: {\"folders\": [{\"name\": \"Folder Name\", \"images\": [\"image_filename.jpg\"]}]}.\nInclude only the filename of the image being processed in the 'images' array.\n", "type": "text"}, {"fileType": "image", "identifier": "1749268784282 - 558.jpeg", "name": "Bing_0056.jpeg", "sizeBytes": 88069, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@iq3_m"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": [{"key": "llm.prediction.structured", "value": {"jsonSchema": {"$defs": {"Folder": {"properties": {"images": {"items": {"type": "string"}, "type": "array"}, "name": {"type": "string"}}, "required": ["name", "images"], "title": "Folder", "type": "object"}}, "properties": {"folders": {"items": {"$ref": "#/$defs/Folder"}, "type": "array"}}, "required": ["folders"], "title": "ImageOrganizationSchema", "type": "object"}, "type": "json"}}]}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-06 20:59:52,979 - DEBUG - Raw LLM response: {
  "folders": [
    {
      "images": [],
      "name": "Image Folder"
    }
  ]
}
2025-06-06 20:59:52,982 - ERROR - LLM response was not a valid ImageOrganizationSchema instance. Raw response: {
  "folders": [
    {
      "images": [],
      "name": "Image Folder"
    }
  ]
}
2025-06-06 20:59:52,982 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\NavalSquare.jpg
2025-06-06 20:59:52,982 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 10, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-06 20:59:52,988 - DEBUG - {"call_id": 10, "event": "Received RPC result", "json": {"callId": 10, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-06 20:59:52,989 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749268792984 - 677.jpg",
  "name": "NavalSquare.jpg",
  "sizeBytes": 45352,
  "type": "file"
})
2025-06-06 20:59:52,989 - DEBUG - Full prompt sent to LLM: Categorize the image into one or more folders.
Respond ONLY with a JSON object: {"folders": [{"name": "Folder Name", "images": ["image_filename.jpg"]}]}.
Include only the filename of the image being processed in the 'images' array.

2025-06-06 20:59:52,990 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 11, "creationParameter": {"history": {"messages": [{"content": [{"text": "Categorize the image into one or more folders.\nRespond ONLY with a JSON object: {\"folders\": [{\"name\": \"Folder Name\", \"images\": [\"image_filename.jpg\"]}]}.\nInclude only the filename of the image being processed in the 'images' array.\n", "type": "text"}, {"fileType": "image", "identifier": "1749268792984 - 677.jpg", "name": "NavalSquare.jpg", "sizeBytes": 45352, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@iq3_m"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": [{"key": "llm.prediction.structured", "value": {"jsonSchema": {"$defs": {"Folder": {"properties": {"images": {"items": {"type": "string"}, "type": "array"}, "name": {"type": "string"}}, "required": ["name", "images"], "title": "Folder", "type": "object"}}, "properties": {"folders": {"items": {"$ref": "#/$defs/Folder"}, "type": "array"}}, "required": ["folders"], "title": "ImageOrganizationSchema", "type": "object"}, "type": "json"}}]}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-06 21:00:07,725 - DEBUG - Raw LLM response: {
  "folders": [
    {
      "images": [],
      "name": "Nature"
    },
    {
      "images": [],
      "name": "Trees"
    }
  ]
}
2025-06-06 21:00:07,729 - ERROR - LLM response was not a valid ImageOrganizationSchema instance. Raw response: {
  "folders": [
    {
      "images": [],
      "name": "Nature"
    },
    {
      "images": [],
      "name": "Trees"
    }
  ]
}
2025-06-06 21:13:57,310 - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/files)", "ws_url": "ws://localhost:1234/files"}
2025-06-06 21:13:57,322 - INFO - {"event": "Websocket demultiplexing task terminated.", "ws_url": "ws://localhost:1234/files"}
2025-06-06 21:13:57,322 - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/files)", "ws_url": "ws://localhost:1234/files"}
2025-06-06 21:13:57,322 - INFO - {"event": "Websocket closed.", "ws_url": "ws://localhost:1234/files"}
2025-06-06 21:13:57,323 - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-06-06 21:13:57,332 - DEBUG - response_closed.started
2025-06-06 21:13:57,334 - DEBUG - response_closed.complete
2025-06-06 21:13:57,337 - INFO - {"event": "Websocket task terminated", "ws_url": "ws://localhost:1234/files"}
2025-06-06 21:13:57,337 - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-06-06 21:13:57,338 - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-06-06 21:13:57,338 - INFO - {"event": "Websocket demultiplexing task terminated.", "ws_url": "ws://localhost:1234/embedding"}
2025-06-06 21:13:57,338 - INFO - {"event": "Websocket closed.", "ws_url": "ws://localhost:1234/embedding"}
2025-06-06 21:13:57,339 - DEBUG - response_closed.started
2025-06-06 21:13:57,339 - DEBUG - response_closed.complete
2025-06-06 21:13:57,339 - INFO - {"event": "Websocket task terminated", "ws_url": "ws://localhost:1234/embedding"}
2025-06-06 21:13:57,339 - INFO - {"event": "Websocket demultiplexing task terminated.", "ws_url": "ws://localhost:1234/llm"}
2025-06-06 21:13:57,339 - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-06-06 21:13:57,340 - INFO - {"event": "Websocket closed.", "ws_url": "ws://localhost:1234/llm"}
2025-06-06 21:13:57,340 - DEBUG - response_closed.started
2025-06-06 21:13:57,341 - DEBUG - response_closed.complete
2025-06-06 21:13:57,341 - INFO - {"event": "Websocket task terminated", "ws_url": "ws://localhost:1234/llm"}
2025-06-06 21:13:57,341 - DEBUG - {"client": "<lmstudio.sync_api.Client object at 0x000001E59C095DD0>", "event": "Terminating websocket thread due to exception", "thread_id": "Thread-1"}
Traceback (most recent call last):
  File "C:\Users\dadad\AppData\Local\Programs\Python\Python311\Lib\site-packages\lmstudio\_ws_impl.py", line 292, in _log_thread_execution
    await never_set.wait()
  File "C:\Users\dadad\AppData\Local\Programs\Python\Python311\Lib\asyncio\locks.py", line 213, in wait
    await fut
asyncio.exceptions.CancelledError: Cancelled by cancel scope 1e59e84d090
2025-06-06 21:13:57,387 - INFO - {"client": "<lmstudio.sync_api.Client object at 0x000001E59C095DD0>", "event": "Websocket thread terminated", "thread_id": "Thread-1"}
2025-06-06 21:14:56,142 - INFO - Gemini LLM Analysis: ```json
{
  "folders": [
    {
      "name": "Moon",
      "images": [
        "2010-11-21-full-moon-1000.png"
      ]
    },
    {
      "name": "Flowers",
      "images": [
        "21663397742_10c834c71e_c.jpg"
      ]
    },
    {
      "name": "Forest",
      "images": [
        "3.jpg"
      ]
    },
    {
      "name": "Sharks",
      "images": [
        "56ba49e41a00002d00ab2507.jpeg"
      ]
    },
    {
      "name": "Underwater",
      "images": [
        "9.jpg"
      ]
    },
    {
      "name": "Castle",
      "images": [
        "a13052540ed9f27eea7d611e9e33293fea9fb4aa584c029e80036f5f857f03de.webp"
      ]
    },
    {
      "name": "Fashion",
      "images": [
        "A1897E5E85B488FDE84BB77AE42E97B7778AE8CAC745860766931D266FDE4FE0.jpg"
      ]
    },
    {
      "name": "Minerals",
      "images": [
        "Amazing-StonesMinerals6__880.jpg"
      ]
    },
    {
      "name": "Celebrities",
      "images": [
        "Bing_0056.jpeg"
      ]
    },
    {
      "name": "Trees",
      "images": [
        "NavalSquare.jpg"
      ]
    }
  ]
}
```
2025-06-06 21:14:56,146 - INFO - Attempting to parse JSON from Gemini response
2025-06-06 21:14:56,146 - INFO - Gemini JSON parsed successfully: {'folders': [{'name': 'Moon', 'images': ['2010-11-21-full-moon-1000.png']}, {'name': 'Flowers', 'images': ['21663397742_10c834c71e_c.jpg']}, {'name': 'Forest', 'images': ['3.jpg']}, {'name': 'Sharks', 'images': ['56ba49e41a00002d00ab2507.jpeg']}, {'name': 'Underwater', 'images': ['9.jpg']}, {'name': 'Castle', 'images': ['a13052540ed9f27eea7d611e9e33293fea9fb4aa584c029e80036f5f857f03de.webp']}, {'name': 'Fashion', 'images': ['A1897E5E85B488FDE84BB77AE42E97B7778AE8CAC745860766931D266FDE4FE0.jpg']}, {'name': 'Minerals', 'images': ['Amazing-StonesMinerals6__880.jpg']}, {'name': 'Celebrities', 'images': ['Bing_0056.jpeg']}, {'name': 'Trees', 'images': ['NavalSquare.jpg']}]}
2025-06-10 01:03:09,006 - DEBUG - Using proactor: IocpProactor
2025-06-10 01:03:09,016 - INFO - {"client": "<lmstudio.sync_api.Client object at 0x0000018C36AAA810>", "event": "Websocket handling thread started", "thread_id": "Thread-1"}
2025-06-10 01:03:09,016 - INFO - {"event": "Websocket handling task started", "ws_url": "ws://localhost:1234/llm"}
2025-06-10 01:03:09,232 - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-06-10 01:03:09,487 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000018C3937F390>
2025-06-10 01:03:09,488 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-10 01:03:09,488 - DEBUG - send_request_headers.complete
2025-06-10 01:03:09,488 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-10 01:03:09,488 - DEBUG - send_request_body.complete
2025-06-10 01:03:09,488 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-10 01:03:09,569 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'zzB78bhJFa6RoBdqw5Pu7w4gb6k=')])
2025-06-10 01:03:09,570 - INFO - HTTP Request: GET ws://localhost:1234/llm "HTTP/1.1 101 Switching Protocols"
2025-06-10 01:03:09,570 - DEBUG - {"event": "Websocket connected", "ws_url": "ws://localhost:1234/llm"}
2025-06-10 01:03:09,598 - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "ws_url": "ws://localhost:1234/llm"}
2025-06-10 01:03:09,599 - INFO - {"event": "Websocket session established (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-06-10 01:03:09,600 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "listLoaded", "type": "rpcCall"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-10 01:03:09,615 - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": ["..."], "type": "rpcResult"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-10 01:03:09,616 - INFO - {"event": "Websocket handling task started", "ws_url": "ws://localhost:1234/embedding"}
2025-06-10 01:03:09,856 - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-06-10 01:03:10,108 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000018C3938B110>
2025-06-10 01:03:10,108 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-10 01:03:10,109 - DEBUG - send_request_headers.complete
2025-06-10 01:03:10,109 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-10 01:03:10,109 - DEBUG - send_request_body.complete
2025-06-10 01:03:10,109 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-10 01:03:10,109 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'6WfQy79CwlxsPTdoVzk474xgb1I=')])
2025-06-10 01:03:10,110 - INFO - HTTP Request: GET ws://localhost:1234/embedding "HTTP/1.1 101 Switching Protocols"
2025-06-10 01:03:10,110 - DEBUG - {"event": "Websocket connected", "ws_url": "ws://localhost:1234/embedding"}
2025-06-10 01:03:10,112 - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "ws_url": "ws://localhost:1234/embedding"}
2025-06-10 01:03:10,112 - INFO - {"event": "Websocket session established (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-06-10 01:03:10,112 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "listLoaded", "type": "rpcCall"}, "ws_url": "ws://localhost:1234/embedding"}
2025-06-10 01:03:10,114 - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": ["..."], "type": "rpcResult"}, "ws_url": "ws://localhost:1234/embedding"}
2025-06-10 01:03:10,116 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 1, "creationParameter": {"identifier": "m@q4_0", "loadConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}, "loadTtlMs": 3600000}, "endpoint": "getOrLoad", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-10 01:03:10,122 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\2010-11-21-full-moon-1000.png
2025-06-10 01:03:10,126 - INFO - {"event": "Websocket handling task started", "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:03:10,311 - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-06-10 01:03:10,563 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000018C39393250>
2025-06-10 01:03:10,563 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-10 01:03:10,563 - DEBUG - send_request_headers.complete
2025-06-10 01:03:10,563 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-10 01:03:10,564 - DEBUG - send_request_body.complete
2025-06-10 01:03:10,564 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-10 01:03:10,564 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'Lf2qrA7fv3v9x1HnK53RmSKI7OU=')])
2025-06-10 01:03:10,564 - INFO - HTTP Request: GET ws://localhost:1234/files "HTTP/1.1 101 Switching Protocols"
2025-06-10 01:03:10,564 - DEBUG - {"event": "Websocket connected", "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:03:10,565 - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:03:10,565 - INFO - {"event": "Websocket session established (ws://localhost:1234/files)", "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:03:10,565 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:03:10,587 - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:03:10,589 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749542590576 - 639.png",
  "name": "2010-11-21-full-moon-1000.png",
  "sizeBytes": 303022,
  "type": "file"
})
2025-06-10 01:03:10,589 - DEBUG - Full prompt sent to LLM: Categorize the image into one or more folders.
Respond ONLY with a JSON object: {"folders": [{"name": "Folder Name", "images": ["image_filename.jpg"]}]}.
Include only the filename of the image being processed in the 'images' array.

2025-06-10 01:03:10,593 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 2, "creationParameter": {"history": {"messages": [{"content": [{"text": "Categorize the image into one or more folders.\nRespond ONLY with a JSON object: {\"folders\": [{\"name\": \"Folder Name\", \"images\": [\"image_filename.jpg\"]}]}.\nInclude only the filename of the image being processed in the 'images' array.\n", "type": "text"}, {"fileType": "image", "identifier": "1749542590576 - 639.png", "name": "2010-11-21-full-moon-1000.png", "sizeBytes": 303022, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@q4_0"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": [{"key": "llm.prediction.structured", "value": {"jsonSchema": {"$defs": {"Folder": {"properties": {"images": {"items": {"type": "string"}, "type": "array"}, "name": {"type": "string"}}, "required": ["name", "images"], "title": "Folder", "type": "object"}}, "properties": {"folders": {"items": {"$ref": "#/$defs/Folder"}, "type": "array"}}, "required": ["folders"], "title": "ImageOrganizationSchema", "type": "object"}, "type": "json"}}]}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-10 01:03:16,590 - DEBUG - Raw LLM response: {
  "folders": [
    {
      "images": [
        "moon.jpg"
      ],
      "name": "Space"
    },
    {
      "images": [
        "moon.jpg"
      ],
      "name": "Celestial Bodies"
    }
  ]
}
2025-06-10 01:03:16,592 - ERROR - LLM response was not a valid ImageOrganizationSchema instance. Raw response: {
  "folders": [
    {
      "images": [
        "moon.jpg"
      ],
      "name": "Space"
    },
    {
      "images": [
        "moon.jpg"
      ],
      "name": "Celestial Bodies"
    }
  ]
}
2025-06-10 01:03:16,592 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\21663397742_10c834c71e_c.jpg
2025-06-10 01:03:16,594 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 2, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:03:16,608 - DEBUG - {"call_id": 2, "event": "Received RPC result", "json": {"callId": 2, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:03:16,609 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749542596601 - 971.jpg",
  "name": "21663397742_10c834c71e_c.jpg",
  "sizeBytes": 189014,
  "type": "file"
})
2025-06-10 01:03:16,609 - DEBUG - Full prompt sent to LLM: Categorize the image into one or more folders.
Respond ONLY with a JSON object: {"folders": [{"name": "Folder Name", "images": ["image_filename.jpg"]}]}.
Include only the filename of the image being processed in the 'images' array.

2025-06-10 01:03:16,610 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 3, "creationParameter": {"history": {"messages": [{"content": [{"text": "Categorize the image into one or more folders.\nRespond ONLY with a JSON object: {\"folders\": [{\"name\": \"Folder Name\", \"images\": [\"image_filename.jpg\"]}]}.\nInclude only the filename of the image being processed in the 'images' array.\n", "type": "text"}, {"fileType": "image", "identifier": "1749542596601 - 971.jpg", "name": "21663397742_10c834c71e_c.jpg", "sizeBytes": 189014, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@q4_0"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": [{"key": "llm.prediction.structured", "value": {"jsonSchema": {"$defs": {"Folder": {"properties": {"images": {"items": {"type": "string"}, "type": "array"}, "name": {"type": "string"}}, "required": ["name", "images"], "title": "Folder", "type": "object"}}, "properties": {"folders": {"items": {"$ref": "#/$defs/Folder"}, "type": "array"}}, "required": ["folders"], "title": "ImageOrganizationSchema", "type": "object"}, "type": "json"}}]}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-10 01:03:21,146 - DEBUG - Raw LLM response: {
  "folders": [
    {
      "images": [
        "pink_flowers.jpg"
      ],
      "name": "Flowers"
    }
  ]
}
2025-06-10 01:03:21,147 - ERROR - LLM response was not a valid ImageOrganizationSchema instance. Raw response: {
  "folders": [
    {
      "images": [
        "pink_flowers.jpg"
      ],
      "name": "Flowers"
    }
  ]
}
2025-06-10 01:03:21,147 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\3.jpg
2025-06-10 01:03:21,147 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 3, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:03:21,157 - DEBUG - {"call_id": 3, "event": "Received RPC result", "json": {"callId": 3, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:03:21,157 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749542601150 - 199.jpg",
  "name": "3.jpg",
  "sizeBytes": 16659,
  "type": "file"
})
2025-06-10 01:03:21,157 - DEBUG - Full prompt sent to LLM: Categorize the image into one or more folders.
Respond ONLY with a JSON object: {"folders": [{"name": "Folder Name", "images": ["image_filename.jpg"]}]}.
Include only the filename of the image being processed in the 'images' array.

2025-06-10 01:03:21,158 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 4, "creationParameter": {"history": {"messages": [{"content": [{"text": "Categorize the image into one or more folders.\nRespond ONLY with a JSON object: {\"folders\": [{\"name\": \"Folder Name\", \"images\": [\"image_filename.jpg\"]}]}.\nInclude only the filename of the image being processed in the 'images' array.\n", "type": "text"}, {"fileType": "image", "identifier": "1749542601150 - 199.jpg", "name": "3.jpg", "sizeBytes": 16659, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@q4_0"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": [{"key": "llm.prediction.structured", "value": {"jsonSchema": {"$defs": {"Folder": {"properties": {"images": {"items": {"type": "string"}, "type": "array"}, "name": {"type": "string"}}, "required": ["name", "images"], "title": "Folder", "type": "object"}}, "properties": {"folders": {"items": {"$ref": "#/$defs/Folder"}, "type": "array"}}, "required": ["folders"], "title": "ImageOrganizationSchema", "type": "object"}, "type": "json"}}]}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-10 01:03:24,768 - DEBUG - Raw LLM response: {
  "folders": [
    {
      "images": [
        "forest_scenery.jpg"
      ],
      "name": "Nature"
    }
  ]
}
2025-06-10 01:03:24,769 - ERROR - LLM response was not a valid ImageOrganizationSchema instance. Raw response: {
  "folders": [
    {
      "images": [
        "forest_scenery.jpg"
      ],
      "name": "Nature"
    }
  ]
}
2025-06-10 01:03:24,769 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\56ba49e41a00002d00ab2507.jpeg
2025-06-10 01:03:24,770 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 4, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:03:24,778 - DEBUG - {"call_id": 4, "event": "Received RPC result", "json": {"callId": 4, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:03:24,778 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749542604774 - 222.jpeg",
  "name": "56ba49e41a00002d00ab2507.jpeg",
  "sizeBytes": 42576,
  "type": "file"
})
2025-06-10 01:03:24,778 - DEBUG - Full prompt sent to LLM: Categorize the image into one or more folders.
Respond ONLY with a JSON object: {"folders": [{"name": "Folder Name", "images": ["image_filename.jpg"]}]}.
Include only the filename of the image being processed in the 'images' array.

2025-06-10 01:03:24,779 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 5, "creationParameter": {"history": {"messages": [{"content": [{"text": "Categorize the image into one or more folders.\nRespond ONLY with a JSON object: {\"folders\": [{\"name\": \"Folder Name\", \"images\": [\"image_filename.jpg\"]}]}.\nInclude only the filename of the image being processed in the 'images' array.\n", "type": "text"}, {"fileType": "image", "identifier": "1749542604774 - 222.jpeg", "name": "56ba49e41a00002d00ab2507.jpeg", "sizeBytes": 42576, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@q4_0"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": [{"key": "llm.prediction.structured", "value": {"jsonSchema": {"$defs": {"Folder": {"properties": {"images": {"items": {"type": "string"}, "type": "array"}, "name": {"type": "string"}}, "required": ["name", "images"], "title": "Folder", "type": "object"}}, "properties": {"folders": {"items": {"$ref": "#/$defs/Folder"}, "type": "array"}}, "required": ["folders"], "title": "ImageOrganizationSchema", "type": "object"}, "type": "json"}}]}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-10 01:03:30,518 - DEBUG - Raw LLM response: {
  "folders": [
    {
      "images": [
        "shark_underwater.jpg"
      ],
      "name": "Marine Life"
    },
    {
      "images": [
        "shark_underwater.jpg"
      ],
      "name": "Underwater Scenes"
    }
  ]
}
2025-06-10 01:03:30,519 - ERROR - LLM response was not a valid ImageOrganizationSchema instance. Raw response: {
  "folders": [
    {
      "images": [
        "shark_underwater.jpg"
      ],
      "name": "Marine Life"
    },
    {
      "images": [
        "shark_underwater.jpg"
      ],
      "name": "Underwater Scenes"
    }
  ]
}
2025-06-10 01:03:30,519 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\9.jpg
2025-06-10 01:03:30,520 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 5, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:03:30,527 - DEBUG - {"call_id": 5, "event": "Received RPC result", "json": {"callId": 5, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:03:30,528 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749542610523 - 959.jpg",
  "name": "9.jpg",
  "sizeBytes": 77222,
  "type": "file"
})
2025-06-10 01:03:30,528 - DEBUG - Full prompt sent to LLM: Categorize the image into one or more folders.
Respond ONLY with a JSON object: {"folders": [{"name": "Folder Name", "images": ["image_filename.jpg"]}]}.
Include only the filename of the image being processed in the 'images' array.

2025-06-10 01:03:30,528 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 6, "creationParameter": {"history": {"messages": [{"content": [{"text": "Categorize the image into one or more folders.\nRespond ONLY with a JSON object: {\"folders\": [{\"name\": \"Folder Name\", \"images\": [\"image_filename.jpg\"]}]}.\nInclude only the filename of the image being processed in the 'images' array.\n", "type": "text"}, {"fileType": "image", "identifier": "1749542610523 - 959.jpg", "name": "9.jpg", "sizeBytes": 77222, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@q4_0"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": [{"key": "llm.prediction.structured", "value": {"jsonSchema": {"$defs": {"Folder": {"properties": {"images": {"items": {"type": "string"}, "type": "array"}, "name": {"type": "string"}}, "required": ["name", "images"], "title": "Folder", "type": "object"}}, "properties": {"folders": {"items": {"$ref": "#/$defs/Folder"}, "type": "array"}}, "required": ["folders"], "title": "ImageOrganizationSchema", "type": "object"}, "type": "json"}}]}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-10 01:03:34,851 - DEBUG - Raw LLM response: {
  "folders": [
    {
      "images": [
        "underwater_sculpture.jpg"
      ],
      "name": "Underwater Art"
    }
  ]
}
2025-06-10 01:03:34,852 - ERROR - LLM response was not a valid ImageOrganizationSchema instance. Raw response: {
  "folders": [
    {
      "images": [
        "underwater_sculpture.jpg"
      ],
      "name": "Underwater Art"
    }
  ]
}
2025-06-10 01:03:34,852 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\a13052540ed9f27eea7d611e9e33293fea9fb4aa584c029e80036f5f857f03de.webp
2025-06-10 01:03:34,854 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 6, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:03:34,867 - DEBUG - {"call_id": 6, "event": "Received RPC result", "json": {"callId": 6, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:03:34,868 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749542614859 - 71.webp",
  "name": "a13052540ed9f27eea7d611e9e33293fea9fb4aa584c029e80036f5f857f03de.webp",
  "sizeBytes": 231480,
  "type": "file"
})
2025-06-10 01:03:34,868 - DEBUG - Full prompt sent to LLM: Categorize the image into one or more folders.
Respond ONLY with a JSON object: {"folders": [{"name": "Folder Name", "images": ["image_filename.jpg"]}]}.
Include only the filename of the image being processed in the 'images' array.

2025-06-10 01:03:34,868 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 7, "creationParameter": {"history": {"messages": [{"content": [{"text": "Categorize the image into one or more folders.\nRespond ONLY with a JSON object: {\"folders\": [{\"name\": \"Folder Name\", \"images\": [\"image_filename.jpg\"]}]}.\nInclude only the filename of the image being processed in the 'images' array.\n", "type": "text"}, {"fileType": "image", "identifier": "1749542614859 - 71.webp", "name": "a13052540ed9f27eea7d611e9e33293fea9fb4aa584c029e80036f5f857f03de.webp", "sizeBytes": 231480, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@q4_0"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": [{"key": "llm.prediction.structured", "value": {"jsonSchema": {"$defs": {"Folder": {"properties": {"images": {"items": {"type": "string"}, "type": "array"}, "name": {"type": "string"}}, "required": ["name", "images"], "title": "Folder", "type": "object"}}, "properties": {"folders": {"items": {"$ref": "#/$defs/Folder"}, "type": "array"}}, "required": ["folders"], "title": "ImageOrganizationSchema", "type": "object"}, "type": "json"}}]}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-10 01:03:38,769 - DEBUG - Raw LLM response: {
  "folders": [
    {
      "images": [
        "castle.jpg"
      ],
      "name": "Architecture"
    }
  ]
}
2025-06-10 01:03:38,770 - ERROR - LLM response was not a valid ImageOrganizationSchema instance. Raw response: {
  "folders": [
    {
      "images": [
        "castle.jpg"
      ],
      "name": "Architecture"
    }
  ]
}
2025-06-10 01:03:38,770 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\A1897E5E85B488FDE84BB77AE42E97B7778AE8CAC745860766931D266FDE4FE0.jpg
2025-06-10 01:03:38,770 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 7, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:03:38,778 - DEBUG - {"call_id": 7, "event": "Received RPC result", "json": {"callId": 7, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:03:38,778 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749542618774 - 25.jpg",
  "name": "A1897E5E85B488FDE84BB77AE42E97B7778AE8CAC745860766931D266FDE4FE0.jpg",
  "sizeBytes": 50344,
  "type": "file"
})
2025-06-10 01:03:38,779 - DEBUG - Full prompt sent to LLM: Categorize the image into one or more folders.
Respond ONLY with a JSON object: {"folders": [{"name": "Folder Name", "images": ["image_filename.jpg"]}]}.
Include only the filename of the image being processed in the 'images' array.

2025-06-10 01:03:38,780 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 8, "creationParameter": {"history": {"messages": [{"content": [{"text": "Categorize the image into one or more folders.\nRespond ONLY with a JSON object: {\"folders\": [{\"name\": \"Folder Name\", \"images\": [\"image_filename.jpg\"]}]}.\nInclude only the filename of the image being processed in the 'images' array.\n", "type": "text"}, {"fileType": "image", "identifier": "1749542618774 - 25.jpg", "name": "A1897E5E85B488FDE84BB77AE42E97B7778AE8CAC745860766931D266FDE4FE0.jpg", "sizeBytes": 50344, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@q4_0"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": [{"key": "llm.prediction.structured", "value": {"jsonSchema": {"$defs": {"Folder": {"properties": {"images": {"items": {"type": "string"}, "type": "array"}, "name": {"type": "string"}}, "required": ["name", "images"], "title": "Folder", "type": "object"}}, "properties": {"folders": {"items": {"$ref": "#/$defs/Folder"}, "type": "array"}}, "required": ["folders"], "title": "ImageOrganizationSchema", "type": "object"}, "type": "json"}}]}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-10 01:03:42,446 - DEBUG - Raw LLM response: {
  "folders": [
    {
      "images": [
        "anime_girl.jpg"
      ],
      "name": "anime"
    }
  ]
}
2025-06-10 01:03:42,448 - ERROR - LLM response was not a valid ImageOrganizationSchema instance. Raw response: {
  "folders": [
    {
      "images": [
        "anime_girl.jpg"
      ],
      "name": "anime"
    }
  ]
}
2025-06-10 01:03:42,448 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\Amazing-StonesMinerals6__880.jpg
2025-06-10 01:03:42,449 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 8, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:03:42,459 - DEBUG - {"call_id": 8, "event": "Received RPC result", "json": {"callId": 8, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:03:42,460 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749542622453 - 398.jpg",
  "name": "Amazing-StonesMinerals6__880.jpg",
  "sizeBytes": 128783,
  "type": "file"
})
2025-06-10 01:03:42,460 - DEBUG - Full prompt sent to LLM: Categorize the image into one or more folders.
Respond ONLY with a JSON object: {"folders": [{"name": "Folder Name", "images": ["image_filename.jpg"]}]}.
Include only the filename of the image being processed in the 'images' array.

2025-06-10 01:03:42,461 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 9, "creationParameter": {"history": {"messages": [{"content": [{"text": "Categorize the image into one or more folders.\nRespond ONLY with a JSON object: {\"folders\": [{\"name\": \"Folder Name\", \"images\": [\"image_filename.jpg\"]}]}.\nInclude only the filename of the image being processed in the 'images' array.\n", "type": "text"}, {"fileType": "image", "identifier": "1749542622453 - 398.jpg", "name": "Amazing-StonesMinerals6__880.jpg", "sizeBytes": 128783, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@q4_0"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": [{"key": "llm.prediction.structured", "value": {"jsonSchema": {"$defs": {"Folder": {"properties": {"images": {"items": {"type": "string"}, "type": "array"}, "name": {"type": "string"}}, "required": ["name", "images"], "title": "Folder", "type": "object"}}, "properties": {"folders": {"items": {"$ref": "#/$defs/Folder"}, "type": "array"}}, "required": ["folders"], "title": "ImageOrganizationSchema", "type": "object"}, "type": "json"}}]}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-10 01:03:46,891 - DEBUG - Raw LLM response: {
  "folders": [
    {
      "images": [
        "crystal_mineral.jpg"
      ],
      "name": "Minerals"
    }
  ]
}
2025-06-10 01:03:46,892 - ERROR - LLM response was not a valid ImageOrganizationSchema instance. Raw response: {
  "folders": [
    {
      "images": [
        "crystal_mineral.jpg"
      ],
      "name": "Minerals"
    }
  ]
}
2025-06-10 01:03:46,892 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\Bing_0056.jpeg
2025-06-10 01:03:46,893 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 9, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:03:46,903 - DEBUG - {"call_id": 9, "event": "Received RPC result", "json": {"callId": 9, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:03:46,903 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749542626896 - 870.jpeg",
  "name": "Bing_0056.jpeg",
  "sizeBytes": 88069,
  "type": "file"
})
2025-06-10 01:03:46,903 - DEBUG - Full prompt sent to LLM: Categorize the image into one or more folders.
Respond ONLY with a JSON object: {"folders": [{"name": "Folder Name", "images": ["image_filename.jpg"]}]}.
Include only the filename of the image being processed in the 'images' array.

2025-06-10 01:03:46,904 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 10, "creationParameter": {"history": {"messages": [{"content": [{"text": "Categorize the image into one or more folders.\nRespond ONLY with a JSON object: {\"folders\": [{\"name\": \"Folder Name\", \"images\": [\"image_filename.jpg\"]}]}.\nInclude only the filename of the image being processed in the 'images' array.\n", "type": "text"}, {"fileType": "image", "identifier": "1749542626896 - 870.jpeg", "name": "Bing_0056.jpeg", "sizeBytes": 88069, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@q4_0"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": [{"key": "llm.prediction.structured", "value": {"jsonSchema": {"$defs": {"Folder": {"properties": {"images": {"items": {"type": "string"}, "type": "array"}, "name": {"type": "string"}}, "required": ["name", "images"], "title": "Folder", "type": "object"}}, "properties": {"folders": {"items": {"$ref": "#/$defs/Folder"}, "type": "array"}}, "required": ["folders"], "title": "ImageOrganizationSchema", "type": "object"}, "type": "json"}}]}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-10 01:03:50,766 - DEBUG - Raw LLM response: {
  "folders": [
    {
      "images": [
        "image.jpg"
      ],
      "name": "people"
    }
  ]
}
2025-06-10 01:03:50,767 - ERROR - LLM response was not a valid ImageOrganizationSchema instance. Raw response: {
  "folders": [
    {
      "images": [
        "image.jpg"
      ],
      "name": "people"
    }
  ]
}
2025-06-10 01:03:50,767 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\NavalSquare.jpg
2025-06-10 01:03:50,768 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 10, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:03:50,776 - DEBUG - {"call_id": 10, "event": "Received RPC result", "json": {"callId": 10, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:03:50,776 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749542630770 - 316.jpg",
  "name": "NavalSquare.jpg",
  "sizeBytes": 45352,
  "type": "file"
})
2025-06-10 01:03:50,777 - DEBUG - Full prompt sent to LLM: Categorize the image into one or more folders.
Respond ONLY with a JSON object: {"folders": [{"name": "Folder Name", "images": ["image_filename.jpg"]}]}.
Include only the filename of the image being processed in the 'images' array.

2025-06-10 01:03:50,777 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 11, "creationParameter": {"history": {"messages": [{"content": [{"text": "Categorize the image into one or more folders.\nRespond ONLY with a JSON object: {\"folders\": [{\"name\": \"Folder Name\", \"images\": [\"image_filename.jpg\"]}]}.\nInclude only the filename of the image being processed in the 'images' array.\n", "type": "text"}, {"fileType": "image", "identifier": "1749542630770 - 316.jpg", "name": "NavalSquare.jpg", "sizeBytes": 45352, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@q4_0"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": [{"key": "llm.prediction.structured", "value": {"jsonSchema": {"$defs": {"Folder": {"properties": {"images": {"items": {"type": "string"}, "type": "array"}, "name": {"type": "string"}}, "required": ["name", "images"], "title": "Folder", "type": "object"}}, "properties": {"folders": {"items": {"$ref": "#/$defs/Folder"}, "type": "array"}}, "required": ["folders"], "title": "ImageOrganizationSchema", "type": "object"}, "type": "json"}}]}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-10 01:03:56,760 - DEBUG - Raw LLM response: {
  "folders": [
    {
      "images": [
        "bristlecone pine tree.jpg"
      ],
      "name": "nature"
    },
    {
      "images": [
        "bristlecone pine tree.jpg"
      ],
      "name": "trees"
    }
  ]
}
2025-06-10 01:03:56,762 - ERROR - LLM response was not a valid ImageOrganizationSchema instance. Raw response: {
  "folders": [
    {
      "images": [
        "bristlecone pine tree.jpg"
      ],
      "name": "nature"
    },
    {
      "images": [
        "bristlecone pine tree.jpg"
      ],
      "name": "trees"
    }
  ]
}
2025-06-10 01:04:16,486 - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/files)", "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:04:16,487 - INFO - {"event": "Websocket demultiplexing task terminated.", "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:04:16,487 - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/files)", "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:04:16,487 - INFO - {"event": "Websocket closed.", "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:04:16,487 - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-06-10 01:04:16,488 - DEBUG - response_closed.started
2025-06-10 01:04:16,488 - DEBUG - response_closed.complete
2025-06-10 01:04:16,488 - INFO - {"event": "Websocket task terminated", "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:04:16,489 - INFO - {"event": "Websocket demultiplexing task terminated.", "ws_url": "ws://localhost:1234/embedding"}
2025-06-10 01:04:16,489 - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-06-10 01:04:16,489 - INFO - {"event": "Websocket closed.", "ws_url": "ws://localhost:1234/embedding"}
2025-06-10 01:04:16,489 - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-06-10 01:04:16,489 - DEBUG - response_closed.started
2025-06-10 01:04:16,489 - DEBUG - response_closed.complete
2025-06-10 01:04:16,489 - INFO - {"event": "Websocket task terminated", "ws_url": "ws://localhost:1234/embedding"}
2025-06-10 01:04:16,490 - INFO - {"event": "Websocket demultiplexing task terminated.", "ws_url": "ws://localhost:1234/llm"}
2025-06-10 01:04:16,490 - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-06-10 01:04:16,490 - INFO - {"event": "Websocket closed.", "ws_url": "ws://localhost:1234/llm"}
2025-06-10 01:04:16,491 - DEBUG - response_closed.started
2025-06-10 01:04:16,491 - DEBUG - response_closed.complete
2025-06-10 01:04:16,491 - INFO - {"event": "Websocket task terminated", "ws_url": "ws://localhost:1234/llm"}
2025-06-10 01:04:16,491 - DEBUG - {"client": "<lmstudio.sync_api.Client object at 0x0000018C36AAA810>", "event": "Terminating websocket thread due to exception", "thread_id": "Thread-1"}
Traceback (most recent call last):
  File "C:\Users\dadad\AppData\Local\Programs\Python\Python311\Lib\site-packages\lmstudio\_ws_impl.py", line 292, in _log_thread_execution
    await never_set.wait()
  File "C:\Users\dadad\AppData\Local\Programs\Python\Python311\Lib\asyncio\locks.py", line 213, in wait
    await fut
asyncio.exceptions.CancelledError: Cancelled by cancel scope 18c36aab510
2025-06-10 01:04:16,530 - INFO - {"client": "<lmstudio.sync_api.Client object at 0x0000018C36AAA810>", "event": "Websocket thread terminated", "thread_id": "Thread-1"}
2025-06-10 01:06:39,589 - DEBUG - Using proactor: IocpProactor
2025-06-10 01:06:39,597 - INFO - {"client": "<lmstudio.sync_api.Client object at 0x000001E01D6CA450>", "event": "Websocket handling thread started", "thread_id": "Thread-1"}
2025-06-10 01:06:39,597 - INFO - {"event": "Websocket handling task started", "ws_url": "ws://localhost:1234/llm"}
2025-06-10 01:06:39,852 - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-06-10 01:06:40,111 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001E02021F190>
2025-06-10 01:06:40,111 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-10 01:06:40,111 - DEBUG - send_request_headers.complete
2025-06-10 01:06:40,111 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-10 01:06:40,111 - DEBUG - send_request_body.complete
2025-06-10 01:06:40,111 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-10 01:06:40,112 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'qw0iKJwTWcGzwSDv9O/8ZoVlPf0=')])
2025-06-10 01:06:40,112 - INFO - HTTP Request: GET ws://localhost:1234/llm "HTTP/1.1 101 Switching Protocols"
2025-06-10 01:06:40,113 - DEBUG - {"event": "Websocket connected", "ws_url": "ws://localhost:1234/llm"}
2025-06-10 01:06:40,114 - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "ws_url": "ws://localhost:1234/llm"}
2025-06-10 01:06:40,114 - INFO - {"event": "Websocket session established (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-06-10 01:06:40,114 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "listLoaded", "type": "rpcCall"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-10 01:06:40,116 - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": ["..."], "type": "rpcResult"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-10 01:06:40,116 - INFO - {"event": "Websocket handling task started", "ws_url": "ws://localhost:1234/embedding"}
2025-06-10 01:06:40,413 - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-06-10 01:06:40,666 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001E02022B290>
2025-06-10 01:06:40,666 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-10 01:06:40,667 - DEBUG - send_request_headers.complete
2025-06-10 01:06:40,667 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-10 01:06:40,667 - DEBUG - send_request_body.complete
2025-06-10 01:06:40,667 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-10 01:06:40,667 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'YG2MgpkyL36Obrpu3Grc9l0iiQk=')])
2025-06-10 01:06:40,667 - INFO - HTTP Request: GET ws://localhost:1234/embedding "HTTP/1.1 101 Switching Protocols"
2025-06-10 01:06:40,667 - DEBUG - {"event": "Websocket connected", "ws_url": "ws://localhost:1234/embedding"}
2025-06-10 01:06:40,668 - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "ws_url": "ws://localhost:1234/embedding"}
2025-06-10 01:06:40,668 - INFO - {"event": "Websocket session established (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-06-10 01:06:40,668 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "listLoaded", "type": "rpcCall"}, "ws_url": "ws://localhost:1234/embedding"}
2025-06-10 01:06:40,669 - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": ["..."], "type": "rpcResult"}, "ws_url": "ws://localhost:1234/embedding"}
2025-06-10 01:06:40,671 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 1, "creationParameter": {"identifier": "m@q4_0", "loadConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}, "loadTtlMs": 3600000}, "endpoint": "getOrLoad", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-10 01:06:40,673 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\2010-11-21-full-moon-1000.png
2025-06-10 01:06:40,676 - INFO - {"event": "Websocket handling task started", "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:06:40,857 - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-06-10 01:06:41,110 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001E020233210>
2025-06-10 01:06:41,110 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-10 01:06:41,110 - DEBUG - send_request_headers.complete
2025-06-10 01:06:41,110 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-10 01:06:41,111 - DEBUG - send_request_body.complete
2025-06-10 01:06:41,111 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-10 01:06:41,111 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'xUQUPgPzVI+WDndyW3Rhd2+uaz0=')])
2025-06-10 01:06:41,111 - INFO - HTTP Request: GET ws://localhost:1234/files "HTTP/1.1 101 Switching Protocols"
2025-06-10 01:06:41,111 - DEBUG - {"event": "Websocket connected", "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:06:41,113 - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:06:41,114 - INFO - {"event": "Websocket session established (ws://localhost:1234/files)", "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:06:41,114 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:06:41,127 - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:06:41,127 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749542801118 - 71.png",
  "name": "2010-11-21-full-moon-1000.png",
  "sizeBytes": 303022,
  "type": "file"
})
2025-06-10 01:06:41,128 - DEBUG - Full prompt sent to LLM: Categorize the image into one or more folders.
Respond ONLY with a JSON object: {"folders": [{"name": "Folder Name", "images": ["image_filename.jpg"]}]}.
Include only the filename of the image being processed in the 'images' array.

2025-06-10 01:06:41,130 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 2, "creationParameter": {"history": {"messages": [{"content": [{"text": "Categorize the image into one or more folders.\nRespond ONLY with a JSON object: {\"folders\": [{\"name\": \"Folder Name\", \"images\": [\"image_filename.jpg\"]}]}.\nInclude only the filename of the image being processed in the 'images' array.\n", "type": "text"}, {"fileType": "image", "identifier": "1749542801118 - 71.png", "name": "2010-11-21-full-moon-1000.png", "sizeBytes": 303022, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@q4_0"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-10 01:07:10,546 - DEBUG - Attempting to extract JSON from text: <think>
So, let's see. The image is of the Moon, so I need to categorize it into folders. First, think about possible categories. Maybe "Space" or "Celestial Bodies". Let's pick appropriate folder names. So the image is a close-up of the Moon, which is a celestial body in space. So folders could be "Space" and "Celestial Bodies". Then list the image filename, which I assume is something like "moon.jpg" (but since the user provided the image, maybe the actual filename isn't given, but we need to use the one being processed. Wait, the problem says include only the filename of the image being processed in 'images' array. So assuming the image's filename is, say, "moon_closeup.jpg" or whatever, but since the user provided the image, we just put that. But maybe the standard way is to name it based on content. So folders would be "Space", "Celestial Bodies". Then images array has the filename.
</think>{"folders": [{"name": "Space", "images": ["moon.jpg"]}, {"name": "Celestial Bodies", "images": ["moon.jpg"]}]}
2025-06-10 01:07:10,548 - ERROR - Error generating response for 2010-11-21-full-moon-1000.png: type object 'ImageOrganizationSchema' has no attribute 'parse_obj'. Error: type object 'ImageOrganizationSchema' has no attribute 'parse_obj'
2025-06-10 01:07:10,548 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\21663397742_10c834c71e_c.jpg
2025-06-10 01:07:10,549 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 2, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:07:10,560 - DEBUG - {"call_id": 2, "event": "Received RPC result", "json": {"callId": 2, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:07:10,560 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749542830554 - 509.jpg",
  "name": "21663397742_10c834c71e_c.jpg",
  "sizeBytes": 189014,
  "type": "file"
})
2025-06-10 01:07:10,560 - DEBUG - Full prompt sent to LLM: Categorize the image into one or more folders.
Respond ONLY with a JSON object: {"folders": [{"name": "Folder Name", "images": ["image_filename.jpg"]}]}.
Include only the filename of the image being processed in the 'images' array.

2025-06-10 01:07:10,561 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 3, "creationParameter": {"history": {"messages": [{"content": [{"text": "Categorize the image into one or more folders.\nRespond ONLY with a JSON object: {\"folders\": [{\"name\": \"Folder Name\", \"images\": [\"image_filename.jpg\"]}]}.\nInclude only the filename of the image being processed in the 'images' array.\n", "type": "text"}, {"fileType": "image", "identifier": "1749542830554 - 509.jpg", "name": "21663397742_10c834c71e_c.jpg", "sizeBytes": 189014, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@q4_0"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-10 01:08:01,969 - DEBUG - Attempting to extract JSON from text: <think>
So, let's see. The image is of pink flowers, so first, I need to categorize into folders. Common categories could be "Flowers" since it's a floral image. Also, maybe "Nature" as it's an outdoor nature scene. Let's check. The image shows a field of pink flowers with a red background, so the main category is Flowers. So the folders would be ["Flowers", "Nature"]. Then the image filenameassuming the input image's filename is something like "pink_flowers.jpg" (but wait, the user didn't provide the actual filename, but in the problem, we need to include the filename of the image being processed. Wait, maybe the image is provided as part of the question, but in the context, perhaps the filename is assumed. Wait, no, the user's instruction is to respond with JSON where "images" has the filename of the image being processed. Since the image is the one shown (pink flowers), let's assume the filename is something like "flower_field.jpg". But maybe the actual filename isn't given, but in practice, we need to list it. Wait, perhaps the image's filename is provided as part of the input, but here the user just shows the image. Hmm. Maybe the correct approach is to categorize into folders like "Flowers" and "Nature", then include the image's filename. Since the image is of flowers, the folders are Flowers and Nature. So the JSON would be {"folders": [{"name": "Flowers", "images": ["flower_field.jpg"]}, {"name": "Nature", "images": ["flower_field.jpg"]}]}. Wait, but maybe the user expects one or more folders. Let's think: the image is primarily flowers, so Flowers is a key folder. Nature is also appropriate as it's an outdoor scene. So those two folders.
</think>{"folders": [{"name": "Flowers", "images": ["flower_field.jpg"]}, {"name": "Nature", "images": ["flower_field.jpg"]}]}
2025-06-10 01:08:01,970 - ERROR - Failed to parse JSON: Extra data: line 1 column 119 (char 118). Text: <think>
So, let's see. The image is of pink flowers, so first, I need to categorize into folders. Common categories could be "Flowers" since it's a floral image. Also, maybe "Nature" as it's an outdoor nature scene. Let's check. The image shows a field of pink flowers with a red background, so the main category is Flowers. So the folders would be ["Flowers", "Nature"]. Then the image filenameassuming the input image's filename is something like "pink_flowers.jpg" (but wait, the user didn't prov...
2025-06-10 01:08:01,971 - ERROR - Could not extract valid JSON from LLM response. Raw response: <think>
So, let's see. The image is of pink flowers, so first, I need to categorize into folders. Common categories could be "Flowers" since it's a floral image. Also, maybe "Nature" as it's an outdoor nature scene. Let's check. The image shows a field of pink flowers with a red background, so the main category is Flowers. So the folders would be ["Flowers", "Nature"]. Then the image filenameassuming the input image's filename is something like "pink_flowers.jpg" (but wait, the user didn't provide the actual filename, but in the problem, we need to include the filename of the image being processed. Wait, maybe the image is provided as part of the question, but in the context, perhaps the filename is assumed. Wait, no, the user's instruction is to respond with JSON where "images" has the filename of the image being processed. Since the image is the one shown (pink flowers), let's assume the filename is something like "flower_field.jpg". But maybe the actual filename isn't given, but in practice, we need to list it. Wait, perhaps the image's filename is provided as part of the input, but here the user just shows the image. Hmm. Maybe the correct approach is to categorize into folders like "Flowers" and "Nature", then include the image's filename. Since the image is of flowers, the folders are Flowers and Nature. So the JSON would be {"folders": [{"name": "Flowers", "images": ["flower_field.jpg"]}, {"name": "Nature", "images": ["flower_field.jpg"]}]}. Wait, but maybe the user expects one or more folders. Let's think: the image is primarily flowers, so Flowers is a key folder. Nature is also appropriate as it's an outdoor scene. So those two folders.
</think>{"folders": [{"name": "Flowers", "images": ["flower_field.jpg"]}, {"name": "Nature", "images": ["flower_field.jpg"]}]}
2025-06-10 01:08:01,971 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\3.jpg
2025-06-10 01:08:01,972 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 3, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:08:01,978 - DEBUG - {"call_id": 3, "event": "Received RPC result", "json": {"callId": 3, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:08:01,978 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749542881974 - 675.jpg",
  "name": "3.jpg",
  "sizeBytes": 16659,
  "type": "file"
})
2025-06-10 01:08:01,978 - DEBUG - Full prompt sent to LLM: Categorize the image into one or more folders.
Respond ONLY with a JSON object: {"folders": [{"name": "Folder Name", "images": ["image_filename.jpg"]}]}.
Include only the filename of the image being processed in the 'images' array.

2025-06-10 01:08:01,979 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 4, "creationParameter": {"history": {"messages": [{"content": [{"text": "Categorize the image into one or more folders.\nRespond ONLY with a JSON object: {\"folders\": [{\"name\": \"Folder Name\", \"images\": [\"image_filename.jpg\"]}]}.\nInclude only the filename of the image being processed in the 'images' array.\n", "type": "text"}, {"fileType": "image", "identifier": "1749542881974 - 675.jpg", "name": "3.jpg", "sizeBytes": 16659, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@q4_0"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-10 01:08:39,402 - ERROR - Error generating response for 3.jpg: Chat response error: Model unloaded.. Error: Chat response error: Model unloaded.
2025-06-10 01:08:39,402 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\56ba49e41a00002d00ab2507.jpeg
2025-06-10 01:08:39,402 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 4, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:08:39,427 - DEBUG - {"call_id": 4, "event": "Received RPC result", "json": {"callId": 4, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:08:39,427 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749542919406 - 357.jpeg",
  "name": "56ba49e41a00002d00ab2507.jpeg",
  "sizeBytes": 42576,
  "type": "file"
})
2025-06-10 01:08:39,427 - DEBUG - Full prompt sent to LLM: Categorize the image into one or more folders.
Respond ONLY with a JSON object: {"folders": [{"name": "Folder Name", "images": ["image_filename.jpg"]}]}.
Include only the filename of the image being processed in the 'images' array.

2025-06-10 01:08:39,427 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 5, "creationParameter": {"history": {"messages": [{"content": [{"text": "Categorize the image into one or more folders.\nRespond ONLY with a JSON object: {\"folders\": [{\"name\": \"Folder Name\", \"images\": [\"image_filename.jpg\"]}]}.\nInclude only the filename of the image being processed in the 'images' array.\n", "type": "text"}, {"fileType": "image", "identifier": "1749542919406 - 357.jpeg", "name": "56ba49e41a00002d00ab2507.jpeg", "sizeBytes": 42576, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@q4_0"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-10 01:08:39,440 - ERROR - Error generating response for 56ba49e41a00002d00ab2507.jpeg: Chat response error: 

  No model found that fits the query.

  Additional information from server:
    {
      "code": "generic.noModelMatchingQuery",
      "loadedModelsSample": [],
      "query": {
        "domain": "llm",
        "identifier": "m@q4_0"
      },
      "totalLoadedModels": 0
    }. Error: Chat response error: 

  No model found that fits the query.

  Additional information from server:
    {
      "code": "generic.noModelMatchingQuery",
      "loadedModelsSample": [],
      "query": {
        "domain": "llm",
        "identifier": "m@q4_0"
      },
      "totalLoadedModels": 0
    }
2025-06-10 01:08:39,440 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\9.jpg
2025-06-10 01:08:39,441 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 5, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:08:39,454 - DEBUG - {"call_id": 5, "event": "Received RPC result", "json": {"callId": 5, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:08:39,454 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749542919444 - 311.jpg",
  "name": "9.jpg",
  "sizeBytes": 77222,
  "type": "file"
})
2025-06-10 01:08:39,455 - DEBUG - Full prompt sent to LLM: Categorize the image into one or more folders.
Respond ONLY with a JSON object: {"folders": [{"name": "Folder Name", "images": ["image_filename.jpg"]}]}.
Include only the filename of the image being processed in the 'images' array.

2025-06-10 01:08:39,455 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 6, "creationParameter": {"history": {"messages": [{"content": [{"text": "Categorize the image into one or more folders.\nRespond ONLY with a JSON object: {\"folders\": [{\"name\": \"Folder Name\", \"images\": [\"image_filename.jpg\"]}]}.\nInclude only the filename of the image being processed in the 'images' array.\n", "type": "text"}, {"fileType": "image", "identifier": "1749542919444 - 311.jpg", "name": "9.jpg", "sizeBytes": 77222, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@q4_0"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-10 01:08:39,465 - ERROR - Error generating response for 9.jpg: Chat response error: 

  No model found that fits the query.

  Additional information from server:
    {
      "code": "generic.noModelMatchingQuery",
      "loadedModelsSample": [],
      "query": {
        "domain": "llm",
        "identifier": "m@q4_0"
      },
      "totalLoadedModels": 0
    }. Error: Chat response error: 

  No model found that fits the query.

  Additional information from server:
    {
      "code": "generic.noModelMatchingQuery",
      "loadedModelsSample": [],
      "query": {
        "domain": "llm",
        "identifier": "m@q4_0"
      },
      "totalLoadedModels": 0
    }
2025-06-10 01:08:39,465 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\a13052540ed9f27eea7d611e9e33293fea9fb4aa584c029e80036f5f857f03de.webp
2025-06-10 01:08:39,467 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 6, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:08:39,511 - DEBUG - {"call_id": 6, "event": "Received RPC result", "json": {"callId": 6, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:08:39,512 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749542919473 - 704.webp",
  "name": "a13052540ed9f27eea7d611e9e33293fea9fb4aa584c029e80036f5f857f03de.webp",
  "sizeBytes": 231480,
  "type": "file"
})
2025-06-10 01:08:39,512 - DEBUG - Full prompt sent to LLM: Categorize the image into one or more folders.
Respond ONLY with a JSON object: {"folders": [{"name": "Folder Name", "images": ["image_filename.jpg"]}]}.
Include only the filename of the image being processed in the 'images' array.

2025-06-10 01:08:39,512 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 7, "creationParameter": {"history": {"messages": [{"content": [{"text": "Categorize the image into one or more folders.\nRespond ONLY with a JSON object: {\"folders\": [{\"name\": \"Folder Name\", \"images\": [\"image_filename.jpg\"]}]}.\nInclude only the filename of the image being processed in the 'images' array.\n", "type": "text"}, {"fileType": "image", "identifier": "1749542919473 - 704.webp", "name": "a13052540ed9f27eea7d611e9e33293fea9fb4aa584c029e80036f5f857f03de.webp", "sizeBytes": 231480, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@q4_0"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-10 01:08:39,518 - ERROR - Error generating response for a13052540ed9f27eea7d611e9e33293fea9fb4aa584c029e80036f5f857f03de.webp: Chat response error: 

  No model found that fits the query.

  Additional information from server:
    {
      "code": "generic.noModelMatchingQuery",
      "loadedModelsSample": [],
      "query": {
        "domain": "llm",
        "identifier": "m@q4_0"
      },
      "totalLoadedModels": 0
    }. Error: Chat response error: 

  No model found that fits the query.

  Additional information from server:
    {
      "code": "generic.noModelMatchingQuery",
      "loadedModelsSample": [],
      "query": {
        "domain": "llm",
        "identifier": "m@q4_0"
      },
      "totalLoadedModels": 0
    }
2025-06-10 01:08:39,518 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\A1897E5E85B488FDE84BB77AE42E97B7778AE8CAC745860766931D266FDE4FE0.jpg
2025-06-10 01:08:39,519 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 7, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:08:39,538 - DEBUG - {"call_id": 7, "event": "Received RPC result", "json": {"callId": 7, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:08:39,539 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749542919524 - 867.jpg",
  "name": "A1897E5E85B488FDE84BB77AE42E97B7778AE8CAC745860766931D266FDE4FE0.jpg",
  "sizeBytes": 50344,
  "type": "file"
})
2025-06-10 01:08:39,539 - DEBUG - Full prompt sent to LLM: Categorize the image into one or more folders.
Respond ONLY with a JSON object: {"folders": [{"name": "Folder Name", "images": ["image_filename.jpg"]}]}.
Include only the filename of the image being processed in the 'images' array.

2025-06-10 01:08:39,539 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 8, "creationParameter": {"history": {"messages": [{"content": [{"text": "Categorize the image into one or more folders.\nRespond ONLY with a JSON object: {\"folders\": [{\"name\": \"Folder Name\", \"images\": [\"image_filename.jpg\"]}]}.\nInclude only the filename of the image being processed in the 'images' array.\n", "type": "text"}, {"fileType": "image", "identifier": "1749542919524 - 867.jpg", "name": "A1897E5E85B488FDE84BB77AE42E97B7778AE8CAC745860766931D266FDE4FE0.jpg", "sizeBytes": 50344, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@q4_0"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-10 01:08:39,549 - ERROR - Error generating response for A1897E5E85B488FDE84BB77AE42E97B7778AE8CAC745860766931D266FDE4FE0.jpg: Chat response error: 

  No model found that fits the query.

  Additional information from server:
    {
      "code": "generic.noModelMatchingQuery",
      "loadedModelsSample": [],
      "query": {
        "domain": "llm",
        "identifier": "m@q4_0"
      },
      "totalLoadedModels": 0
    }. Error: Chat response error: 

  No model found that fits the query.

  Additional information from server:
    {
      "code": "generic.noModelMatchingQuery",
      "loadedModelsSample": [],
      "query": {
        "domain": "llm",
        "identifier": "m@q4_0"
      },
      "totalLoadedModels": 0
    }
2025-06-10 01:08:39,549 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\Amazing-StonesMinerals6__880.jpg
2025-06-10 01:08:39,550 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 8, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:08:39,591 - DEBUG - {"call_id": 8, "event": "Received RPC result", "json": {"callId": 8, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:08:39,591 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749542919558 - 666.jpg",
  "name": "Amazing-StonesMinerals6__880.jpg",
  "sizeBytes": 128783,
  "type": "file"
})
2025-06-10 01:08:39,592 - DEBUG - Full prompt sent to LLM: Categorize the image into one or more folders.
Respond ONLY with a JSON object: {"folders": [{"name": "Folder Name", "images": ["image_filename.jpg"]}]}.
Include only the filename of the image being processed in the 'images' array.

2025-06-10 01:08:39,592 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 9, "creationParameter": {"history": {"messages": [{"content": [{"text": "Categorize the image into one or more folders.\nRespond ONLY with a JSON object: {\"folders\": [{\"name\": \"Folder Name\", \"images\": [\"image_filename.jpg\"]}]}.\nInclude only the filename of the image being processed in the 'images' array.\n", "type": "text"}, {"fileType": "image", "identifier": "1749542919558 - 666.jpg", "name": "Amazing-StonesMinerals6__880.jpg", "sizeBytes": 128783, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@q4_0"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-10 01:08:39,599 - ERROR - Error generating response for Amazing-StonesMinerals6__880.jpg: Chat response error: 

  No model found that fits the query.

  Additional information from server:
    {
      "code": "generic.noModelMatchingQuery",
      "loadedModelsSample": [],
      "query": {
        "domain": "llm",
        "identifier": "m@q4_0"
      },
      "totalLoadedModels": 0
    }. Error: Chat response error: 

  No model found that fits the query.

  Additional information from server:
    {
      "code": "generic.noModelMatchingQuery",
      "loadedModelsSample": [],
      "query": {
        "domain": "llm",
        "identifier": "m@q4_0"
      },
      "totalLoadedModels": 0
    }
2025-06-10 01:08:39,599 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\Bing_0056.jpeg
2025-06-10 01:08:39,600 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 9, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:08:39,615 - DEBUG - {"call_id": 9, "event": "Received RPC result", "json": {"callId": 9, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:08:39,616 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749542919603 - 350.jpeg",
  "name": "Bing_0056.jpeg",
  "sizeBytes": 88069,
  "type": "file"
})
2025-06-10 01:08:39,616 - DEBUG - Full prompt sent to LLM: Categorize the image into one or more folders.
Respond ONLY with a JSON object: {"folders": [{"name": "Folder Name", "images": ["image_filename.jpg"]}]}.
Include only the filename of the image being processed in the 'images' array.

2025-06-10 01:08:39,616 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 10, "creationParameter": {"history": {"messages": [{"content": [{"text": "Categorize the image into one or more folders.\nRespond ONLY with a JSON object: {\"folders\": [{\"name\": \"Folder Name\", \"images\": [\"image_filename.jpg\"]}]}.\nInclude only the filename of the image being processed in the 'images' array.\n", "type": "text"}, {"fileType": "image", "identifier": "1749542919603 - 350.jpeg", "name": "Bing_0056.jpeg", "sizeBytes": 88069, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@q4_0"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-10 01:08:39,627 - ERROR - Error generating response for Bing_0056.jpeg: Chat response error: 

  No model found that fits the query.

  Additional information from server:
    {
      "code": "generic.noModelMatchingQuery",
      "loadedModelsSample": [],
      "query": {
        "domain": "llm",
        "identifier": "m@q4_0"
      },
      "totalLoadedModels": 0
    }. Error: Chat response error: 

  No model found that fits the query.

  Additional information from server:
    {
      "code": "generic.noModelMatchingQuery",
      "loadedModelsSample": [],
      "query": {
        "domain": "llm",
        "identifier": "m@q4_0"
      },
      "totalLoadedModels": 0
    }
2025-06-10 01:08:39,627 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\NavalSquare.jpg
2025-06-10 01:08:39,628 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 10, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:08:39,651 - DEBUG - {"call_id": 10, "event": "Received RPC result", "json": {"callId": 10, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:08:39,651 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749542919639 - 383.jpg",
  "name": "NavalSquare.jpg",
  "sizeBytes": 45352,
  "type": "file"
})
2025-06-10 01:08:39,651 - DEBUG - Full prompt sent to LLM: Categorize the image into one or more folders.
Respond ONLY with a JSON object: {"folders": [{"name": "Folder Name", "images": ["image_filename.jpg"]}]}.
Include only the filename of the image being processed in the 'images' array.

2025-06-10 01:08:39,651 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 11, "creationParameter": {"history": {"messages": [{"content": [{"text": "Categorize the image into one or more folders.\nRespond ONLY with a JSON object: {\"folders\": [{\"name\": \"Folder Name\", \"images\": [\"image_filename.jpg\"]}]}.\nInclude only the filename of the image being processed in the 'images' array.\n", "type": "text"}, {"fileType": "image", "identifier": "1749542919639 - 383.jpg", "name": "NavalSquare.jpg", "sizeBytes": 45352, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@q4_0"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-10 01:08:39,662 - ERROR - Error generating response for NavalSquare.jpg: Chat response error: 

  No model found that fits the query.

  Additional information from server:
    {
      "code": "generic.noModelMatchingQuery",
      "loadedModelsSample": [],
      "query": {
        "domain": "llm",
        "identifier": "m@q4_0"
      },
      "totalLoadedModels": 0
    }. Error: Chat response error: 

  No model found that fits the query.

  Additional information from server:
    {
      "code": "generic.noModelMatchingQuery",
      "loadedModelsSample": [],
      "query": {
        "domain": "llm",
        "identifier": "m@q4_0"
      },
      "totalLoadedModels": 0
    }
2025-06-10 01:08:43,022 - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/files)", "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:08:43,023 - INFO - {"event": "Websocket demultiplexing task terminated.", "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:08:43,023 - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/files)", "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:08:43,023 - INFO - {"event": "Websocket closed.", "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:08:43,024 - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-06-10 01:08:43,024 - DEBUG - response_closed.started
2025-06-10 01:08:43,024 - DEBUG - response_closed.complete
2025-06-10 01:08:43,024 - INFO - {"event": "Websocket task terminated", "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:08:43,025 - INFO - {"event": "Websocket demultiplexing task terminated.", "ws_url": "ws://localhost:1234/embedding"}
2025-06-10 01:08:43,025 - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-06-10 01:08:43,025 - INFO - {"event": "Websocket closed.", "ws_url": "ws://localhost:1234/embedding"}
2025-06-10 01:08:43,025 - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-06-10 01:08:43,025 - DEBUG - response_closed.started
2025-06-10 01:08:43,026 - DEBUG - response_closed.complete
2025-06-10 01:08:43,026 - INFO - {"event": "Websocket task terminated", "ws_url": "ws://localhost:1234/embedding"}
2025-06-10 01:08:43,027 - INFO - {"event": "Websocket demultiplexing task terminated.", "ws_url": "ws://localhost:1234/llm"}
2025-06-10 01:08:43,027 - INFO - {"event": "Websocket closed.", "ws_url": "ws://localhost:1234/llm"}
2025-06-10 01:08:43,027 - DEBUG - response_closed.started
2025-06-10 01:08:43,027 - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-06-10 01:08:43,028 - DEBUG - response_closed.complete
2025-06-10 01:08:43,028 - INFO - {"event": "Websocket task terminated", "ws_url": "ws://localhost:1234/llm"}
2025-06-10 01:08:43,028 - DEBUG - {"client": "<lmstudio.sync_api.Client object at 0x000001E01D6CA450>", "event": "Terminating websocket thread due to exception", "thread_id": "Thread-1"}
Traceback (most recent call last):
  File "C:\Users\dadad\AppData\Local\Programs\Python\Python311\Lib\site-packages\lmstudio\_ws_impl.py", line 292, in _log_thread_execution
    await never_set.wait()
  File "C:\Users\dadad\AppData\Local\Programs\Python\Python311\Lib\asyncio\locks.py", line 213, in wait
    await fut
asyncio.exceptions.CancelledError: Cancelled by cancel scope 1e0201fd310
2025-06-10 01:08:43,031 - INFO - {"client": "<lmstudio.sync_api.Client object at 0x000001E01D6CA450>", "event": "Websocket thread terminated", "thread_id": "Thread-1"}
2025-06-10 01:11:19,186 - DEBUG - Using proactor: IocpProactor
2025-06-10 01:11:19,192 - INFO - {"client": "<lmstudio.sync_api.Client object at 0x000002262E085C50>", "event": "Websocket handling thread started", "thread_id": "Thread-1"}
2025-06-10 01:11:19,193 - INFO - {"event": "Websocket handling task started", "ws_url": "ws://localhost:1234/llm"}
2025-06-10 01:11:19,389 - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-06-10 01:11:19,648 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002262F02EA50>
2025-06-10 01:11:19,648 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-10 01:11:19,648 - DEBUG - send_request_headers.complete
2025-06-10 01:11:19,648 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-10 01:11:19,649 - DEBUG - send_request_body.complete
2025-06-10 01:11:19,649 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-10 01:11:19,651 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'ByhfUt6jFuPdFDx2xFMP6YieYQA=')])
2025-06-10 01:11:19,651 - INFO - HTTP Request: GET ws://localhost:1234/llm "HTTP/1.1 101 Switching Protocols"
2025-06-10 01:11:19,652 - DEBUG - {"event": "Websocket connected", "ws_url": "ws://localhost:1234/llm"}
2025-06-10 01:11:19,653 - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "ws_url": "ws://localhost:1234/llm"}
2025-06-10 01:11:19,653 - INFO - {"event": "Websocket session established (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-06-10 01:11:19,653 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "listLoaded", "type": "rpcCall"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-10 01:11:19,657 - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": ["..."], "type": "rpcResult"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-10 01:11:19,657 - INFO - {"event": "Websocket handling task started", "ws_url": "ws://localhost:1234/embedding"}
2025-06-10 01:11:19,834 - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-06-10 01:11:20,087 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002262F03A910>
2025-06-10 01:11:20,087 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-10 01:11:20,087 - DEBUG - send_request_headers.complete
2025-06-10 01:11:20,087 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-10 01:11:20,087 - DEBUG - send_request_body.complete
2025-06-10 01:11:20,087 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-10 01:11:20,088 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'LP9eLJCbj7YlrUx65b/fipX5vEE=')])
2025-06-10 01:11:20,088 - INFO - HTTP Request: GET ws://localhost:1234/embedding "HTTP/1.1 101 Switching Protocols"
2025-06-10 01:11:20,088 - DEBUG - {"event": "Websocket connected", "ws_url": "ws://localhost:1234/embedding"}
2025-06-10 01:11:20,089 - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "ws_url": "ws://localhost:1234/embedding"}
2025-06-10 01:11:20,089 - INFO - {"event": "Websocket session established (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-06-10 01:11:20,089 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "listLoaded", "type": "rpcCall"}, "ws_url": "ws://localhost:1234/embedding"}
2025-06-10 01:11:20,091 - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": ["..."], "type": "rpcResult"}, "ws_url": "ws://localhost:1234/embedding"}
2025-06-10 01:11:20,092 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 1, "creationParameter": {"identifier": "m@q4_0", "loadConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}, "loadTtlMs": 3600000}, "endpoint": "getOrLoad", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-10 01:11:20,094 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\2010-11-21-full-moon-1000.png
2025-06-10 01:11:20,096 - INFO - {"event": "Websocket handling task started", "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:11:20,280 - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-06-10 01:11:20,531 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002262F046990>
2025-06-10 01:11:20,531 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-10 01:11:20,532 - DEBUG - send_request_headers.complete
2025-06-10 01:11:20,532 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-10 01:11:20,532 - DEBUG - send_request_body.complete
2025-06-10 01:11:20,532 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-10 01:11:20,533 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'GuBwZnwoe0bA2yrMnGcbjSpRDR8=')])
2025-06-10 01:11:20,533 - INFO - HTTP Request: GET ws://localhost:1234/files "HTTP/1.1 101 Switching Protocols"
2025-06-10 01:11:20,533 - DEBUG - {"event": "Websocket connected", "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:11:20,534 - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:11:20,534 - INFO - {"event": "Websocket session established (ws://localhost:1234/files)", "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:11:20,534 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:11:20,546 - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:11:20,547 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749543080539 - 675.png",
  "name": "2010-11-21-full-moon-1000.png",
  "sizeBytes": 303022,
  "type": "file"
})
2025-06-10 01:11:20,547 - DEBUG - Full prompt sent to LLM: Categorize the image into one or more folders.
Respond ONLY with a JSON object: {"folders": [{"name": "Folder Name", "images": ["image_filename.jpg"]}]}.
Include only the filename of the image being processed in the 'images' array.

2025-06-10 01:11:20,549 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 2, "creationParameter": {"history": {"messages": [{"content": [{"text": "Categorize the image into one or more folders.\nRespond ONLY with a JSON object: {\"folders\": [{\"name\": \"Folder Name\", \"images\": [\"image_filename.jpg\"]}]}.\nInclude only the filename of the image being processed in the 'images' array.\n", "type": "text"}, {"fileType": "image", "identifier": "1749543080539 - 675.png", "name": "2010-11-21-full-moon-1000.png", "sizeBytes": 303022, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@q4_0"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-10 01:12:57,114 - DEBUG - Attempting to extract JSON from text: <think>
So, let's see. The image is of the Moon, so I need to categorize it into folders. First, think about possible categories. Maybe "Space" or "Celestial Bodies". Let's pick appropriate folder names. So the image shows the Moon, which is a celestial body in space. So create folders like "Space" and "Celestial Bodies". Then add the image filename. Wait, the user didn't provide the filename, but maybe assume it's something like "moon.jpg". Wait, the problem says to include the filename of the image being processed. Since the image is the Moon, let's name the folder(s) and put the image.

So first, identify the content: the Moon, which is a celestial body in space. So folders could be "Space" and "Celestial Bodies". Then the image's filenamesince it's not given, but maybe the user expects the filename as part of the response. Wait, the task is to categorize into one or more folders. So let's create two folders: "Space" and "Celestial Bodies", each containing the image.

Wait, but maybe the image is just in one folder? No, can be multiple. Let's think. The Moon is a celestial body, so "Celestial Bodies" is good. Also, it's part of space, so "Space". So two folders.

So the JSON would be:

{"folders": [{"name": "Space", "images": ["moon.jpg"]}, {"name": "Celestial Bodies", "images": ["moon.jpg"]}]

But wait, the filenamesince the user provided the image, but in the problem, the image is the one shown. Since the user didn't specify the filename, maybe we can assume a generic name like "moon.png" or just use a placeholder. But the key is to categorize.

Alternatively, maybe the main category is "Moon" as a folder. Because the image is specifically of the Moon. So "Moon" could be a folder. Then also "Celestial Bodies" and "Space".

So possible folders: "Moon", "Celestial Bodies", "Space". Each containing the image.

But let's check. The image is a close-up of the Moon, showing its surface with craters. So categorizing into folders like "Moon", "Astronomy", "Space".

So the JSON would be:

{"folders": [
    {"name": "Moon", "images": ["moon.jpg"]},
    {"name": "Astronomy", "images": ["moon.jpg"]},
    {"name": "Space", "images": ["moon.jpg"]}
]}

But maybe the user expects concise. Let's pick the most accurate. The image is of the Moon, so "Moon" is a primary folder. Then "Celestial Bodies" and "Space" as secondary.

Alternatively, if only one folder, but the question says one or more. So better to have multiple relevant folders.

So finalizing:

Folders: "Moon", "Celestial Bodies", "Space". Each with the image.
</think>{"folders": [{"name": "Moon", "images": ["moon.jpg"]}, {"name": "Celestial Bodies", "images": ["moon.jpg"]}, {"name": "Space", "images": ["moon.jpg"]}]}
2025-06-10 01:12:57,114 - ERROR - Failed to parse JSON: Expecting ',' delimiter: line 3 column 1 (char 111). Text: <think>
So, let's see. The image is of the Moon, so I need to categorize it into folders. First, think about possible categories. Maybe "Space" or "Celestial Bodies". Let's pick appropriate folder names. So the image shows the Moon, which is a celestial body in space. So create folders like "Space" and "Celestial Bodies". Then add the image filename. Wait, the user didn't provide the filename, but maybe assume it's something like "moon.jpg". Wait, the problem says to include the filename of the ...
2025-06-10 01:12:57,151 - ERROR - Could not extract valid JSON from LLM response. Raw response: <think>
So, let's see. The image is of the Moon, so I need to categorize it into folders. First, think about possible categories. Maybe "Space" or "Celestial Bodies". Let's pick appropriate folder names. So the image shows the Moon, which is a celestial body in space. So create folders like "Space" and "Celestial Bodies". Then add the image filename. Wait, the user didn't provide the filename, but maybe assume it's something like "moon.jpg". Wait, the problem says to include the filename of the image being processed. Since the image is the Moon, let's name the folder(s) and put the image.

So first, identify the content: the Moon, which is a celestial body in space. So folders could be "Space" and "Celestial Bodies". Then the image's filenamesince it's not given, but maybe the user expects the filename as part of the response. Wait, the task is to categorize into one or more folders. So let's create two folders: "Space" and "Celestial Bodies", each containing the image.

Wait, but maybe the image is just in one folder? No, can be multiple. Let's think. The Moon is a celestial body, so "Celestial Bodies" is good. Also, it's part of space, so "Space". So two folders.

So the JSON would be:

{"folders": [{"name": "Space", "images": ["moon.jpg"]}, {"name": "Celestial Bodies", "images": ["moon.jpg"]}]

But wait, the filenamesince the user provided the image, but in the problem, the image is the one shown. Since the user didn't specify the filename, maybe we can assume a generic name like "moon.png" or just use a placeholder. But the key is to categorize.

Alternatively, maybe the main category is "Moon" as a folder. Because the image is specifically of the Moon. So "Moon" could be a folder. Then also "Celestial Bodies" and "Space".

So possible folders: "Moon", "Celestial Bodies", "Space". Each containing the image.

But let's check. The image is a close-up of the Moon, showing its surface with craters. So categorizing into folders like "Moon", "Astronomy", "Space".

So the JSON would be:

{"folders": [
    {"name": "Moon", "images": ["moon.jpg"]},
    {"name": "Astronomy", "images": ["moon.jpg"]},
    {"name": "Space", "images": ["moon.jpg"]}
]}

But maybe the user expects concise. Let's pick the most accurate. The image is of the Moon, so "Moon" is a primary folder. Then "Celestial Bodies" and "Space" as secondary.

Alternatively, if only one folder, but the question says one or more. So better to have multiple relevant folders.

So finalizing:

Folders: "Moon", "Celestial Bodies", "Space". Each with the image.
</think>{"folders": [{"name": "Moon", "images": ["moon.jpg"]}, {"name": "Celestial Bodies", "images": ["moon.jpg"]}, {"name": "Space", "images": ["moon.jpg"]}]}
2025-06-10 01:12:57,151 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\21663397742_10c834c71e_c.jpg
2025-06-10 01:12:57,154 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 2, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:12:57,184 - DEBUG - {"call_id": 2, "event": "Received RPC result", "json": {"callId": 2, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:12:57,184 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749543177161 - 756.jpg",
  "name": "21663397742_10c834c71e_c.jpg",
  "sizeBytes": 189014,
  "type": "file"
})
2025-06-10 01:12:57,186 - DEBUG - Full prompt sent to LLM: Categorize the image into one or more folders.
Respond ONLY with a JSON object: {"folders": [{"name": "Folder Name", "images": ["image_filename.jpg"]}]}.
Include only the filename of the image being processed in the 'images' array.

2025-06-10 01:12:57,186 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 3, "creationParameter": {"history": {"messages": [{"content": [{"text": "Categorize the image into one or more folders.\nRespond ONLY with a JSON object: {\"folders\": [{\"name\": \"Folder Name\", \"images\": [\"image_filename.jpg\"]}]}.\nInclude only the filename of the image being processed in the 'images' array.\n", "type": "text"}, {"fileType": "image", "identifier": "1749543177161 - 756.jpg", "name": "21663397742_10c834c71e_c.jpg", "sizeBytes": 189014, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@q4_0"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-10 01:15:27,991 - DEBUG - Attempting to extract JSON from text: <think>
So, let's see. The image is of pink flowers, so first, I need to categorize into folders. Possible folders could be "Flowers" since it's a flower image. Also, maybe "Nature" as it's an outdoor nature scene. Let's check. The main subject is flowers, so "Flowers" is appropriate. Then "Nature" because it's part of the natural world. So the JSON should have these folders with the image filename. Wait, the image filename isn't given, but in the problem, we need to include the filename being processed. But since the user provided the image, maybe the filename is something like "pink_flowers.jpg" or similar. But since the user wants the response, I need to structure it.

So folders would be "Flowers" and "Nature". Then images array has the filename. Let's assume the filename is "flower_field.jpg" (but actually, the exact name isn't provided, but in the problem, we just use the image being processed. Wait, the user says "Include only the filename of the image being processed in the 'images' array." So maybe the filename is like "example.jpg", but since it's not given, perhaps we can use a generic name. But maybe the actual filename isn't provided, so we just put the correct structure.

So the JSON would be:

{"folders": [{"name": "Flowers", "images": ["flower_image.jpg"]}, {"name": "Nature", "images": ["flower_image.jpg"]}]

Wait, but need to make sure. The image is of flowers in a natural setting, so both Flowers and Nature are appropriate categories.
</think>{"folders": [{"name": "Flowers", "images": ["pink_flowers.jpg"]}, {"name": "Nature", "images": ["pink_flowers.jpg"]}]}
2025-06-10 01:15:27,992 - ERROR - Failed to parse JSON: Expecting ',' delimiter: line 3 column 1 (char 119). Text: <think>
So, let's see. The image is of pink flowers, so first, I need to categorize into folders. Possible folders could be "Flowers" since it's a flower image. Also, maybe "Nature" as it's an outdoor nature scene. Let's check. The main subject is flowers, so "Flowers" is appropriate. Then "Nature" because it's part of the natural world. So the JSON should have these folders with the image filename. Wait, the image filename isn't given, but in the problem, we need to include the filename being p...
2025-06-10 01:15:27,994 - ERROR - Could not extract valid JSON from LLM response. Raw response: <think>
So, let's see. The image is of pink flowers, so first, I need to categorize into folders. Possible folders could be "Flowers" since it's a flower image. Also, maybe "Nature" as it's an outdoor nature scene. Let's check. The main subject is flowers, so "Flowers" is appropriate. Then "Nature" because it's part of the natural world. So the JSON should have these folders with the image filename. Wait, the image filename isn't given, but in the problem, we need to include the filename being processed. But since the user provided the image, maybe the filename is something like "pink_flowers.jpg" or similar. But since the user wants the response, I need to structure it.

So folders would be "Flowers" and "Nature". Then images array has the filename. Let's assume the filename is "flower_field.jpg" (but actually, the exact name isn't provided, but in the problem, we just use the image being processed. Wait, the user says "Include only the filename of the image being processed in the 'images' array." So maybe the filename is like "example.jpg", but since it's not given, perhaps we can use a generic name. But maybe the actual filename isn't provided, so we just put the correct structure.

So the JSON would be:

{"folders": [{"name": "Flowers", "images": ["flower_image.jpg"]}, {"name": "Nature", "images": ["flower_image.jpg"]}]

Wait, but need to make sure. The image is of flowers in a natural setting, so both Flowers and Nature are appropriate categories.
</think>{"folders": [{"name": "Flowers", "images": ["pink_flowers.jpg"]}, {"name": "Nature", "images": ["pink_flowers.jpg"]}]}
2025-06-10 01:15:27,995 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\3.jpg
2025-06-10 01:15:27,996 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 3, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:15:28,011 - DEBUG - {"call_id": 3, "event": "Received RPC result", "json": {"callId": 3, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:15:28,012 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749543328002 - 768.jpg",
  "name": "3.jpg",
  "sizeBytes": 16659,
  "type": "file"
})
2025-06-10 01:15:28,012 - DEBUG - Full prompt sent to LLM: Categorize the image into one or more folders.
Respond ONLY with a JSON object: {"folders": [{"name": "Folder Name", "images": ["image_filename.jpg"]}]}.
Include only the filename of the image being processed in the 'images' array.

2025-06-10 01:15:28,012 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 4, "creationParameter": {"history": {"messages": [{"content": [{"text": "Categorize the image into one or more folders.\nRespond ONLY with a JSON object: {\"folders\": [{\"name\": \"Folder Name\", \"images\": [\"image_filename.jpg\"]}]}.\nInclude only the filename of the image being processed in the 'images' array.\n", "type": "text"}, {"fileType": "image", "identifier": "1749543328002 - 768.jpg", "name": "3.jpg", "sizeBytes": 16659, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@q4_0"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-10 01:16:45,915 - DEBUG - Attempting to extract JSON from text: <think>
So, let's see. The image is of a forest scene with trees, ferns, and a fallen log. So I need to categorize it into folders. Common categories for nature images might be "forest", "nature", "outdoor". Let's pick those. Then the filenamewait, the user didn't provide the filename, but in the example, we use the image being processed. Wait, the input is the image, so the filename would be whatever it is. But since the user just shows the image, maybe the filename is something like "forest_scene.jpg". So the folders would be nature-related.

So first, identify the content: forest, nature, outdoor. Then create a JSON with those folders and the image.
</think>{"folders": [{"name": "nature", "images": ["forest_scene.jpg"]}, {"name": "outdoor", "images": ["forest_scene.jpg"]}, {"name": "forest", "images": ["forest_scene.jpg"]}]}
2025-06-10 01:16:45,920 - ERROR - Error generating response for 3.jpg: type object 'ImageOrganizationSchema' has no attribute 'model_validate'. Error: type object 'ImageOrganizationSchema' has no attribute 'model_validate'
2025-06-10 01:16:45,920 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\56ba49e41a00002d00ab2507.jpeg
2025-06-10 01:16:45,921 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 4, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:16:45,930 - DEBUG - {"call_id": 4, "event": "Received RPC result", "json": {"callId": 4, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:16:45,930 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749543405925 - 892.jpeg",
  "name": "56ba49e41a00002d00ab2507.jpeg",
  "sizeBytes": 42576,
  "type": "file"
})
2025-06-10 01:16:45,931 - DEBUG - Full prompt sent to LLM: Categorize the image into one or more folders.
Respond ONLY with a JSON object: {"folders": [{"name": "Folder Name", "images": ["image_filename.jpg"]}]}.
Include only the filename of the image being processed in the 'images' array.

2025-06-10 01:16:45,931 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 5, "creationParameter": {"history": {"messages": [{"content": [{"text": "Categorize the image into one or more folders.\nRespond ONLY with a JSON object: {\"folders\": [{\"name\": \"Folder Name\", \"images\": [\"image_filename.jpg\"]}]}.\nInclude only the filename of the image being processed in the 'images' array.\n", "type": "text"}, {"fileType": "image", "identifier": "1749543405925 - 892.jpeg", "name": "56ba49e41a00002d00ab2507.jpeg", "sizeBytes": 42576, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@q4_0"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-10 01:21:56,122 - DEBUG - Using proactor: IocpProactor
2025-06-10 01:21:56,202 - INFO - {"client": "<lmstudio.sync_api.Client object at 0x000002547793A590>", "event": "Websocket handling thread started", "thread_id": "Thread-1"}
2025-06-10 01:21:56,205 - INFO - {"event": "Websocket handling task started", "ws_url": "ws://localhost:1234/llm"}
2025-06-10 01:21:56,500 - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-06-10 01:21:56,768 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002540015F1D0>
2025-06-10 01:21:56,768 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-10 01:21:56,769 - DEBUG - send_request_headers.complete
2025-06-10 01:21:56,769 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-10 01:21:56,769 - DEBUG - send_request_body.complete
2025-06-10 01:21:56,769 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-10 01:21:56,769 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'pYFoc2YfGky4joOQOO6OzZji+SU=')])
2025-06-10 01:21:56,773 - INFO - HTTP Request: GET ws://localhost:1234/llm "HTTP/1.1 101 Switching Protocols"
2025-06-10 01:21:56,774 - DEBUG - {"event": "Websocket connected", "ws_url": "ws://localhost:1234/llm"}
2025-06-10 01:21:56,775 - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "ws_url": "ws://localhost:1234/llm"}
2025-06-10 01:21:56,775 - INFO - {"event": "Websocket session established (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-06-10 01:21:56,776 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "listLoaded", "type": "rpcCall"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-10 01:21:56,777 - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": ["..."], "type": "rpcResult"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-10 01:21:56,778 - INFO - {"event": "Websocket handling task started", "ws_url": "ws://localhost:1234/embedding"}
2025-06-10 01:21:56,960 - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-06-10 01:21:57,213 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002540016B250>
2025-06-10 01:21:57,213 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-10 01:21:57,214 - DEBUG - send_request_headers.complete
2025-06-10 01:21:57,214 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-10 01:21:57,214 - DEBUG - send_request_body.complete
2025-06-10 01:21:57,214 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-10 01:21:57,223 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'rq05+yeqVgWoGY53JTx9FNXEz6c=')])
2025-06-10 01:21:57,223 - INFO - HTTP Request: GET ws://localhost:1234/embedding "HTTP/1.1 101 Switching Protocols"
2025-06-10 01:21:57,224 - DEBUG - {"event": "Websocket connected", "ws_url": "ws://localhost:1234/embedding"}
2025-06-10 01:21:57,225 - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "ws_url": "ws://localhost:1234/embedding"}
2025-06-10 01:21:57,225 - INFO - {"event": "Websocket session established (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-06-10 01:21:57,225 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "listLoaded", "type": "rpcCall"}, "ws_url": "ws://localhost:1234/embedding"}
2025-06-10 01:21:57,226 - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": ["..."], "type": "rpcResult"}, "ws_url": "ws://localhost:1234/embedding"}
2025-06-10 01:21:57,233 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 1, "creationParameter": {"identifier": "m@q4_0", "loadConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}, "loadTtlMs": 3600000}, "endpoint": "getOrLoad", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-10 01:21:57,235 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\2010-11-21-full-moon-1000.png
2025-06-10 01:21:57,239 - INFO - {"event": "Websocket handling task started", "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:21:57,422 - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-06-10 01:21:57,673 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000025400173190>
2025-06-10 01:21:57,673 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-10 01:21:57,673 - DEBUG - send_request_headers.complete
2025-06-10 01:21:57,673 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-10 01:21:57,673 - DEBUG - send_request_body.complete
2025-06-10 01:21:57,673 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-10 01:21:57,673 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'4dZCf1jPpo1mYUGK/QMLHYwcomk=')])
2025-06-10 01:21:57,675 - INFO - HTTP Request: GET ws://localhost:1234/files "HTTP/1.1 101 Switching Protocols"
2025-06-10 01:21:57,675 - DEBUG - {"event": "Websocket connected", "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:21:57,676 - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:21:57,676 - INFO - {"event": "Websocket session established (ws://localhost:1234/files)", "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:21:57,676 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:21:57,693 - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:21:57,695 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749543717681 - 779.png",
  "name": "2010-11-21-full-moon-1000.png",
  "sizeBytes": 303022,
  "type": "file"
})
2025-06-10 01:21:57,695 - DEBUG - Full prompt sent to LLM: Categorize the image into one or more folders.
Respond ONLY with a JSON object: {"folders": [{"name": "Folder Name", "images": ["image_filename.jpg"]}]}.
Include only the filename of the image being processed in the 'images' array.

2025-06-10 01:21:57,701 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 2, "creationParameter": {"history": {"messages": [{"content": [{"text": "Categorize the image into one or more folders.\nRespond ONLY with a JSON object: {\"folders\": [{\"name\": \"Folder Name\", \"images\": [\"image_filename.jpg\"]}]}.\nInclude only the filename of the image being processed in the 'images' array.\n", "type": "text"}, {"fileType": "image", "identifier": "1749543717681 - 779.png", "name": "2010-11-21-full-moon-1000.png", "sizeBytes": 303022, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@q4_0"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-10 01:22:03,416 - DEBUG - Attempting to extract JSON from text: {"folders": [{"name": "Space", "images": ["moon.jpg"]}, {"name": "Celestial Bodies", "images": ["moon.jpg"]}]}
2025-06-10 01:22:03,420 - ERROR - Error generating response for 2010-11-21-full-moon-1000.png: type object 'ImageOrganizationSchema' has no attribute 'model_validate'. Error: type object 'ImageOrganizationSchema' has no attribute 'model_validate'
2025-06-10 01:22:03,421 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\21663397742_10c834c71e_c.jpg
2025-06-10 01:22:03,422 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 2, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:22:03,435 - DEBUG - {"call_id": 2, "event": "Received RPC result", "json": {"callId": 2, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:22:03,435 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749543723427 - 459.jpg",
  "name": "21663397742_10c834c71e_c.jpg",
  "sizeBytes": 189014,
  "type": "file"
})
2025-06-10 01:22:03,435 - DEBUG - Full prompt sent to LLM: Categorize the image into one or more folders.
Respond ONLY with a JSON object: {"folders": [{"name": "Folder Name", "images": ["image_filename.jpg"]}]}.
Include only the filename of the image being processed in the 'images' array.

2025-06-10 01:22:03,436 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 3, "creationParameter": {"history": {"messages": [{"content": [{"text": "Categorize the image into one or more folders.\nRespond ONLY with a JSON object: {\"folders\": [{\"name\": \"Folder Name\", \"images\": [\"image_filename.jpg\"]}]}.\nInclude only the filename of the image being processed in the 'images' array.\n", "type": "text"}, {"fileType": "image", "identifier": "1749543723427 - 459.jpg", "name": "21663397742_10c834c71e_c.jpg", "sizeBytes": 189014, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@q4_0"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-10 01:22:08,583 - DEBUG - Attempting to extract JSON from text: {"folders": [{"name": "Flowers", "images": ["flowers_in_garden.jpg"]}]}
2025-06-10 01:22:08,586 - ERROR - Error generating response for 21663397742_10c834c71e_c.jpg: type object 'ImageOrganizationSchema' has no attribute 'model_validate'. Error: type object 'ImageOrganizationSchema' has no attribute 'model_validate'
2025-06-10 01:22:08,586 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\3.jpg
2025-06-10 01:22:08,587 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 3, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:22:08,595 - DEBUG - {"call_id": 3, "event": "Received RPC result", "json": {"callId": 3, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:22:08,595 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749543728588 - 286.jpg",
  "name": "3.jpg",
  "sizeBytes": 16659,
  "type": "file"
})
2025-06-10 01:22:08,595 - DEBUG - Full prompt sent to LLM: Categorize the image into one or more folders.
Respond ONLY with a JSON object: {"folders": [{"name": "Folder Name", "images": ["image_filename.jpg"]}]}.
Include only the filename of the image being processed in the 'images' array.

2025-06-10 01:22:08,596 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 4, "creationParameter": {"history": {"messages": [{"content": [{"text": "Categorize the image into one or more folders.\nRespond ONLY with a JSON object: {\"folders\": [{\"name\": \"Folder Name\", \"images\": [\"image_filename.jpg\"]}]}.\nInclude only the filename of the image being processed in the 'images' array.\n", "type": "text"}, {"fileType": "image", "identifier": "1749543728588 - 286.jpg", "name": "3.jpg", "sizeBytes": 16659, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@q4_0"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-10 01:22:15,855 - DEBUG - Attempting to extract JSON from text: {"folders": [{"name": "nature", "images": ["forest.jpg"]}, {"name": "outdoor", "images": ["forest.jpg"]}]}
2025-06-10 01:22:15,856 - ERROR - Error generating response for 3.jpg: type object 'ImageOrganizationSchema' has no attribute 'model_validate'. Error: type object 'ImageOrganizationSchema' has no attribute 'model_validate'
2025-06-10 01:22:15,856 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\56ba49e41a00002d00ab2507.jpeg
2025-06-10 01:22:15,857 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 4, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:22:15,864 - DEBUG - {"call_id": 4, "event": "Received RPC result", "json": {"callId": 4, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:22:15,865 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749543735860 - 33.jpeg",
  "name": "56ba49e41a00002d00ab2507.jpeg",
  "sizeBytes": 42576,
  "type": "file"
})
2025-06-10 01:22:15,865 - DEBUG - Full prompt sent to LLM: Categorize the image into one or more folders.
Respond ONLY with a JSON object: {"folders": [{"name": "Folder Name", "images": ["image_filename.jpg"]}]}.
Include only the filename of the image being processed in the 'images' array.

2025-06-10 01:22:15,865 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 5, "creationParameter": {"history": {"messages": [{"content": [{"text": "Categorize the image into one or more folders.\nRespond ONLY with a JSON object: {\"folders\": [{\"name\": \"Folder Name\", \"images\": [\"image_filename.jpg\"]}]}.\nInclude only the filename of the image being processed in the 'images' array.\n", "type": "text"}, {"fileType": "image", "identifier": "1749543735860 - 33.jpeg", "name": "56ba49e41a00002d00ab2507.jpeg", "sizeBytes": 42576, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@q4_0"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-10 01:22:22,335 - DEBUG - Attempting to extract JSON from text: {"folders": [{"name": "Animals", "images": ["shark_underwater.jpg"]}, {"name": "Marine Life", "images": ["shark_underwater.jpg"]}]}
2025-06-10 01:22:22,337 - ERROR - Error generating response for 56ba49e41a00002d00ab2507.jpeg: type object 'ImageOrganizationSchema' has no attribute 'model_validate'. Error: type object 'ImageOrganizationSchema' has no attribute 'model_validate'
2025-06-10 01:22:22,337 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\9.jpg
2025-06-10 01:22:22,339 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 5, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:22:22,346 - DEBUG - {"call_id": 5, "event": "Received RPC result", "json": {"callId": 5, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:22:22,347 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749543742341 - 916.jpg",
  "name": "9.jpg",
  "sizeBytes": 77222,
  "type": "file"
})
2025-06-10 01:22:22,347 - DEBUG - Full prompt sent to LLM: Categorize the image into one or more folders.
Respond ONLY with a JSON object: {"folders": [{"name": "Folder Name", "images": ["image_filename.jpg"]}]}.
Include only the filename of the image being processed in the 'images' array.

2025-06-10 01:22:22,347 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 6, "creationParameter": {"history": {"messages": [{"content": [{"text": "Categorize the image into one or more folders.\nRespond ONLY with a JSON object: {\"folders\": [{\"name\": \"Folder Name\", \"images\": [\"image_filename.jpg\"]}]}.\nInclude only the filename of the image being processed in the 'images' array.\n", "type": "text"}, {"fileType": "image", "identifier": "1749543742341 - 916.jpg", "name": "9.jpg", "sizeBytes": 77222, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@q4_0"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-10 01:22:29,103 - DEBUG - Attempting to extract JSON from text: {"folders": [{"name": "wreckage", "images": ["wreckage_diver.jpg"]}, {"name": "underwater", "images": ["wreckage_diver.jpg"]}]}
2025-06-10 01:22:29,105 - ERROR - Error generating response for 9.jpg: type object 'ImageOrganizationSchema' has no attribute 'model_validate'. Error: type object 'ImageOrganizationSchema' has no attribute 'model_validate'
2025-06-10 01:22:29,105 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\a13052540ed9f27eea7d611e9e33293fea9fb4aa584c029e80036f5f857f03de.webp
2025-06-10 01:22:29,107 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 6, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:22:29,120 - DEBUG - {"call_id": 6, "event": "Received RPC result", "json": {"callId": 6, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:22:29,120 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749543749112 - 55.webp",
  "name": "a13052540ed9f27eea7d611e9e33293fea9fb4aa584c029e80036f5f857f03de.webp",
  "sizeBytes": 231480,
  "type": "file"
})
2025-06-10 01:22:29,120 - DEBUG - Full prompt sent to LLM: Categorize the image into one or more folders.
Respond ONLY with a JSON object: {"folders": [{"name": "Folder Name", "images": ["image_filename.jpg"]}]}.
Include only the filename of the image being processed in the 'images' array.

2025-06-10 01:22:29,121 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 7, "creationParameter": {"history": {"messages": [{"content": [{"text": "Categorize the image into one or more folders.\nRespond ONLY with a JSON object: {\"folders\": [{\"name\": \"Folder Name\", \"images\": [\"image_filename.jpg\"]}]}.\nInclude only the filename of the image being processed in the 'images' array.\n", "type": "text"}, {"fileType": "image", "identifier": "1749543749112 - 55.webp", "name": "a13052540ed9f27eea7d611e9e33293fea9fb4aa584c029e80036f5f857f03de.webp", "sizeBytes": 231480, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@q4_0"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-10 01:22:35,683 - DEBUG - Attempting to extract JSON from text: {"folders": [{"name": "Castles", "images": ["castle_on_cliff.jpg"]}, {"name": "Architecture", "images": ["castle_on_cliff.jpg"]}]}
2025-06-10 01:22:35,686 - ERROR - Error generating response for a13052540ed9f27eea7d611e9e33293fea9fb4aa584c029e80036f5f857f03de.webp: type object 'ImageOrganizationSchema' has no attribute 'model_validate'. Error: type object 'ImageOrganizationSchema' has no attribute 'model_validate'
2025-06-10 01:22:35,686 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\A1897E5E85B488FDE84BB77AE42E97B7778AE8CAC745860766931D266FDE4FE0.jpg
2025-06-10 01:22:35,687 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 7, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:22:35,699 - DEBUG - {"call_id": 7, "event": "Received RPC result", "json": {"callId": 7, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:22:35,699 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749543755689 - 561.jpg",
  "name": "A1897E5E85B488FDE84BB77AE42E97B7778AE8CAC745860766931D266FDE4FE0.jpg",
  "sizeBytes": 50344,
  "type": "file"
})
2025-06-10 01:22:35,700 - DEBUG - Full prompt sent to LLM: Categorize the image into one or more folders.
Respond ONLY with a JSON object: {"folders": [{"name": "Folder Name", "images": ["image_filename.jpg"]}]}.
Include only the filename of the image being processed in the 'images' array.

2025-06-10 01:22:35,700 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 8, "creationParameter": {"history": {"messages": [{"content": [{"text": "Categorize the image into one or more folders.\nRespond ONLY with a JSON object: {\"folders\": [{\"name\": \"Folder Name\", \"images\": [\"image_filename.jpg\"]}]}.\nInclude only the filename of the image being processed in the 'images' array.\n", "type": "text"}, {"fileType": "image", "identifier": "1749543755689 - 561.jpg", "name": "A1897E5E85B488FDE84BB77AE42E97B7778AE8CAC745860766931D266FDE4FE0.jpg", "sizeBytes": 50344, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@q4_0"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-10 01:22:41,936 - DEBUG - Attempting to extract JSON from text: {"folders": [{"name": "character_design", "images": ["anime_girl.jpg"]}, {"name": "illustration", "images": ["anime_girl.jpg"]}]}
2025-06-10 01:22:41,939 - ERROR - Error generating response for A1897E5E85B488FDE84BB77AE42E97B7778AE8CAC745860766931D266FDE4FE0.jpg: type object 'ImageOrganizationSchema' has no attribute 'model_validate'. Error: type object 'ImageOrganizationSchema' has no attribute 'model_validate'
2025-06-10 01:22:41,939 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\Amazing-StonesMinerals6__880.jpg
2025-06-10 01:22:41,940 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 8, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:22:41,953 - DEBUG - {"call_id": 8, "event": "Received RPC result", "json": {"callId": 8, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:22:41,953 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749543761945 - 640.jpg",
  "name": "Amazing-StonesMinerals6__880.jpg",
  "sizeBytes": 128783,
  "type": "file"
})
2025-06-10 01:22:41,954 - DEBUG - Full prompt sent to LLM: Categorize the image into one or more folders.
Respond ONLY with a JSON object: {"folders": [{"name": "Folder Name", "images": ["image_filename.jpg"]}]}.
Include only the filename of the image being processed in the 'images' array.

2025-06-10 01:22:41,954 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 9, "creationParameter": {"history": {"messages": [{"content": [{"text": "Categorize the image into one or more folders.\nRespond ONLY with a JSON object: {\"folders\": [{\"name\": \"Folder Name\", \"images\": [\"image_filename.jpg\"]}]}.\nInclude only the filename of the image being processed in the 'images' array.\n", "type": "text"}, {"fileType": "image", "identifier": "1749543761945 - 640.jpg", "name": "Amazing-StonesMinerals6__880.jpg", "sizeBytes": 128783, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@q4_0"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-10 01:22:46,698 - DEBUG - Attempting to extract JSON from text: {"folders": [{"name": "minerals", "images": ["red_cubic_mineral.jpg"]}]}

2025-06-10 01:22:46,699 - ERROR - Error generating response for Amazing-StonesMinerals6__880.jpg: type object 'ImageOrganizationSchema' has no attribute 'model_validate'. Error: type object 'ImageOrganizationSchema' has no attribute 'model_validate'
2025-06-10 01:22:46,699 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\Bing_0056.jpeg
2025-06-10 01:22:46,700 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 9, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:22:46,708 - DEBUG - {"call_id": 9, "event": "Received RPC result", "json": {"callId": 9, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:22:46,708 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749543766702 - 591.jpeg",
  "name": "Bing_0056.jpeg",
  "sizeBytes": 88069,
  "type": "file"
})
2025-06-10 01:22:46,708 - DEBUG - Full prompt sent to LLM: Categorize the image into one or more folders.
Respond ONLY with a JSON object: {"folders": [{"name": "Folder Name", "images": ["image_filename.jpg"]}]}.
Include only the filename of the image being processed in the 'images' array.

2025-06-10 01:22:46,709 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 10, "creationParameter": {"history": {"messages": [{"content": [{"text": "Categorize the image into one or more folders.\nRespond ONLY with a JSON object: {\"folders\": [{\"name\": \"Folder Name\", \"images\": [\"image_filename.jpg\"]}]}.\nInclude only the filename of the image being processed in the 'images' array.\n", "type": "text"}, {"fileType": "image", "identifier": "1749543766702 - 591.jpeg", "name": "Bing_0056.jpeg", "sizeBytes": 88069, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@q4_0"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-10 01:22:50,539 - DEBUG - Attempting to extract JSON from text: {"folders": [{"name": "People", "images": ["image.jpg"]}]}

2025-06-10 01:22:50,541 - ERROR - Error generating response for Bing_0056.jpeg: type object 'ImageOrganizationSchema' has no attribute 'model_validate'. Error: type object 'ImageOrganizationSchema' has no attribute 'model_validate'
2025-06-10 01:22:50,541 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\NavalSquare.jpg
2025-06-10 01:22:50,542 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 10, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:22:50,549 - DEBUG - {"call_id": 10, "event": "Received RPC result", "json": {"callId": 10, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:22:50,549 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749543770544 - 799.jpg",
  "name": "NavalSquare.jpg",
  "sizeBytes": 45352,
  "type": "file"
})
2025-06-10 01:22:50,549 - DEBUG - Full prompt sent to LLM: Categorize the image into one or more folders.
Respond ONLY with a JSON object: {"folders": [{"name": "Folder Name", "images": ["image_filename.jpg"]}]}.
Include only the filename of the image being processed in the 'images' array.

2025-06-10 01:22:50,550 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 11, "creationParameter": {"history": {"messages": [{"content": [{"text": "Categorize the image into one or more folders.\nRespond ONLY with a JSON object: {\"folders\": [{\"name\": \"Folder Name\", \"images\": [\"image_filename.jpg\"]}]}.\nInclude only the filename of the image being processed in the 'images' array.\n", "type": "text"}, {"fileType": "image", "identifier": "1749543770544 - 799.jpg", "name": "NavalSquare.jpg", "sizeBytes": 45352, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@q4_0"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-10 01:22:56,074 - DEBUG - Attempting to extract JSON from text: {"folders": [{"name": "nature", "images": ["old_tree.jpg"]}, {"name": "trees", "images": ["old_tree.jpg"]}]}
2025-06-10 01:22:56,076 - ERROR - Error generating response for NavalSquare.jpg: type object 'ImageOrganizationSchema' has no attribute 'model_validate'. Error: type object 'ImageOrganizationSchema' has no attribute 'model_validate'
2025-06-10 01:28:00,432 - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/files)", "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:28:00,433 - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/files)", "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:28:00,433 - INFO - {"event": "Websocket demultiplexing task terminated.", "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:28:00,433 - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-06-10 01:28:00,433 - INFO - {"event": "Websocket closed.", "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:28:00,434 - DEBUG - response_closed.started
2025-06-10 01:28:00,434 - DEBUG - response_closed.complete
2025-06-10 01:28:00,434 - INFO - {"event": "Websocket task terminated", "ws_url": "ws://localhost:1234/files"}
2025-06-10 01:28:00,435 - INFO - {"event": "Websocket demultiplexing task terminated.", "ws_url": "ws://localhost:1234/embedding"}
2025-06-10 01:28:00,435 - INFO - {"event": "Websocket closed.", "ws_url": "ws://localhost:1234/embedding"}
2025-06-10 01:28:00,435 - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-06-10 01:28:00,435 - DEBUG - response_closed.started
2025-06-10 01:28:00,435 - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-06-10 01:28:00,435 - DEBUG - response_closed.complete
2025-06-10 01:28:00,435 - INFO - {"event": "Websocket task terminated", "ws_url": "ws://localhost:1234/embedding"}
2025-06-10 01:28:00,436 - INFO - {"event": "Websocket demultiplexing task terminated.", "ws_url": "ws://localhost:1234/llm"}
2025-06-10 01:28:00,436 - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-06-10 01:28:00,436 - INFO - {"event": "Websocket closed.", "ws_url": "ws://localhost:1234/llm"}
2025-06-10 01:28:00,436 - DEBUG - response_closed.started
2025-06-10 01:28:00,436 - DEBUG - response_closed.complete
2025-06-10 01:28:00,436 - INFO - {"event": "Websocket task terminated", "ws_url": "ws://localhost:1234/llm"}
2025-06-10 01:28:00,436 - DEBUG - {"client": "<lmstudio.sync_api.Client object at 0x000002547793A590>", "event": "Terminating websocket thread due to exception", "thread_id": "Thread-1"}
Traceback (most recent call last):
  File "C:\Users\dadad\AppData\Local\Programs\Python\Python311\Lib\site-packages\lmstudio\_ws_impl.py", line 292, in _log_thread_execution
    await never_set.wait()
  File "C:\Users\dadad\AppData\Local\Programs\Python\Python311\Lib\asyncio\locks.py", line 213, in wait
    await fut
asyncio.exceptions.CancelledError: Cancelled by cancel scope 2540013d410
2025-06-10 01:28:00,445 - INFO - {"client": "<lmstudio.sync_api.Client object at 0x000002547793A590>", "event": "Websocket thread terminated", "thread_id": "Thread-1"}
2025-06-10 15:05:12,867 - DEBUG - Using proactor: IocpProactor
2025-06-10 15:05:12,876 - INFO - {"client": "<lmstudio.sync_api.Client object at 0x0000011167315E50>", "event": "Websocket handling thread started", "thread_id": "Thread-1"}
2025-06-10 15:05:12,877 - INFO - {"event": "Websocket handling task started", "ws_url": "ws://localhost:1234/llm"}
2025-06-10 15:05:13,047 - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-06-10 15:05:13,303 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x00000111682FEA10>
2025-06-10 15:05:13,303 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-10 15:05:13,304 - DEBUG - send_request_headers.complete
2025-06-10 15:05:13,304 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-10 15:05:13,304 - DEBUG - send_request_body.complete
2025-06-10 15:05:13,304 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-10 15:05:13,314 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'ltYJ8dJ7VX/uEVbt9VIbPIoZtw0=')])
2025-06-10 15:05:13,315 - INFO - HTTP Request: GET ws://localhost:1234/llm "HTTP/1.1 101 Switching Protocols"
2025-06-10 15:05:13,315 - DEBUG - {"event": "Websocket connected", "ws_url": "ws://localhost:1234/llm"}
2025-06-10 15:05:13,320 - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "ws_url": "ws://localhost:1234/llm"}
2025-06-10 15:05:13,320 - INFO - {"event": "Websocket session established (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-06-10 15:05:13,320 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "listLoaded", "type": "rpcCall"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-10 15:05:13,324 - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": ["..."], "type": "rpcResult"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-10 15:05:13,324 - INFO - {"event": "Websocket handling task started", "ws_url": "ws://localhost:1234/embedding"}
2025-06-10 15:05:13,490 - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-06-10 15:05:13,742 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001116830A9D0>
2025-06-10 15:05:13,742 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-10 15:05:13,742 - DEBUG - send_request_headers.complete
2025-06-10 15:05:13,742 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-10 15:05:13,742 - DEBUG - send_request_body.complete
2025-06-10 15:05:13,742 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-10 15:05:13,743 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'nX5CFkX3Yoh+Q68r/u4YGPZ/VXw=')])
2025-06-10 15:05:13,743 - INFO - HTTP Request: GET ws://localhost:1234/embedding "HTTP/1.1 101 Switching Protocols"
2025-06-10 15:05:13,744 - DEBUG - {"event": "Websocket connected", "ws_url": "ws://localhost:1234/embedding"}
2025-06-10 15:05:13,746 - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "ws_url": "ws://localhost:1234/embedding"}
2025-06-10 15:05:13,746 - INFO - {"event": "Websocket session established (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-06-10 15:05:13,746 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "listLoaded", "type": "rpcCall"}, "ws_url": "ws://localhost:1234/embedding"}
2025-06-10 15:05:13,747 - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": ["..."], "type": "rpcResult"}, "ws_url": "ws://localhost:1234/embedding"}
2025-06-10 15:05:13,749 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 1, "creationParameter": {"identifier": "m@q2_k", "loadConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}, "loadTtlMs": 3600000}, "endpoint": "getOrLoad", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-10 15:05:13,751 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\2010-11-21-full-moon-1000.png
2025-06-10 15:05:13,752 - INFO - {"event": "Websocket handling task started", "ws_url": "ws://localhost:1234/files"}
2025-06-10 15:05:13,916 - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-06-10 15:05:14,168 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000011168312A90>
2025-06-10 15:05:14,168 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-10 15:05:14,168 - DEBUG - send_request_headers.complete
2025-06-10 15:05:14,168 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-10 15:05:14,168 - DEBUG - send_request_body.complete
2025-06-10 15:05:14,168 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-10 15:05:14,169 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'6n8wiYDCGEkkKlUz8P7HA/HceRs=')])
2025-06-10 15:05:14,169 - INFO - HTTP Request: GET ws://localhost:1234/files "HTTP/1.1 101 Switching Protocols"
2025-06-10 15:05:14,169 - DEBUG - {"event": "Websocket connected", "ws_url": "ws://localhost:1234/files"}
2025-06-10 15:05:14,170 - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "ws_url": "ws://localhost:1234/files"}
2025-06-10 15:05:14,170 - INFO - {"event": "Websocket session established (ws://localhost:1234/files)", "ws_url": "ws://localhost:1234/files"}
2025-06-10 15:05:14,170 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-10 15:05:14,184 - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-10 15:05:14,184 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749593114178 - 547.png",
  "name": "2010-11-21-full-moon-1000.png",
  "sizeBytes": 303022,
  "type": "file"
})
2025-06-10 15:05:14,184 - DEBUG - Full prompt sent to LLM: Categorize the image into one or more folders.
Respond ONLY with a JSON object: {"folders": [{"name": "Folder Name", "images": ["image_filename.jpg"]}]}.
Include only the filename of the image being processed in the 'images' array.

2025-06-10 15:05:14,187 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 2, "creationParameter": {"history": {"messages": [{"content": [{"text": "Categorize the image into one or more folders.\nRespond ONLY with a JSON object: {\"folders\": [{\"name\": \"Folder Name\", \"images\": [\"image_filename.jpg\"]}]}.\nInclude only the filename of the image being processed in the 'images' array.\n", "type": "text"}, {"fileType": "image", "identifier": "1749593114178 - 547.png", "name": "2010-11-21-full-moon-1000.png", "sizeBytes": 303022, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@q2_k"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-10 15:05:17,219 - DEBUG - Attempting to extract JSON from text: {"folders": [{"name": "Space", "images": ["moon.jpg"]}]}
2025-06-10 15:05:17,219 - DEBUG - Raw LLM response: {"folders": [{"name": "Space", "images": ["moon.jpg"]}]}
2025-06-10 15:05:17,221 - ERROR - LLM response was not a valid ImageOrganizationSchema instance. Raw response: {"folders": [{"name": "Space", "images": ["moon.jpg"]}]}
2025-06-10 15:05:17,221 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\21663397742_10c834c71e_c.jpg
2025-06-10 15:05:17,222 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 2, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-10 15:05:17,234 - DEBUG - {"call_id": 2, "event": "Received RPC result", "json": {"callId": 2, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-10 15:05:17,234 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749593117227 - 861.jpg",
  "name": "21663397742_10c834c71e_c.jpg",
  "sizeBytes": 189014,
  "type": "file"
})
2025-06-10 15:05:17,234 - DEBUG - Full prompt sent to LLM: Categorize the image into one or more folders.
Respond ONLY with a JSON object: {"folders": [{"name": "Folder Name", "images": ["image_filename.jpg"]}]}.
Include only the filename of the image being processed in the 'images' array.

2025-06-10 15:05:17,234 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 3, "creationParameter": {"history": {"messages": [{"content": [{"text": "Categorize the image into one or more folders.\nRespond ONLY with a JSON object: {\"folders\": [{\"name\": \"Folder Name\", \"images\": [\"image_filename.jpg\"]}]}.\nInclude only the filename of the image being processed in the 'images' array.\n", "type": "text"}, {"fileType": "image", "identifier": "1749593117227 - 861.jpg", "name": "21663397742_10c834c71e_c.jpg", "sizeBytes": 189014, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@q2_k"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-10 15:05:19,956 - DEBUG - Attempting to extract JSON from text: {"folders": [{"name": "Flowers", "images": ["flowers.jpg"]}]}
2025-06-10 15:05:19,957 - DEBUG - Raw LLM response: {"folders": [{"name": "Flowers", "images": ["flowers.jpg"]}]}
2025-06-10 15:05:19,959 - ERROR - LLM response was not a valid ImageOrganizationSchema instance. Raw response: {"folders": [{"name": "Flowers", "images": ["flowers.jpg"]}]}
2025-06-10 15:05:19,959 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\3.jpg
2025-06-10 15:05:19,959 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 3, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-10 15:05:19,964 - DEBUG - {"call_id": 3, "event": "Received RPC result", "json": {"callId": 3, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-10 15:05:19,964 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749593119961 - 413.jpg",
  "name": "3.jpg",
  "sizeBytes": 16659,
  "type": "file"
})
2025-06-10 15:05:19,964 - DEBUG - Full prompt sent to LLM: Categorize the image into one or more folders.
Respond ONLY with a JSON object: {"folders": [{"name": "Folder Name", "images": ["image_filename.jpg"]}]}.
Include only the filename of the image being processed in the 'images' array.

2025-06-10 15:05:19,964 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 4, "creationParameter": {"history": {"messages": [{"content": [{"text": "Categorize the image into one or more folders.\nRespond ONLY with a JSON object: {\"folders\": [{\"name\": \"Folder Name\", \"images\": [\"image_filename.jpg\"]}]}.\nInclude only the filename of the image being processed in the 'images' array.\n", "type": "text"}, {"fileType": "image", "identifier": "1749593119961 - 413.jpg", "name": "3.jpg", "sizeBytes": 16659, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@q2_k"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-10 15:05:22,612 - DEBUG - Attempting to extract JSON from text: {
  "folders": [
    {
      "name": "forest",
      "images": ["forest Scene.jpg"]
    }
  ]
}
2025-06-10 15:05:22,612 - DEBUG - Raw LLM response: {
  "folders": [
    {
      "name": "forest",
      "images": ["forest Scene.jpg"]
    }
  ]
}
2025-06-10 15:05:22,614 - ERROR - LLM response was not a valid ImageOrganizationSchema instance. Raw response: {
  "folders": [
    {
      "name": "forest",
      "images": ["forest Scene.jpg"]
    }
  ]
}
2025-06-10 15:05:22,614 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\56ba49e41a00002d00ab2507.jpeg
2025-06-10 15:05:22,615 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 4, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-10 15:05:22,621 - DEBUG - {"call_id": 4, "event": "Received RPC result", "json": {"callId": 4, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-10 15:05:22,621 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749593122617 - 288.jpeg",
  "name": "56ba49e41a00002d00ab2507.jpeg",
  "sizeBytes": 42576,
  "type": "file"
})
2025-06-10 15:05:22,621 - DEBUG - Full prompt sent to LLM: Categorize the image into one or more folders.
Respond ONLY with a JSON object: {"folders": [{"name": "Folder Name", "images": ["image_filename.jpg"]}]}.
Include only the filename of the image being processed in the 'images' array.

2025-06-10 15:05:22,621 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 5, "creationParameter": {"history": {"messages": [{"content": [{"text": "Categorize the image into one or more folders.\nRespond ONLY with a JSON object: {\"folders\": [{\"name\": \"Folder Name\", \"images\": [\"image_filename.jpg\"]}]}.\nInclude only the filename of the image being processed in the 'images' array.\n", "type": "text"}, {"fileType": "image", "identifier": "1749593122617 - 288.jpeg", "name": "56ba49e41a00002d00ab2507.jpeg", "sizeBytes": 42576, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@q2_k"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-10 15:05:25,239 - DEBUG - Attempting to extract JSON from text: {"folders": [{"name": "Marine Life", "images": ["great_white_shark.jpg"]}]}
2025-06-10 15:05:25,239 - DEBUG - Raw LLM response: {"folders": [{"name": "Marine Life", "images": ["great_white_shark.jpg"]}]}
2025-06-10 15:05:25,241 - ERROR - LLM response was not a valid ImageOrganizationSchema instance. Raw response: {"folders": [{"name": "Marine Life", "images": ["great_white_shark.jpg"]}]}
2025-06-10 15:05:25,241 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\9.jpg
2025-06-10 15:05:25,242 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 5, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-10 15:05:25,249 - DEBUG - {"call_id": 5, "event": "Received RPC result", "json": {"callId": 5, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-10 15:05:25,249 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749593125245 - 884.jpg",
  "name": "9.jpg",
  "sizeBytes": 77222,
  "type": "file"
})
2025-06-10 15:05:25,249 - DEBUG - Full prompt sent to LLM: Categorize the image into one or more folders.
Respond ONLY with a JSON object: {"folders": [{"name": "Folder Name", "images": ["image_filename.jpg"]}]}.
Include only the filename of the image being processed in the 'images' array.

2025-06-10 15:05:25,249 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 6, "creationParameter": {"history": {"messages": [{"content": [{"text": "Categorize the image into one or more folders.\nRespond ONLY with a JSON object: {\"folders\": [{\"name\": \"Folder Name\", \"images\": [\"image_filename.jpg\"]}]}.\nInclude only the filename of the image being processed in the 'images' array.\n", "type": "text"}, {"fileType": "image", "identifier": "1749593125245 - 884.jpg", "name": "9.jpg", "sizeBytes": 77222, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@q2_k"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-10 15:05:28,034 - DEBUG - Attempting to extract JSON from text: {"folders": [{"name": "underwater_scenery", "images": ["christ_statue_underwater.jpg"]}]}
2025-06-10 15:05:28,034 - DEBUG - Raw LLM response: {"folders": [{"name": "underwater_scenery", "images": ["christ_statue_underwater.jpg"]}]}
2025-06-10 15:05:28,035 - ERROR - LLM response was not a valid ImageOrganizationSchema instance. Raw response: {"folders": [{"name": "underwater_scenery", "images": ["christ_statue_underwater.jpg"]}]}
2025-06-10 15:05:28,035 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\a13052540ed9f27eea7d611e9e33293fea9fb4aa584c029e80036f5f857f03de.webp
2025-06-10 15:05:28,037 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 6, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-10 15:05:28,051 - DEBUG - {"call_id": 6, "event": "Received RPC result", "json": {"callId": 6, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-10 15:05:28,051 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749593128044 - 961.webp",
  "name": "a13052540ed9f27eea7d611e9e33293fea9fb4aa584c029e80036f5f857f03de.webp",
  "sizeBytes": 231480,
  "type": "file"
})
2025-06-10 15:05:28,051 - DEBUG - Full prompt sent to LLM: Categorize the image into one or more folders.
Respond ONLY with a JSON object: {"folders": [{"name": "Folder Name", "images": ["image_filename.jpg"]}]}.
Include only the filename of the image being processed in the 'images' array.

2025-06-10 15:05:28,051 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 7, "creationParameter": {"history": {"messages": [{"content": [{"text": "Categorize the image into one or more folders.\nRespond ONLY with a JSON object: {\"folders\": [{\"name\": \"Folder Name\", \"images\": [\"image_filename.jpg\"]}]}.\nInclude only the filename of the image being processed in the 'images' array.\n", "type": "text"}, {"fileType": "image", "identifier": "1749593128044 - 961.webp", "name": "a13052540ed9f27eea7d611e9e33293fea9fb4aa584c029e80036f5f857f03de.webp", "sizeBytes": 231480, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@q2_k"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-10 15:05:32,548 - DEBUG - Attempting to extract JSON from text: {"folders": [{"name": "Fantasy Architecture", "images": ["fantasy_castle.jpg"]}, {"name": "European Style Buildings", "images": ["fantasy_castle.jpg"]}]}
2025-06-10 15:05:32,548 - DEBUG - Raw LLM response: {"folders": [{"name": "Fantasy Architecture", "images": ["fantasy_castle.jpg"]}, {"name": "European Style Buildings", "images": ["fantasy_castle.jpg"]}]}
2025-06-10 15:05:32,550 - ERROR - LLM response was not a valid ImageOrganizationSchema instance. Raw response: {"folders": [{"name": "Fantasy Architecture", "images": ["fantasy_castle.jpg"]}, {"name": "European Style Buildings", "images": ["fantasy_castle.jpg"]}]}
2025-06-10 15:05:32,550 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\A1897E5E85B488FDE84BB77AE42E97B7778AE8CAC745860766931D266FDE4FE0.jpg
2025-06-10 15:05:32,550 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 7, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-10 15:05:32,558 - DEBUG - {"call_id": 7, "event": "Received RPC result", "json": {"callId": 7, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-10 15:05:32,558 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749593132553 - 515.jpg",
  "name": "A1897E5E85B488FDE84BB77AE42E97B7778AE8CAC745860766931D266FDE4FE0.jpg",
  "sizeBytes": 50344,
  "type": "file"
})
2025-06-10 15:05:32,558 - DEBUG - Full prompt sent to LLM: Categorize the image into one or more folders.
Respond ONLY with a JSON object: {"folders": [{"name": "Folder Name", "images": ["image_filename.jpg"]}]}.
Include only the filename of the image being processed in the 'images' array.

2025-06-10 15:05:32,559 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 8, "creationParameter": {"history": {"messages": [{"content": [{"text": "Categorize the image into one or more folders.\nRespond ONLY with a JSON object: {\"folders\": [{\"name\": \"Folder Name\", \"images\": [\"image_filename.jpg\"]}]}.\nInclude only the filename of the image being processed in the 'images' array.\n", "type": "text"}, {"fileType": "image", "identifier": "1749593132553 - 515.jpg", "name": "A1897E5E85B488FDE84BB77AE42E97B7778AE8CAC745860766931D266FDE4FE0.jpg", "sizeBytes": 50344, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@q2_k"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-10 15:05:35,193 - DEBUG - Attempting to extract JSON from text: {"folders": [{"name": "Anime Characters", "images": ["anime_girl.jpg"]}]}
2025-06-10 15:05:35,193 - DEBUG - Raw LLM response: {"folders": [{"name": "Anime Characters", "images": ["anime_girl.jpg"]}]}
2025-06-10 15:05:35,197 - ERROR - LLM response was not a valid ImageOrganizationSchema instance. Raw response: {"folders": [{"name": "Anime Characters", "images": ["anime_girl.jpg"]}]}
2025-06-10 15:05:35,197 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\Amazing-StonesMinerals6__880.jpg
2025-06-10 15:05:35,198 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 8, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-10 15:05:35,208 - DEBUG - {"call_id": 8, "event": "Received RPC result", "json": {"callId": 8, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-10 15:05:35,208 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749593135202 - 369.jpg",
  "name": "Amazing-StonesMinerals6__880.jpg",
  "sizeBytes": 128783,
  "type": "file"
})
2025-06-10 15:05:35,208 - DEBUG - Full prompt sent to LLM: Categorize the image into one or more folders.
Respond ONLY with a JSON object: {"folders": [{"name": "Folder Name", "images": ["image_filename.jpg"]}]}.
Include only the filename of the image being processed in the 'images' array.

2025-06-10 15:05:35,208 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 9, "creationParameter": {"history": {"messages": [{"content": [{"text": "Categorize the image into one or more folders.\nRespond ONLY with a JSON object: {\"folders\": [{\"name\": \"Folder Name\", \"images\": [\"image_filename.jpg\"]}]}.\nInclude only the filename of the image being processed in the 'images' array.\n", "type": "text"}, {"fileType": "image", "identifier": "1749593135202 - 369.jpg", "name": "Amazing-StonesMinerals6__880.jpg", "sizeBytes": 128783, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@q2_k"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-10 15:05:38,285 - DEBUG - Attempting to extract JSON from text: {"folders": [{"name": "minerals", "images": ["red_cubic_mine.jpg"]}]}
2025-06-10 15:05:38,285 - DEBUG - Raw LLM response: {"folders": [{"name": "minerals", "images": ["red_cubic_mine.jpg"]}]}
2025-06-10 15:05:38,287 - ERROR - LLM response was not a valid ImageOrganizationSchema instance. Raw response: {"folders": [{"name": "minerals", "images": ["red_cubic_mine.jpg"]}]}
2025-06-10 15:05:38,287 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\Bing_0056.jpeg
2025-06-10 15:05:38,288 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 9, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-10 15:05:38,299 - DEBUG - {"call_id": 9, "event": "Received RPC result", "json": {"callId": 9, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-10 15:05:38,299 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749593138292 - 264.jpeg",
  "name": "Bing_0056.jpeg",
  "sizeBytes": 88069,
  "type": "file"
})
2025-06-10 15:05:38,300 - DEBUG - Full prompt sent to LLM: Categorize the image into one or more folders.
Respond ONLY with a JSON object: {"folders": [{"name": "Folder Name", "images": ["image_filename.jpg"]}]}.
Include only the filename of the image being processed in the 'images' array.

2025-06-10 15:05:38,300 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 10, "creationParameter": {"history": {"messages": [{"content": [{"text": "Categorize the image into one or more folders.\nRespond ONLY with a JSON object: {\"folders\": [{\"name\": \"Folder Name\", \"images\": [\"image_filename.jpg\"]}]}.\nInclude only the filename of the image being processed in the 'images' array.\n", "type": "text"}, {"fileType": "image", "identifier": "1749593138292 - 264.jpeg", "name": "Bing_0056.jpeg", "sizeBytes": 88069, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@q2_k"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-10 15:05:41,078 - DEBUG - Attempting to extract JSON from text: {"folders": [{"name": "celebrity", "images": ["celebrity10.jpg"]}]}
2025-06-10 15:05:41,078 - DEBUG - Raw LLM response: {"folders": [{"name": "celebrity", "images": ["celebrity10.jpg"]}]}
2025-06-10 15:05:41,080 - ERROR - LLM response was not a valid ImageOrganizationSchema instance. Raw response: {"folders": [{"name": "celebrity", "images": ["celebrity10.jpg"]}]}
2025-06-10 15:05:41,080 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\NavalSquare.jpg
2025-06-10 15:05:41,081 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 10, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-10 15:05:41,087 - DEBUG - {"call_id": 10, "event": "Received RPC result", "json": {"callId": 10, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-10 15:05:41,087 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749593141082 - 339.jpg",
  "name": "NavalSquare.jpg",
  "sizeBytes": 45352,
  "type": "file"
})
2025-06-10 15:05:41,087 - DEBUG - Full prompt sent to LLM: Categorize the image into one or more folders.
Respond ONLY with a JSON object: {"folders": [{"name": "Folder Name", "images": ["image_filename.jpg"]}]}.
Include only the filename of the image being processed in the 'images' array.

2025-06-10 15:05:41,088 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 11, "creationParameter": {"history": {"messages": [{"content": [{"text": "Categorize the image into one or more folders.\nRespond ONLY with a JSON object: {\"folders\": [{\"name\": \"Folder Name\", \"images\": [\"image_filename.jpg\"]}]}.\nInclude only the filename of the image being processed in the 'images' array.\n", "type": "text"}, {"fileType": "image", "identifier": "1749593141082 - 339.jpg", "name": "NavalSquare.jpg", "sizeBytes": 45352, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@q2_k"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-10 15:05:43,856 - DEBUG - Attempting to extract JSON from text: {"folders": [{"name": "nature", "images": ["old_tree.jpg"]}]}
2025-06-10 15:05:43,856 - DEBUG - Raw LLM response: {"folders": [{"name": "nature", "images": ["old_tree.jpg"]}]}
2025-06-10 15:05:43,859 - ERROR - LLM response was not a valid ImageOrganizationSchema instance. Raw response: {"folders": [{"name": "nature", "images": ["old_tree.jpg"]}]}
2025-06-11 01:33:01,158 - DEBUG - Using proactor: IocpProactor
2025-06-11 01:33:01,169 - INFO - {"client": "<lmstudio.sync_api.Client object at 0x000002739931A5D0>", "event": "Websocket handling thread started", "thread_id": "Thread-1"}
2025-06-11 01:33:01,169 - INFO - {"event": "Websocket handling task started", "ws_url": "ws://localhost:1234/llm"}
2025-06-11 01:33:01,416 - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-06-11 01:33:01,674 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002739A19F250>
2025-06-11 01:33:01,674 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-11 01:33:01,675 - DEBUG - send_request_headers.complete
2025-06-11 01:33:01,675 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-11 01:33:01,675 - DEBUG - send_request_body.complete
2025-06-11 01:33:01,675 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-11 01:33:01,678 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'VHT/hF3DNPB/qsZEhloy5sSlAT0=')])
2025-06-11 01:33:01,678 - INFO - HTTP Request: GET ws://localhost:1234/llm "HTTP/1.1 101 Switching Protocols"
2025-06-11 01:33:01,679 - DEBUG - {"event": "Websocket connected", "ws_url": "ws://localhost:1234/llm"}
2025-06-11 01:33:01,681 - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "ws_url": "ws://localhost:1234/llm"}
2025-06-11 01:33:01,681 - INFO - {"event": "Websocket session established (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-06-11 01:33:01,681 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "listLoaded", "type": "rpcCall"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-11 01:33:01,684 - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": ["..."], "type": "rpcResult"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-11 01:33:01,684 - INFO - {"event": "Websocket handling task started", "ws_url": "ws://localhost:1234/embedding"}
2025-06-11 01:33:01,930 - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-06-11 01:33:02,183 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002739A1AB2D0>
2025-06-11 01:33:02,183 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-11 01:33:02,183 - DEBUG - send_request_headers.complete
2025-06-11 01:33:02,183 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-11 01:33:02,183 - DEBUG - send_request_body.complete
2025-06-11 01:33:02,183 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-11 01:33:02,183 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'nbiNkxKhxFhtVC4f3F8DImbkY6w=')])
2025-06-11 01:33:02,184 - INFO - HTTP Request: GET ws://localhost:1234/embedding "HTTP/1.1 101 Switching Protocols"
2025-06-11 01:33:02,184 - DEBUG - {"event": "Websocket connected", "ws_url": "ws://localhost:1234/embedding"}
2025-06-11 01:33:02,185 - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "ws_url": "ws://localhost:1234/embedding"}
2025-06-11 01:33:02,185 - INFO - {"event": "Websocket session established (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-06-11 01:33:02,185 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "listLoaded", "type": "rpcCall"}, "ws_url": "ws://localhost:1234/embedding"}
2025-06-11 01:33:02,187 - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": ["..."], "type": "rpcResult"}, "ws_url": "ws://localhost:1234/embedding"}
2025-06-11 01:33:02,189 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 1, "creationParameter": {"identifier": "m@q2_k", "loadConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}, "loadTtlMs": 3600000}, "endpoint": "getOrLoad", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-11 01:33:02,192 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\2010-11-21-full-moon-1000.png
2025-06-11 01:33:02,195 - INFO - {"event": "Websocket handling task started", "ws_url": "ws://localhost:1234/files"}
2025-06-11 01:33:02,427 - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-06-11 01:33:02,664 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002739A1B3150>
2025-06-11 01:33:02,664 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-11 01:33:02,664 - DEBUG - send_request_headers.complete
2025-06-11 01:33:02,664 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-11 01:33:02,664 - DEBUG - send_request_body.complete
2025-06-11 01:33:02,664 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-11 01:33:02,665 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'MAzKRvqS0o+Kq9ZVgpK3IvQlKj4=')])
2025-06-11 01:33:02,665 - INFO - HTTP Request: GET ws://localhost:1234/files "HTTP/1.1 101 Switching Protocols"
2025-06-11 01:33:02,665 - DEBUG - {"event": "Websocket connected", "ws_url": "ws://localhost:1234/files"}
2025-06-11 01:33:02,666 - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "ws_url": "ws://localhost:1234/files"}
2025-06-11 01:33:02,666 - INFO - {"event": "Websocket session established (ws://localhost:1234/files)", "ws_url": "ws://localhost:1234/files"}
2025-06-11 01:33:02,666 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-11 01:33:02,682 - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-11 01:33:02,683 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749630782672 - 26.png",
  "name": "2010-11-21-full-moon-1000.png",
  "sizeBytes": 303022,
  "type": "file"
})
2025-06-11 01:33:02,683 - DEBUG - Full prompt sent to LLM: Categorize the image into one or more folders.
Respond ONLY with a JSON object: {"folders": [{"name": "Folder Name", "images": ["image_filename.jpg"]}]}.
Include only the filename of the image being processed in the 'images' array.

2025-06-11 01:33:02,685 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 2, "creationParameter": {"history": {"messages": [{"content": [{"text": "Categorize the image into one or more folders.\nRespond ONLY with a JSON object: {\"folders\": [{\"name\": \"Folder Name\", \"images\": [\"image_filename.jpg\"]}]}.\nInclude only the filename of the image being processed in the 'images' array.\n", "type": "text"}, {"fileType": "image", "identifier": "1749630782672 - 26.png", "name": "2010-11-21-full-moon-1000.png", "sizeBytes": 303022, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@q2_k"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-11 01:33:06,540 - DEBUG - Attempting to extract JSON from text: {"folders": [{"name": "Space", "images": ["moon.jpg"]}]}
2025-06-11 01:33:06,540 - DEBUG - Raw LLM response: {"folders": [{"name": "Space", "images": ["moon.jpg"]}]}
2025-06-11 01:33:06,541 - ERROR - LLM response was not a valid ImageOrganizationSchema instance. Raw response: {"folders": [{"name": "Space", "images": ["moon.jpg"]}]}
2025-06-11 01:33:06,542 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\21663397742_10c834c71e_c.jpg
2025-06-11 01:33:06,543 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 2, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-11 01:33:06,555 - DEBUG - {"call_id": 2, "event": "Received RPC result", "json": {"callId": 2, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-11 01:33:06,556 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749630786547 - 808.jpg",
  "name": "21663397742_10c834c71e_c.jpg",
  "sizeBytes": 189014,
  "type": "file"
})
2025-06-11 01:33:06,556 - DEBUG - Full prompt sent to LLM: Categorize the image into one or more folders.
Respond ONLY with a JSON object: {"folders": [{"name": "Folder Name", "images": ["image_filename.jpg"]}]}.
Include only the filename of the image being processed in the 'images' array.

2025-06-11 01:33:06,556 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 3, "creationParameter": {"history": {"messages": [{"content": [{"text": "Categorize the image into one or more folders.\nRespond ONLY with a JSON object: {\"folders\": [{\"name\": \"Folder Name\", \"images\": [\"image_filename.jpg\"]}]}.\nInclude only the filename of the image being processed in the 'images' array.\n", "type": "text"}, {"fileType": "image", "identifier": "1749630786547 - 808.jpg", "name": "21663397742_10c834c71e_c.jpg", "sizeBytes": 189014, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@q2_k"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-11 01:33:09,676 - DEBUG - Attempting to extract JSON from text: {"folders": [{"name": "Flowers", "images": ["flowers.jpg"]}]}
2025-06-11 01:33:09,676 - DEBUG - Raw LLM response: {"folders": [{"name": "Flowers", "images": ["flowers.jpg"]}]}
2025-06-11 01:33:09,678 - ERROR - LLM response was not a valid ImageOrganizationSchema instance. Raw response: {"folders": [{"name": "Flowers", "images": ["flowers.jpg"]}]}
2025-06-11 01:33:09,678 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\3.jpg
2025-06-11 01:33:09,679 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 3, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-11 01:33:09,686 - DEBUG - {"call_id": 3, "event": "Received RPC result", "json": {"callId": 3, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-11 01:33:09,686 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749630789680 - 413.jpg",
  "name": "3.jpg",
  "sizeBytes": 16659,
  "type": "file"
})
2025-06-11 01:33:09,686 - DEBUG - Full prompt sent to LLM: Categorize the image into one or more folders.
Respond ONLY with a JSON object: {"folders": [{"name": "Folder Name", "images": ["image_filename.jpg"]}]}.
Include only the filename of the image being processed in the 'images' array.

2025-06-11 01:33:09,687 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 4, "creationParameter": {"history": {"messages": [{"content": [{"text": "Categorize the image into one or more folders.\nRespond ONLY with a JSON object: {\"folders\": [{\"name\": \"Folder Name\", \"images\": [\"image_filename.jpg\"]}]}.\nInclude only the filename of the image being processed in the 'images' array.\n", "type": "text"}, {"fileType": "image", "identifier": "1749630789680 - 413.jpg", "name": "3.jpg", "sizeBytes": 16659, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@q2_k"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-11 01:33:12,082 - DEBUG - Attempting to extract JSON from text: {"folders": [{"name": "nature", "images": ["forest Scene.jpg"]}]}
2025-06-11 01:33:12,082 - DEBUG - Raw LLM response: {"folders": [{"name": "nature", "images": ["forest Scene.jpg"]}]}
2025-06-11 01:33:12,083 - ERROR - LLM response was not a valid ImageOrganizationSchema instance. Raw response: {"folders": [{"name": "nature", "images": ["forest Scene.jpg"]}]}
2025-06-11 01:33:12,083 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\56ba49e41a00002d00ab2507.jpeg
2025-06-11 01:33:12,086 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 4, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-11 01:33:12,093 - DEBUG - {"call_id": 4, "event": "Received RPC result", "json": {"callId": 4, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-11 01:33:12,093 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749630792088 - 656.jpeg",
  "name": "56ba49e41a00002d00ab2507.jpeg",
  "sizeBytes": 42576,
  "type": "file"
})
2025-06-11 01:33:12,093 - DEBUG - Full prompt sent to LLM: Categorize the image into one or more folders.
Respond ONLY with a JSON object: {"folders": [{"name": "Folder Name", "images": ["image_filename.jpg"]}]}.
Include only the filename of the image being processed in the 'images' array.

2025-06-11 01:33:12,093 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 5, "creationParameter": {"history": {"messages": [{"content": [{"text": "Categorize the image into one or more folders.\nRespond ONLY with a JSON object: {\"folders\": [{\"name\": \"Folder Name\", \"images\": [\"image_filename.jpg\"]}]}.\nInclude only the filename of the image being processed in the 'images' array.\n", "type": "text"}, {"fileType": "image", "identifier": "1749630792088 - 656.jpeg", "name": "56ba49e41a00002d00ab2507.jpeg", "sizeBytes": 42576, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@q2_k"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-11 01:33:15,110 - DEBUG - Attempting to extract JSON from text: {"folders": [{"name": "Marine Life", "images": ["great_white_shark.jpg"]}]}
2025-06-11 01:33:15,110 - DEBUG - Raw LLM response: {"folders": [{"name": "Marine Life", "images": ["great_white_shark.jpg"]}]}
2025-06-11 01:33:15,112 - ERROR - LLM response was not a valid ImageOrganizationSchema instance. Raw response: {"folders": [{"name": "Marine Life", "images": ["great_white_shark.jpg"]}]}
2025-06-11 01:33:15,112 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\9.jpg
2025-06-11 01:33:15,113 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 5, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-11 01:33:15,121 - DEBUG - {"call_id": 5, "event": "Received RPC result", "json": {"callId": 5, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-11 01:33:15,121 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749630795115 - 952.jpg",
  "name": "9.jpg",
  "sizeBytes": 77222,
  "type": "file"
})
2025-06-11 01:33:15,122 - DEBUG - Full prompt sent to LLM: Categorize the image into one or more folders.
Respond ONLY with a JSON object: {"folders": [{"name": "Folder Name", "images": ["image_filename.jpg"]}]}.
Include only the filename of the image being processed in the 'images' array.

2025-06-11 01:33:15,122 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 6, "creationParameter": {"history": {"messages": [{"content": [{"text": "Categorize the image into one or more folders.\nRespond ONLY with a JSON object: {\"folders\": [{\"name\": \"Folder Name\", \"images\": [\"image_filename.jpg\"]}]}.\nInclude only the filename of the image being processed in the 'images' array.\n", "type": "text"}, {"fileType": "image", "identifier": "1749630795115 - 952.jpg", "name": "9.jpg", "sizeBytes": 77222, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@q2_k"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-11 01:33:18,443 - DEBUG - Attempting to extract JSON from text: {"folders": [{"name": "underwater_scenic", "images": ["jesus_statue_underwater.jpg"]}]}
2025-06-11 01:33:18,443 - DEBUG - Raw LLM response: {"folders": [{"name": "underwater_scenic", "images": ["jesus_statue_underwater.jpg"]}]}
2025-06-11 01:33:18,445 - ERROR - LLM response was not a valid ImageOrganizationSchema instance. Raw response: {"folders": [{"name": "underwater_scenic", "images": ["jesus_statue_underwater.jpg"]}]}
2025-06-11 01:33:18,445 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\a13052540ed9f27eea7d611e9e33293fea9fb4aa584c029e80036f5f857f03de.webp
2025-06-11 01:33:18,446 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 6, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-11 01:33:18,461 - DEBUG - {"call_id": 6, "event": "Received RPC result", "json": {"callId": 6, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-11 01:33:18,462 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749630798451 - 837.webp",
  "name": "a13052540ed9f27eea7d611e9e33293fea9fb4aa584c029e80036f5f857f03de.webp",
  "sizeBytes": 231480,
  "type": "file"
})
2025-06-11 01:33:18,462 - DEBUG - Full prompt sent to LLM: Categorize the image into one or more folders.
Respond ONLY with a JSON object: {"folders": [{"name": "Folder Name", "images": ["image_filename.jpg"]}]}.
Include only the filename of the image being processed in the 'images' array.

2025-06-11 01:33:18,462 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 7, "creationParameter": {"history": {"messages": [{"content": [{"text": "Categorize the image into one or more folders.\nRespond ONLY with a JSON object: {\"folders\": [{\"name\": \"Folder Name\", \"images\": [\"image_filename.jpg\"]}]}.\nInclude only the filename of the image being processed in the 'images' array.\n", "type": "text"}, {"fileType": "image", "identifier": "1749630798451 - 837.webp", "name": "a13052540ed9f27eea7d611e9e33293fea9fb4aa584c029e80036f5f857f03de.webp", "sizeBytes": 231480, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@q2_k"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-11 01:33:23,510 - DEBUG - Attempting to extract JSON from text: {"folders": [{"name": "Fantasy Architecture", "images": ["castle_mimo.jpg"]}, {"name": "European Castles", "images": ["castle_mimo.jpg"]}]}
2025-06-11 01:33:23,510 - DEBUG - Raw LLM response: {"folders": [{"name": "Fantasy Architecture", "images": ["castle_mimo.jpg"]}, {"name": "European Castles", "images": ["castle_mimo.jpg"]}]}
2025-06-11 01:33:23,511 - ERROR - LLM response was not a valid ImageOrganizationSchema instance. Raw response: {"folders": [{"name": "Fantasy Architecture", "images": ["castle_mimo.jpg"]}, {"name": "European Castles", "images": ["castle_mimo.jpg"]}]}
2025-06-11 01:33:23,511 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\A1897E5E85B488FDE84BB77AE42E97B7778AE8CAC745860766931D266FDE4FE0.jpg
2025-06-11 01:33:23,513 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 7, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-11 01:33:23,521 - DEBUG - {"call_id": 7, "event": "Received RPC result", "json": {"callId": 7, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-11 01:33:23,522 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749630803515 - 596.jpg",
  "name": "A1897E5E85B488FDE84BB77AE42E97B7778AE8CAC745860766931D266FDE4FE0.jpg",
  "sizeBytes": 50344,
  "type": "file"
})
2025-06-11 01:33:23,522 - DEBUG - Full prompt sent to LLM: Categorize the image into one or more folders.
Respond ONLY with a JSON object: {"folders": [{"name": "Folder Name", "images": ["image_filename.jpg"]}]}.
Include only the filename of the image being processed in the 'images' array.

2025-06-11 01:33:23,522 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 8, "creationParameter": {"history": {"messages": [{"content": [{"text": "Categorize the image into one or more folders.\nRespond ONLY with a JSON object: {\"folders\": [{\"name\": \"Folder Name\", \"images\": [\"image_filename.jpg\"]}]}.\nInclude only the filename of the image being processed in the 'images' array.\n", "type": "text"}, {"fileType": "image", "identifier": "1749630803515 - 596.jpg", "name": "A1897E5E85B488FDE84BB77AE42E97B7778AE8CAC745860766931D266FDE4FE0.jpg", "sizeBytes": 50344, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@q2_k"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-11 01:33:26,639 - DEBUG - Attempting to extract JSON from text: {"folders": [{"name": "Anime Characters", "images": ["anime_girl.jpg"]}]}
2025-06-11 01:33:26,640 - DEBUG - Raw LLM response: {"folders": [{"name": "Anime Characters", "images": ["anime_girl.jpg"]}]}
2025-06-11 01:33:26,641 - ERROR - LLM response was not a valid ImageOrganizationSchema instance. Raw response: {"folders": [{"name": "Anime Characters", "images": ["anime_girl.jpg"]}]}
2025-06-11 01:33:26,641 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\Amazing-StonesMinerals6__880.jpg
2025-06-11 01:33:26,642 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 8, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-11 01:33:26,652 - DEBUG - {"call_id": 8, "event": "Received RPC result", "json": {"callId": 8, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-11 01:33:26,653 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749630806646 - 620.jpg",
  "name": "Amazing-StonesMinerals6__880.jpg",
  "sizeBytes": 128783,
  "type": "file"
})
2025-06-11 01:33:26,653 - DEBUG - Full prompt sent to LLM: Categorize the image into one or more folders.
Respond ONLY with a JSON object: {"folders": [{"name": "Folder Name", "images": ["image_filename.jpg"]}]}.
Include only the filename of the image being processed in the 'images' array.

2025-06-11 01:33:26,653 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 9, "creationParameter": {"history": {"messages": [{"content": [{"text": "Categorize the image into one or more folders.\nRespond ONLY with a JSON object: {\"folders\": [{\"name\": \"Folder Name\", \"images\": [\"image_filename.jpg\"]}]}.\nInclude only the filename of the image being processed in the 'images' array.\n", "type": "text"}, {"fileType": "image", "identifier": "1749630806646 - 620.jpg", "name": "Amazing-StonesMinerals6__880.jpg", "sizeBytes": 128783, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@q2_k"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-11 01:33:30,252 - DEBUG - Attempting to extract JSON from text: {"folders": [{"name": "minerals", "images": ["red_cubic_minearl.jpg"]}]}
2025-06-11 01:33:30,252 - DEBUG - Raw LLM response: {"folders": [{"name": "minerals", "images": ["red_cubic_minearl.jpg"]}]}
2025-06-11 01:33:30,254 - ERROR - LLM response was not a valid ImageOrganizationSchema instance. Raw response: {"folders": [{"name": "minerals", "images": ["red_cubic_minearl.jpg"]}]}
2025-06-11 01:33:30,255 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\Bing_0056.jpeg
2025-06-11 01:33:30,256 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 9, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-11 01:33:30,266 - DEBUG - {"call_id": 9, "event": "Received RPC result", "json": {"callId": 9, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-11 01:33:30,266 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749630810259 - 983.jpeg",
  "name": "Bing_0056.jpeg",
  "sizeBytes": 88069,
  "type": "file"
})
2025-06-11 01:33:30,267 - DEBUG - Full prompt sent to LLM: Categorize the image into one or more folders.
Respond ONLY with a JSON object: {"folders": [{"name": "Folder Name", "images": ["image_filename.jpg"]}]}.
Include only the filename of the image being processed in the 'images' array.

2025-06-11 01:33:30,267 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 10, "creationParameter": {"history": {"messages": [{"content": [{"text": "Categorize the image into one or more folders.\nRespond ONLY with a JSON object: {\"folders\": [{\"name\": \"Folder Name\", \"images\": [\"image_filename.jpg\"]}]}.\nInclude only the filename of the image being processed in the 'images' array.\n", "type": "text"}, {"fileType": "image", "identifier": "1749630810259 - 983.jpeg", "name": "Bing_0056.jpeg", "sizeBytes": 88069, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@q2_k"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-11 01:33:33,482 - DEBUG - Attempting to extract JSON from text: {"folders": [{"name": "People Portraits", "images": ["portrait_01.jpg"]}]}
2025-06-11 01:33:33,482 - DEBUG - Raw LLM response: {"folders": [{"name": "People Portraits", "images": ["portrait_01.jpg"]}]}
2025-06-11 01:33:33,484 - ERROR - LLM response was not a valid ImageOrganizationSchema instance. Raw response: {"folders": [{"name": "People Portraits", "images": ["portrait_01.jpg"]}]}
2025-06-11 01:33:33,484 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\NavalSquare.jpg
2025-06-11 01:33:33,486 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 10, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-11 01:33:33,493 - DEBUG - {"call_id": 10, "event": "Received RPC result", "json": {"callId": 10, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-11 01:33:33,493 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749630813487 - 548.jpg",
  "name": "NavalSquare.jpg",
  "sizeBytes": 45352,
  "type": "file"
})
2025-06-11 01:33:33,493 - DEBUG - Full prompt sent to LLM: Categorize the image into one or more folders.
Respond ONLY with a JSON object: {"folders": [{"name": "Folder Name", "images": ["image_filename.jpg"]}]}.
Include only the filename of the image being processed in the 'images' array.

2025-06-11 01:33:33,494 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 11, "creationParameter": {"history": {"messages": [{"content": [{"text": "Categorize the image into one or more folders.\nRespond ONLY with a JSON object: {\"folders\": [{\"name\": \"Folder Name\", \"images\": [\"image_filename.jpg\"]}]}.\nInclude only the filename of the image being processed in the 'images' array.\n", "type": "text"}, {"fileType": "image", "identifier": "1749630813487 - 548.jpg", "name": "NavalSquare.jpg", "sizeBytes": 45352, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@q2_k"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-11 01:33:36,727 - DEBUG - Attempting to extract JSON from text: {"folders": [{"name": "nature", "images": ["old_tree.jpg"]}]}
2025-06-11 01:33:36,727 - DEBUG - Raw LLM response: {"folders": [{"name": "nature", "images": ["old_tree.jpg"]}]}
2025-06-11 01:33:36,729 - ERROR - LLM response was not a valid ImageOrganizationSchema instance. Raw response: {"folders": [{"name": "nature", "images": ["old_tree.jpg"]}]}
2025-06-11 01:33:56,530 - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/files)", "ws_url": "ws://localhost:1234/files"}
2025-06-11 01:33:56,531 - INFO - {"event": "Websocket demultiplexing task terminated.", "ws_url": "ws://localhost:1234/files"}
2025-06-11 01:33:56,532 - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/files)", "ws_url": "ws://localhost:1234/files"}
2025-06-11 01:33:56,532 - INFO - {"event": "Websocket closed.", "ws_url": "ws://localhost:1234/files"}
2025-06-11 01:33:56,533 - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-06-11 01:33:56,533 - DEBUG - response_closed.started
2025-06-11 01:33:56,533 - DEBUG - response_closed.complete
2025-06-11 01:33:56,533 - INFO - {"event": "Websocket task terminated", "ws_url": "ws://localhost:1234/files"}
2025-06-11 01:33:56,534 - INFO - {"event": "Websocket demultiplexing task terminated.", "ws_url": "ws://localhost:1234/embedding"}
2025-06-11 01:33:56,534 - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-06-11 01:33:56,534 - INFO - {"event": "Websocket closed.", "ws_url": "ws://localhost:1234/embedding"}
2025-06-11 01:33:56,534 - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-06-11 01:33:56,534 - DEBUG - response_closed.started
2025-06-11 01:33:56,535 - DEBUG - response_closed.complete
2025-06-11 01:33:56,535 - INFO - {"event": "Websocket task terminated", "ws_url": "ws://localhost:1234/embedding"}
2025-06-11 01:33:56,535 - INFO - {"event": "Websocket demultiplexing task terminated.", "ws_url": "ws://localhost:1234/llm"}
2025-06-11 01:33:56,535 - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-06-11 01:33:56,535 - INFO - {"event": "Websocket closed.", "ws_url": "ws://localhost:1234/llm"}
2025-06-11 01:33:56,537 - DEBUG - response_closed.started
2025-06-11 01:33:56,537 - DEBUG - response_closed.complete
2025-06-11 01:33:56,537 - INFO - {"event": "Websocket task terminated", "ws_url": "ws://localhost:1234/llm"}
2025-06-11 01:33:56,537 - DEBUG - {"client": "<lmstudio.sync_api.Client object at 0x000002739931A5D0>", "event": "Terminating websocket thread due to exception", "thread_id": "Thread-1"}
Traceback (most recent call last):
  File "C:\Users\dadad\AppData\Local\Programs\Python\Python311\Lib\site-packages\lmstudio\_ws_impl.py", line 292, in _log_thread_execution
    await never_set.wait()
  File "C:\Users\dadad\AppData\Local\Programs\Python\Python311\Lib\asyncio\locks.py", line 213, in wait
    await fut
asyncio.exceptions.CancelledError: Cancelled by cancel scope 2739a17d4d0
2025-06-11 01:33:56,607 - INFO - {"client": "<lmstudio.sync_api.Client object at 0x000002739931A5D0>", "event": "Websocket thread terminated", "thread_id": "Thread-1"}
2025-06-11 01:38:55,734 - DEBUG - Using proactor: IocpProactor
2025-06-11 01:38:55,743 - INFO - {"client": "<lmstudio.sync_api.Client object at 0x0000021CF2CCA310>", "event": "Websocket handling thread started", "thread_id": "Thread-1"}
2025-06-11 01:38:55,743 - INFO - {"event": "Websocket handling task started", "ws_url": "ws://localhost:1234/llm"}
2025-06-11 01:38:55,987 - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-06-11 01:38:56,245 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000021CF559F250>
2025-06-11 01:38:56,245 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-11 01:38:56,247 - DEBUG - send_request_headers.complete
2025-06-11 01:38:56,247 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-11 01:38:56,247 - DEBUG - send_request_body.complete
2025-06-11 01:38:56,247 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-11 01:38:56,249 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'1Z3l6JuLqNsHirtKzv7LU9IFRpE=')])
2025-06-11 01:38:56,250 - INFO - HTTP Request: GET ws://localhost:1234/llm "HTTP/1.1 101 Switching Protocols"
2025-06-11 01:38:56,250 - DEBUG - {"event": "Websocket connected", "ws_url": "ws://localhost:1234/llm"}
2025-06-11 01:38:56,253 - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "ws_url": "ws://localhost:1234/llm"}
2025-06-11 01:38:56,253 - INFO - {"event": "Websocket session established (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-06-11 01:38:56,253 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "listLoaded", "type": "rpcCall"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-11 01:38:56,258 - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": ["..."], "type": "rpcResult"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-11 01:38:56,259 - INFO - {"event": "Websocket handling task started", "ws_url": "ws://localhost:1234/embedding"}
2025-06-11 01:38:56,524 - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-06-11 01:38:56,776 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000021CF55AB210>
2025-06-11 01:38:56,776 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-11 01:38:56,776 - DEBUG - send_request_headers.complete
2025-06-11 01:38:56,776 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-11 01:38:56,776 - DEBUG - send_request_body.complete
2025-06-11 01:38:56,776 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-11 01:38:56,776 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'GyGK8/gtizDQGOrkNgroQP25cGg=')])
2025-06-11 01:38:56,777 - INFO - HTTP Request: GET ws://localhost:1234/embedding "HTTP/1.1 101 Switching Protocols"
2025-06-11 01:38:56,778 - DEBUG - {"event": "Websocket connected", "ws_url": "ws://localhost:1234/embedding"}
2025-06-11 01:38:56,779 - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "ws_url": "ws://localhost:1234/embedding"}
2025-06-11 01:38:56,779 - INFO - {"event": "Websocket session established (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-06-11 01:38:56,779 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "listLoaded", "type": "rpcCall"}, "ws_url": "ws://localhost:1234/embedding"}
2025-06-11 01:38:56,781 - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": ["..."], "type": "rpcResult"}, "ws_url": "ws://localhost:1234/embedding"}
2025-06-11 01:38:56,783 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 1, "creationParameter": {"identifier": "m@q2_k", "loadConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}, "loadTtlMs": 3600000}, "endpoint": "getOrLoad", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-11 01:38:56,786 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\2010-11-21-full-moon-1000.png
2025-06-11 01:38:56,788 - INFO - {"event": "Websocket handling task started", "ws_url": "ws://localhost:1234/files"}
2025-06-11 01:38:56,995 - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-06-11 01:38:57,247 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000021CF55B30D0>
2025-06-11 01:38:57,248 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-11 01:38:57,248 - DEBUG - send_request_headers.complete
2025-06-11 01:38:57,248 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-11 01:38:57,248 - DEBUG - send_request_body.complete
2025-06-11 01:38:57,248 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-11 01:38:57,248 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'B6YR/Yvkn0DGhtdF5wA3hhjFQ4M=')])
2025-06-11 01:38:57,249 - INFO - HTTP Request: GET ws://localhost:1234/files "HTTP/1.1 101 Switching Protocols"
2025-06-11 01:38:57,249 - DEBUG - {"event": "Websocket connected", "ws_url": "ws://localhost:1234/files"}
2025-06-11 01:38:57,250 - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "ws_url": "ws://localhost:1234/files"}
2025-06-11 01:38:57,250 - INFO - {"event": "Websocket session established (ws://localhost:1234/files)", "ws_url": "ws://localhost:1234/files"}
2025-06-11 01:38:57,250 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-11 01:38:57,265 - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-11 01:38:57,265 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749631137255 - 466.png",
  "name": "2010-11-21-full-moon-1000.png",
  "sizeBytes": 303022,
  "type": "file"
})
2025-06-11 01:38:57,266 - DEBUG - Full prompt sent to LLM: You are an expert image organizer with access to vision capabilities. 
Analyze the following command: ''. 
Provide instructions on how to organize the images into folders based on their content. 
The response should be a JSON object with the following format:

{
  "folders": [
    {
      "name": "folder_name",
      "images": ["image1.jpg", "image2.jpg"]
    }
  ]
}

Each object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array of the actual image filenames (including their extensions) to be moved to that folder. 
Include only the filename of the image being processed in the 'images' array.
Return ONLY a JSON object.

2025-06-11 01:38:57,268 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 2, "creationParameter": {"history": {"messages": [{"content": [{"text": "You are an expert image organizer with access to vision capabilities. \nAnalyze the following command: ''. \nProvide instructions on how to organize the images into folders based on their content. \nThe response should be a JSON object with the following format:\n\n{\n  \"folders\": [\n    {\n      \"name\": \"folder_name\",\n      \"images\": [\"image1.jpg\", \"image2.jpg\"]\n    }\n  ]\n}\n\nEach object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array of the actual image filenames (including their extensions) to be moved to that folder. \nInclude only the filename of the image being processed in the 'images' array.\nReturn ONLY a JSON object.\n", "type": "text"}, {"fileType": "image", "identifier": "1749631137255 - 466.png", "name": "2010-11-21-full-moon-1000.png", "sizeBytes": 303022, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@q2_k"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-11 01:39:01,470 - DEBUG - Raw LLM response: {
  "folders": [
    {
      "name": "space",
      "images": ["moon.jpg"]
    }
  ]
}
2025-06-11 01:39:01,471 - ERROR - Error generating response for 2010-11-21-full-moon-1000.png: module 'lmstudio' has no attribute 'parse_response'. Error: module 'lmstudio' has no attribute 'parse_response'
2025-06-11 01:39:01,471 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\21663397742_10c834c71e_c.jpg
2025-06-11 01:39:01,472 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 2, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-11 01:39:01,484 - DEBUG - {"call_id": 2, "event": "Received RPC result", "json": {"callId": 2, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-11 01:39:01,484 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749631141477 - 402.jpg",
  "name": "21663397742_10c834c71e_c.jpg",
  "sizeBytes": 189014,
  "type": "file"
})
2025-06-11 01:39:01,484 - DEBUG - Full prompt sent to LLM: You are an expert image organizer with access to vision capabilities. 
Analyze the following command: ''. 
Provide instructions on how to organize the images into folders based on their content. 
The response should be a JSON object with the following format:

{
  "folders": [
    {
      "name": "folder_name",
      "images": ["image1.jpg", "image2.jpg"]
    }
  ]
}

Each object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array of the actual image filenames (including their extensions) to be moved to that folder. 
Include only the filename of the image being processed in the 'images' array.
Return ONLY a JSON object.

2025-06-11 01:39:01,485 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 3, "creationParameter": {"history": {"messages": [{"content": [{"text": "You are an expert image organizer with access to vision capabilities. \nAnalyze the following command: ''. \nProvide instructions on how to organize the images into folders based on their content. \nThe response should be a JSON object with the following format:\n\n{\n  \"folders\": [\n    {\n      \"name\": \"folder_name\",\n      \"images\": [\"image1.jpg\", \"image2.jpg\"]\n    }\n  ]\n}\n\nEach object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array of the actual image filenames (including their extensions) to be moved to that folder. \nInclude only the filename of the image being processed in the 'images' array.\nReturn ONLY a JSON object.\n", "type": "text"}, {"fileType": "image", "identifier": "1749631141477 - 402.jpg", "name": "21663397742_10c834c71e_c.jpg", "sizeBytes": 189014, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@q2_k"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-11 01:39:05,603 - DEBUG - Raw LLM response: {
  "folders": [
    {
      "name": "Flowers",
      "images": ["flowers.jpg"]
    }
  ]
}
2025-06-11 01:39:05,604 - ERROR - Error generating response for 21663397742_10c834c71e_c.jpg: module 'lmstudio' has no attribute 'parse_response'. Error: module 'lmstudio' has no attribute 'parse_response'
2025-06-11 01:39:05,604 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\3.jpg
2025-06-11 01:39:05,605 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 3, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-11 01:39:05,612 - DEBUG - {"call_id": 3, "event": "Received RPC result", "json": {"callId": 3, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-11 01:39:05,612 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749631145607 - 535.jpg",
  "name": "3.jpg",
  "sizeBytes": 16659,
  "type": "file"
})
2025-06-11 01:39:05,613 - DEBUG - Full prompt sent to LLM: You are an expert image organizer with access to vision capabilities. 
Analyze the following command: ''. 
Provide instructions on how to organize the images into folders based on their content. 
The response should be a JSON object with the following format:

{
  "folders": [
    {
      "name": "folder_name",
      "images": ["image1.jpg", "image2.jpg"]
    }
  ]
}

Each object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array of the actual image filenames (including their extensions) to be moved to that folder. 
Include only the filename of the image being processed in the 'images' array.
Return ONLY a JSON object.

2025-06-11 01:39:05,613 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 4, "creationParameter": {"history": {"messages": [{"content": [{"text": "You are an expert image organizer with access to vision capabilities. \nAnalyze the following command: ''. \nProvide instructions on how to organize the images into folders based on their content. \nThe response should be a JSON object with the following format:\n\n{\n  \"folders\": [\n    {\n      \"name\": \"folder_name\",\n      \"images\": [\"image1.jpg\", \"image2.jpg\"]\n    }\n  ]\n}\n\nEach object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array of the actual image filenames (including their extensions) to be moved to that folder. \nInclude only the filename of the image being processed in the 'images' array.\nReturn ONLY a JSON object.\n", "type": "text"}, {"fileType": "image", "identifier": "1749631145607 - 535.jpg", "name": "3.jpg", "sizeBytes": 16659, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@q2_k"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-11 01:39:09,354 - DEBUG - Raw LLM response: {
  "folders": [
    {
      "name": "forest_scenery",
      "images": ["image1.jpg"]
    }
  ]
}
2025-06-11 01:39:09,355 - ERROR - Error generating response for 3.jpg: module 'lmstudio' has no attribute 'parse_response'. Error: module 'lmstudio' has no attribute 'parse_response'
2025-06-11 01:39:09,355 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\56ba49e41a00002d00ab2507.jpeg
2025-06-11 01:39:09,356 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 4, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-11 01:39:09,363 - DEBUG - {"call_id": 4, "event": "Received RPC result", "json": {"callId": 4, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-11 01:39:09,364 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749631149359 - 224.jpeg",
  "name": "56ba49e41a00002d00ab2507.jpeg",
  "sizeBytes": 42576,
  "type": "file"
})
2025-06-11 01:39:09,364 - DEBUG - Full prompt sent to LLM: You are an expert image organizer with access to vision capabilities. 
Analyze the following command: ''. 
Provide instructions on how to organize the images into folders based on their content. 
The response should be a JSON object with the following format:

{
  "folders": [
    {
      "name": "folder_name",
      "images": ["image1.jpg", "image2.jpg"]
    }
  ]
}

Each object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array of the actual image filenames (including their extensions) to be moved to that folder. 
Include only the filename of the image being processed in the 'images' array.
Return ONLY a JSON object.

2025-06-11 01:39:09,365 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 5, "creationParameter": {"history": {"messages": [{"content": [{"text": "You are an expert image organizer with access to vision capabilities. \nAnalyze the following command: ''. \nProvide instructions on how to organize the images into folders based on their content. \nThe response should be a JSON object with the following format:\n\n{\n  \"folders\": [\n    {\n      \"name\": \"folder_name\",\n      \"images\": [\"image1.jpg\", \"image2.jpg\"]\n    }\n  ]\n}\n\nEach object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array of the actual image filenames (including their extensions) to be moved to that folder. \nInclude only the filename of the image being processed in the 'images' array.\nReturn ONLY a JSON object.\n", "type": "text"}, {"fileType": "image", "identifier": "1749631149359 - 224.jpeg", "name": "56ba49e41a00002d00ab2507.jpeg", "sizeBytes": 42576, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@q2_k"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-11 01:39:13,096 - DEBUG - Raw LLM response: {
  "folders": [
    {
      "name": "sharks",
      "images": ["shark.jpg"]
    }
  ]
}
2025-06-11 01:39:13,097 - ERROR - Error generating response for 56ba49e41a00002d00ab2507.jpeg: module 'lmstudio' has no attribute 'parse_response'. Error: module 'lmstudio' has no attribute 'parse_response'
2025-06-11 01:39:13,098 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\9.jpg
2025-06-11 01:39:13,098 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 5, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-11 01:39:13,105 - DEBUG - {"call_id": 5, "event": "Received RPC result", "json": {"callId": 5, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-11 01:39:13,106 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749631153101 - 802.jpg",
  "name": "9.jpg",
  "sizeBytes": 77222,
  "type": "file"
})
2025-06-11 01:39:13,106 - DEBUG - Full prompt sent to LLM: You are an expert image organizer with access to vision capabilities. 
Analyze the following command: ''. 
Provide instructions on how to organize the images into folders based on their content. 
The response should be a JSON object with the following format:

{
  "folders": [
    {
      "name": "folder_name",
      "images": ["image1.jpg", "image2.jpg"]
    }
  ]
}

Each object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array of the actual image filenames (including their extensions) to be moved to that folder. 
Include only the filename of the image being processed in the 'images' array.
Return ONLY a JSON object.

2025-06-11 01:39:13,106 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 6, "creationParameter": {"history": {"messages": [{"content": [{"text": "You are an expert image organizer with access to vision capabilities. \nAnalyze the following command: ''. \nProvide instructions on how to organize the images into folders based on their content. \nThe response should be a JSON object with the following format:\n\n{\n  \"folders\": [\n    {\n      \"name\": \"folder_name\",\n      \"images\": [\"image1.jpg\", \"image2.jpg\"]\n    }\n  ]\n}\n\nEach object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array of the actual image filenames (including their extensions) to be moved to that folder. \nInclude only the filename of the image being processed in the 'images' array.\nReturn ONLY a JSON object.\n", "type": "text"}, {"fileType": "image", "identifier": "1749631153101 - 802.jpg", "name": "9.jpg", "sizeBytes": 77222, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@q2_k"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-11 01:39:17,035 - DEBUG - Raw LLM response: {
  "folders": [
    {
      "name": "underwater_scenic",
      "images": ["image1.jpg"]
    }
  ]
}
2025-06-11 01:39:17,036 - ERROR - Error generating response for 9.jpg: module 'lmstudio' has no attribute 'parse_response'. Error: module 'lmstudio' has no attribute 'parse_response'
2025-06-11 01:39:17,036 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\a13052540ed9f27eea7d611e9e33293fea9fb4aa584c029e80036f5f857f03de.webp
2025-06-11 01:39:17,037 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 6, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-11 01:39:17,051 - DEBUG - {"call_id": 6, "event": "Received RPC result", "json": {"callId": 6, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-11 01:39:17,051 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749631157043 - 960.webp",
  "name": "a13052540ed9f27eea7d611e9e33293fea9fb4aa584c029e80036f5f857f03de.webp",
  "sizeBytes": 231480,
  "type": "file"
})
2025-06-11 01:39:17,051 - DEBUG - Full prompt sent to LLM: You are an expert image organizer with access to vision capabilities. 
Analyze the following command: ''. 
Provide instructions on how to organize the images into folders based on their content. 
The response should be a JSON object with the following format:

{
  "folders": [
    {
      "name": "folder_name",
      "images": ["image1.jpg", "image2.jpg"]
    }
  ]
}

Each object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array of the actual image filenames (including their extensions) to be moved to that folder. 
Include only the filename of the image being processed in the 'images' array.
Return ONLY a JSON object.

2025-06-11 01:39:17,051 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 7, "creationParameter": {"history": {"messages": [{"content": [{"text": "You are an expert image organizer with access to vision capabilities. \nAnalyze the following command: ''. \nProvide instructions on how to organize the images into folders based on their content. \nThe response should be a JSON object with the following format:\n\n{\n  \"folders\": [\n    {\n      \"name\": \"folder_name\",\n      \"images\": [\"image1.jpg\", \"image2.jpg\"]\n    }\n  ]\n}\n\nEach object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array of the actual image filenames (including their extensions) to be moved to that folder. \nInclude only the filename of the image being processed in the 'images' array.\nReturn ONLY a JSON object.\n", "type": "text"}, {"fileType": "image", "identifier": "1749631157043 - 960.webp", "name": "a13052540ed9f27eea7d611e9e33293fea9fb4aa584c029e80036f5f857f03de.webp", "sizeBytes": 231480, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@q2_k"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-11 01:39:21,518 - DEBUG - Raw LLM response: {
  "folders": [
    {
      "name": "castles",
      "images": ["castle1.jpg"]
    }
  ]
}
2025-06-11 01:39:21,519 - ERROR - Error generating response for a13052540ed9f27eea7d611e9e33293fea9fb4aa584c029e80036f5f857f03de.webp: module 'lmstudio' has no attribute 'parse_response'. Error: module 'lmstudio' has no attribute 'parse_response'
2025-06-11 01:39:21,519 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\A1897E5E85B488FDE84BB77AE42E97B7778AE8CAC745860766931D266FDE4FE0.jpg
2025-06-11 01:39:21,520 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 7, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-11 01:39:21,528 - DEBUG - {"call_id": 7, "event": "Received RPC result", "json": {"callId": 7, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-11 01:39:21,529 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749631161523 - 737.jpg",
  "name": "A1897E5E85B488FDE84BB77AE42E97B7778AE8CAC745860766931D266FDE4FE0.jpg",
  "sizeBytes": 50344,
  "type": "file"
})
2025-06-11 01:39:21,529 - DEBUG - Full prompt sent to LLM: You are an expert image organizer with access to vision capabilities. 
Analyze the following command: ''. 
Provide instructions on how to organize the images into folders based on their content. 
The response should be a JSON object with the following format:

{
  "folders": [
    {
      "name": "folder_name",
      "images": ["image1.jpg", "image2.jpg"]
    }
  ]
}

Each object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array of the actual image filenames (including their extensions) to be moved to that folder. 
Include only the filename of the image being processed in the 'images' array.
Return ONLY a JSON object.

2025-06-11 01:39:21,529 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 8, "creationParameter": {"history": {"messages": [{"content": [{"text": "You are an expert image organizer with access to vision capabilities. \nAnalyze the following command: ''. \nProvide instructions on how to organize the images into folders based on their content. \nThe response should be a JSON object with the following format:\n\n{\n  \"folders\": [\n    {\n      \"name\": \"folder_name\",\n      \"images\": [\"image1.jpg\", \"image2.jpg\"]\n    }\n  ]\n}\n\nEach object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array of the actual image filenames (including their extensions) to be moved to that folder. \nInclude only the filename of the image being processed in the 'images' array.\nReturn ONLY a JSON object.\n", "type": "text"}, {"fileType": "image", "identifier": "1749631161523 - 737.jpg", "name": "A1897E5E85B488FDE84BB77AE42E97B7778AE8CAC745860766931D266FDE4FE0.jpg", "sizeBytes": 50344, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@q2_k"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-11 01:39:25,768 - DEBUG - Raw LLM response: {
  "folders": [
    {
      "name": "anime-style-portraits",
      "images": ["image1.jpg"]
    }
  ]
}
2025-06-11 01:39:25,770 - ERROR - Error generating response for A1897E5E85B488FDE84BB77AE42E97B7778AE8CAC745860766931D266FDE4FE0.jpg: module 'lmstudio' has no attribute 'parse_response'. Error: module 'lmstudio' has no attribute 'parse_response'
2025-06-11 01:39:25,770 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\Amazing-StonesMinerals6__880.jpg
2025-06-11 01:39:25,771 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 8, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-11 01:39:25,780 - DEBUG - {"call_id": 8, "event": "Received RPC result", "json": {"callId": 8, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-11 01:39:25,781 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749631165775 - 29.jpg",
  "name": "Amazing-StonesMinerals6__880.jpg",
  "sizeBytes": 128783,
  "type": "file"
})
2025-06-11 01:39:25,781 - DEBUG - Full prompt sent to LLM: You are an expert image organizer with access to vision capabilities. 
Analyze the following command: ''. 
Provide instructions on how to organize the images into folders based on their content. 
The response should be a JSON object with the following format:

{
  "folders": [
    {
      "name": "folder_name",
      "images": ["image1.jpg", "image2.jpg"]
    }
  ]
}

Each object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array of the actual image filenames (including their extensions) to be moved to that folder. 
Include only the filename of the image being processed in the 'images' array.
Return ONLY a JSON object.

2025-06-11 01:39:25,781 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 9, "creationParameter": {"history": {"messages": [{"content": [{"text": "You are an expert image organizer with access to vision capabilities. \nAnalyze the following command: ''. \nProvide instructions on how to organize the images into folders based on their content. \nThe response should be a JSON object with the following format:\n\n{\n  \"folders\": [\n    {\n      \"name\": \"folder_name\",\n      \"images\": [\"image1.jpg\", \"image2.jpg\"]\n    }\n  ]\n}\n\nEach object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array of the actual image filenames (including their extensions) to be moved to that folder. \nInclude only the filename of the image being processed in the 'images' array.\nReturn ONLY a JSON object.\n", "type": "text"}, {"fileType": "image", "identifier": "1749631165775 - 29.jpg", "name": "Amazing-StonesMinerals6__880.jpg", "sizeBytes": 128783, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@q2_k"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-11 01:39:29,338 - DEBUG - Raw LLM response: {"folders": [{"name": "minerals", "images": ["red_cubic_mine.jpg"]}]}
2025-06-11 01:39:29,340 - ERROR - Error generating response for Amazing-StonesMinerals6__880.jpg: module 'lmstudio' has no attribute 'parse_response'. Error: module 'lmstudio' has no attribute 'parse_response'
2025-06-11 01:39:29,340 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\Bing_0056.jpeg
2025-06-11 01:39:29,341 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 9, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-11 01:39:29,350 - DEBUG - {"call_id": 9, "event": "Received RPC result", "json": {"callId": 9, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-11 01:39:29,351 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749631169345 - 300.jpeg",
  "name": "Bing_0056.jpeg",
  "sizeBytes": 88069,
  "type": "file"
})
2025-06-11 01:39:29,351 - DEBUG - Full prompt sent to LLM: You are an expert image organizer with access to vision capabilities. 
Analyze the following command: ''. 
Provide instructions on how to organize the images into folders based on their content. 
The response should be a JSON object with the following format:

{
  "folders": [
    {
      "name": "folder_name",
      "images": ["image1.jpg", "image2.jpg"]
    }
  ]
}

Each object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array of the actual image filenames (including their extensions) to be moved to that folder. 
Include only the filename of the image being processed in the 'images' array.
Return ONLY a JSON object.

2025-06-11 01:39:29,351 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 10, "creationParameter": {"history": {"messages": [{"content": [{"text": "You are an expert image organizer with access to vision capabilities. \nAnalyze the following command: ''. \nProvide instructions on how to organize the images into folders based on their content. \nThe response should be a JSON object with the following format:\n\n{\n  \"folders\": [\n    {\n      \"name\": \"folder_name\",\n      \"images\": [\"image1.jpg\", \"image2.jpg\"]\n    }\n  ]\n}\n\nEach object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array of the actual image filenames (including their extensions) to be moved to that folder. \nInclude only the filename of the image being processed in the 'images' array.\nReturn ONLY a JSON object.\n", "type": "text"}, {"fileType": "image", "identifier": "1749631169345 - 300.jpeg", "name": "Bing_0056.jpeg", "sizeBytes": 88069, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@q2_k"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-11 01:39:34,435 - DEBUG - Raw LLM response: {
  "folders": [
    {
      "name": " portraits",
      "images": ["image1.jpg"]
    }
  ]
}
2025-06-11 01:39:34,436 - ERROR - Error generating response for Bing_0056.jpeg: module 'lmstudio' has no attribute 'parse_response'. Error: module 'lmstudio' has no attribute 'parse_response'
2025-06-11 01:39:34,438 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\NavalSquare.jpg
2025-06-11 01:39:34,438 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 10, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-11 01:39:34,446 - DEBUG - {"call_id": 10, "event": "Received RPC result", "json": {"callId": 10, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-11 01:39:34,446 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749631174441 - 76.jpg",
  "name": "NavalSquare.jpg",
  "sizeBytes": 45352,
  "type": "file"
})
2025-06-11 01:39:34,446 - DEBUG - Full prompt sent to LLM: You are an expert image organizer with access to vision capabilities. 
Analyze the following command: ''. 
Provide instructions on how to organize the images into folders based on their content. 
The response should be a JSON object with the following format:

{
  "folders": [
    {
      "name": "folder_name",
      "images": ["image1.jpg", "image2.jpg"]
    }
  ]
}

Each object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array of the actual image filenames (including their extensions) to be moved to that folder. 
Include only the filename of the image being processed in the 'images' array.
Return ONLY a JSON object.

2025-06-11 01:39:34,446 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 11, "creationParameter": {"history": {"messages": [{"content": [{"text": "You are an expert image organizer with access to vision capabilities. \nAnalyze the following command: ''. \nProvide instructions on how to organize the images into folders based on their content. \nThe response should be a JSON object with the following format:\n\n{\n  \"folders\": [\n    {\n      \"name\": \"folder_name\",\n      \"images\": [\"image1.jpg\", \"image2.jpg\"]\n    }\n  ]\n}\n\nEach object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array of the actual image filenames (including their extensions) to be moved to that folder. \nInclude only the filename of the image being processed in the 'images' array.\nReturn ONLY a JSON object.\n", "type": "text"}, {"fileType": "image", "identifier": "1749631174441 - 76.jpg", "name": "NavalSquare.jpg", "sizeBytes": 45352, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@q2_k"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-11 01:39:42,431 - DEBUG - Raw LLM response: {
  "folders": [
    {
      "name": "nature_scenes",
      "images": ["butterfly_tree.jpg"]
    }
  ]
}
2025-06-11 01:39:42,432 - ERROR - Error generating response for NavalSquare.jpg: module 'lmstudio' has no attribute 'parse_response'. Error: module 'lmstudio' has no attribute 'parse_response'
2025-06-11 01:40:08,548 - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/files)", "ws_url": "ws://localhost:1234/files"}
2025-06-11 01:40:08,548 - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/files)", "ws_url": "ws://localhost:1234/files"}
2025-06-11 01:40:08,548 - INFO - {"event": "Websocket demultiplexing task terminated.", "ws_url": "ws://localhost:1234/files"}
2025-06-11 01:40:08,548 - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-06-11 01:40:08,548 - INFO - {"event": "Websocket closed.", "ws_url": "ws://localhost:1234/files"}
2025-06-11 01:40:08,549 - DEBUG - response_closed.started
2025-06-11 01:40:08,549 - DEBUG - response_closed.complete
2025-06-11 01:40:08,549 - INFO - {"event": "Websocket task terminated", "ws_url": "ws://localhost:1234/files"}
2025-06-11 01:40:08,549 - INFO - {"event": "Websocket demultiplexing task terminated.", "ws_url": "ws://localhost:1234/embedding"}
2025-06-11 01:40:08,549 - INFO - {"event": "Websocket closed.", "ws_url": "ws://localhost:1234/embedding"}
2025-06-11 01:40:08,550 - DEBUG - response_closed.started
2025-06-11 01:40:08,550 - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-06-11 01:40:08,550 - DEBUG - response_closed.complete
2025-06-11 01:40:08,550 - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-06-11 01:40:08,550 - INFO - {"event": "Websocket task terminated", "ws_url": "ws://localhost:1234/embedding"}
2025-06-11 01:40:08,551 - INFO - {"event": "Websocket demultiplexing task terminated.", "ws_url": "ws://localhost:1234/llm"}
2025-06-11 01:40:08,551 - INFO - {"event": "Websocket closed.", "ws_url": "ws://localhost:1234/llm"}
2025-06-11 01:40:08,551 - DEBUG - response_closed.started
2025-06-11 01:40:08,551 - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-06-11 01:40:08,551 - DEBUG - response_closed.complete
2025-06-11 01:40:08,551 - INFO - {"event": "Websocket task terminated", "ws_url": "ws://localhost:1234/llm"}
2025-06-11 01:40:08,552 - DEBUG - {"client": "<lmstudio.sync_api.Client object at 0x0000021CF2CCA310>", "event": "Terminating websocket thread due to exception", "thread_id": "Thread-1"}
Traceback (most recent call last):
  File "C:\Users\dadad\AppData\Local\Programs\Python\Python311\Lib\site-packages\lmstudio\_ws_impl.py", line 292, in _log_thread_execution
    await never_set.wait()
  File "C:\Users\dadad\AppData\Local\Programs\Python\Python311\Lib\asyncio\locks.py", line 213, in wait
    await fut
asyncio.exceptions.CancelledError: Cancelled by cancel scope 21cf557d390
2025-06-11 01:40:08,555 - INFO - {"client": "<lmstudio.sync_api.Client object at 0x0000021CF2CCA310>", "event": "Websocket thread terminated", "thread_id": "Thread-1"}
2025-06-11 02:00:02,598 - INFO - Gemini LLM Analysis: ```json
{
  "folders": [
    {
      "name": "Moon",
      "images": [
        "2010-11-21-full-moon-1000.png"
      ]
    },
    {
      "name": "Flowers",
      "images": [
        "21663397742_10c834c71e_c.jpg"
      ]
    },
    {
      "name": "Forest",
      "images": [
        "3.jpg"
      ]
    },
    {
      "name": "Shark",
      "images": [
        "56ba49e41a00002d00ab2507.jpeg"
      ]
    },
    {
      "name": "Underwater",
      "images": [
        "9.jpg"
      ]
    },
    {
      "name": "Castle",
      "images": [
        "a13052540ed9f27eea7d611e9e33293fea9fb4aa584c029e80036f5f857f03de.webp"
      ]
    },
    {
      "name": "People",
      "images": [
        "A1897E5E85B488FDE84BB77AE42E97B7778AE8CAC745860766931D266FDE4FE0.jpg",
        "Bing_0056.jpeg"
      ]
    },
    {
      "name": "Minerals",
      "images": [
        "Amazing-StonesMinerals6__880.jpg"
      ]
    },
    {
      "name": "Trees",
      "images": [
        "NavalSquare.jpg"
      ]
    }
  ]
}
```
2025-06-11 02:00:02,602 - INFO - Attempting to parse JSON from Gemini response
2025-06-11 02:00:02,602 - INFO - Gemini JSON parsed successfully: {'folders': [{'name': 'Moon', 'images': ['2010-11-21-full-moon-1000.png']}, {'name': 'Flowers', 'images': ['21663397742_10c834c71e_c.jpg']}, {'name': 'Forest', 'images': ['3.jpg']}, {'name': 'Shark', 'images': ['56ba49e41a00002d00ab2507.jpeg']}, {'name': 'Underwater', 'images': ['9.jpg']}, {'name': 'Castle', 'images': ['a13052540ed9f27eea7d611e9e33293fea9fb4aa584c029e80036f5f857f03de.webp']}, {'name': 'People', 'images': ['A1897E5E85B488FDE84BB77AE42E97B7778AE8CAC745860766931D266FDE4FE0.jpg', 'Bing_0056.jpeg']}, {'name': 'Minerals', 'images': ['Amazing-StonesMinerals6__880.jpg']}, {'name': 'Trees', 'images': ['NavalSquare.jpg']}]}
2025-06-11 02:25:36,826 - DEBUG - Using proactor: IocpProactor
2025-06-11 02:25:36,885 - INFO - {"client": "<lmstudio.sync_api.Client object at 0x000002E9C49FA290>", "event": "Websocket handling thread started", "thread_id": "Thread-1"}
2025-06-11 02:25:36,886 - INFO - {"event": "Websocket handling task started", "ws_url": "ws://localhost:1234/llm"}
2025-06-11 02:25:37,222 - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-06-11 02:25:37,493 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002E9C732F050>
2025-06-11 02:25:37,493 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-11 02:25:37,494 - DEBUG - send_request_headers.complete
2025-06-11 02:25:37,494 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-11 02:25:37,494 - DEBUG - send_request_body.complete
2025-06-11 02:25:37,494 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-11 02:25:37,511 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'W/f5zXWue2kb6Sa+9MrgqeBvSQw=')])
2025-06-11 02:25:37,513 - INFO - HTTP Request: GET ws://localhost:1234/llm "HTTP/1.1 101 Switching Protocols"
2025-06-11 02:25:37,514 - DEBUG - {"event": "Websocket connected", "ws_url": "ws://localhost:1234/llm"}
2025-06-11 02:25:37,520 - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "ws_url": "ws://localhost:1234/llm"}
2025-06-11 02:25:37,520 - INFO - {"event": "Websocket session established (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-06-11 02:25:37,521 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "listLoaded", "type": "rpcCall"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-11 02:25:37,528 - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": ["..."], "type": "rpcResult"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-11 02:25:37,529 - INFO - {"event": "Websocket handling task started", "ws_url": "ws://localhost:1234/embedding"}
2025-06-11 02:25:37,807 - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-06-11 02:25:38,060 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002E9C733B050>
2025-06-11 02:25:38,060 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-11 02:25:38,061 - DEBUG - send_request_headers.complete
2025-06-11 02:25:38,061 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-11 02:25:38,061 - DEBUG - send_request_body.complete
2025-06-11 02:25:38,061 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-11 02:25:38,061 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'yUq4Qv59GAFPpQy1/hVI8GaYUus=')])
2025-06-11 02:25:38,061 - INFO - HTTP Request: GET ws://localhost:1234/embedding "HTTP/1.1 101 Switching Protocols"
2025-06-11 02:25:38,062 - DEBUG - {"event": "Websocket connected", "ws_url": "ws://localhost:1234/embedding"}
2025-06-11 02:25:38,063 - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "ws_url": "ws://localhost:1234/embedding"}
2025-06-11 02:25:38,063 - INFO - {"event": "Websocket session established (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-06-11 02:25:38,063 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "listLoaded", "type": "rpcCall"}, "ws_url": "ws://localhost:1234/embedding"}
2025-06-11 02:25:38,066 - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": ["..."], "type": "rpcResult"}, "ws_url": "ws://localhost:1234/embedding"}
2025-06-11 02:25:38,072 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 1, "creationParameter": {"identifier": "m@q2_k", "loadConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}, "loadTtlMs": 3600000}, "endpoint": "getOrLoad", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-11 02:25:38,078 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\2010-11-21-full-moon-1000.png
2025-06-11 02:25:38,081 - INFO - {"event": "Websocket handling task started", "ws_url": "ws://localhost:1234/files"}
2025-06-11 02:25:38,273 - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-06-11 02:25:38,525 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002E9C7342F90>
2025-06-11 02:25:38,525 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-11 02:25:38,525 - DEBUG - send_request_headers.complete
2025-06-11 02:25:38,525 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-11 02:25:38,525 - DEBUG - send_request_body.complete
2025-06-11 02:25:38,525 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-11 02:25:38,526 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'OdS75+RmbUxFKbUITTxtaDv/4fA=')])
2025-06-11 02:25:38,526 - INFO - HTTP Request: GET ws://localhost:1234/files "HTTP/1.1 101 Switching Protocols"
2025-06-11 02:25:38,526 - DEBUG - {"event": "Websocket connected", "ws_url": "ws://localhost:1234/files"}
2025-06-11 02:25:38,527 - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "ws_url": "ws://localhost:1234/files"}
2025-06-11 02:25:38,527 - INFO - {"event": "Websocket session established (ws://localhost:1234/files)", "ws_url": "ws://localhost:1234/files"}
2025-06-11 02:25:38,528 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-11 02:25:38,550 - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-11 02:25:38,551 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749633938537 - 733.png",
  "name": "2010-11-21-full-moon-1000.png",
  "sizeBytes": 303022,
  "type": "file"
})
2025-06-11 02:25:38,551 - DEBUG - Full prompt sent to LLM: You are an expert image organizer with access to vision capabilities. 
Analyze the following command: ''. 
Provide instructions on how to organize the images into folders based on their content. 
The response should be a JSON object with the following format:

{
  "folders": [
    {
      "name": "folder_name",
      "images": ["image1.jpg", "image2.jpg"]
    }
  ]
}

Each object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array of the actual image filenames (including their extensions) to be moved to that folder. 
Include only the filename of the image being processed in the 'images' array.
Return ONLY a JSON object.

2025-06-11 02:25:38,556 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 2, "creationParameter": {"history": {"messages": [{"content": [{"text": "You are an expert image organizer with access to vision capabilities. \nAnalyze the following command: ''. \nProvide instructions on how to organize the images into folders based on their content. \nThe response should be a JSON object with the following format:\n\n{\n  \"folders\": [\n    {\n      \"name\": \"folder_name\",\n      \"images\": [\"image1.jpg\", \"image2.jpg\"]\n    }\n  ]\n}\n\nEach object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array of the actual image filenames (including their extensions) to be moved to that folder. \nInclude only the filename of the image being processed in the 'images' array.\nReturn ONLY a JSON object.\n", "type": "text"}, {"fileType": "image", "identifier": "1749633938537 - 733.png", "name": "2010-11-21-full-moon-1000.png", "sizeBytes": 303022, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@q2_k"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-11 02:25:44,100 - DEBUG - Raw LLM response: {
  "folders": [
    {
      "name": "space",
      "images": ["moon.jpg"]
    }
  ]
}
2025-06-11 02:25:44,100 - INFO - Attempting to parse JSON from LLM response.
2025-06-11 02:25:44,100 - INFO - LLM JSON parsed successfully: {'folders': [{'name': 'space', 'images': ['moon.jpg']}]}
2025-06-11 02:25:44,101 - DEBUG - Created folder: C:/Users/dadad/dadadies/development/ddd_image_organize/images\space
2025-06-11 02:25:44,103 - DEBUG - Moved moon.jpg to C:/Users/dadad/dadadies/development/ddd_image_organize/images\space
2025-06-11 02:25:44,103 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\21663397742_10c834c71e_c.jpg
2025-06-11 02:25:44,105 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 2, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-11 02:25:44,118 - DEBUG - {"call_id": 2, "event": "Received RPC result", "json": {"callId": 2, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-11 02:25:44,119 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749633944109 - 700.jpg",
  "name": "21663397742_10c834c71e_c.jpg",
  "sizeBytes": 189014,
  "type": "file"
})
2025-06-11 02:25:44,119 - DEBUG - Full prompt sent to LLM: You are an expert image organizer with access to vision capabilities. 
Analyze the following command: ''. 
Provide instructions on how to organize the images into folders based on their content. 
The response should be a JSON object with the following format:

{
  "folders": [
    {
      "name": "folder_name",
      "images": ["image1.jpg", "image2.jpg"]
    }
  ]
}

Each object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array of the actual image filenames (including their extensions) to be moved to that folder. 
Include only the filename of the image being processed in the 'images' array.
Return ONLY a JSON object.

2025-06-11 02:25:44,119 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 3, "creationParameter": {"history": {"messages": [{"content": [{"text": "You are an expert image organizer with access to vision capabilities. \nAnalyze the following command: ''. \nProvide instructions on how to organize the images into folders based on their content. \nThe response should be a JSON object with the following format:\n\n{\n  \"folders\": [\n    {\n      \"name\": \"folder_name\",\n      \"images\": [\"image1.jpg\", \"image2.jpg\"]\n    }\n  ]\n}\n\nEach object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array of the actual image filenames (including their extensions) to be moved to that folder. \nInclude only the filename of the image being processed in the 'images' array.\nReturn ONLY a JSON object.\n", "type": "text"}, {"fileType": "image", "identifier": "1749633944109 - 700.jpg", "name": "21663397742_10c834c71e_c.jpg", "sizeBytes": 189014, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@q2_k"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-11 02:25:49,530 - DEBUG - Raw LLM response: {
  "folders": [
    {
      "name": "Flowers",
      "images": ["flowers.jpg"]
    }
  ]
}
2025-06-11 02:25:49,530 - INFO - Attempting to parse JSON from LLM response.
2025-06-11 02:25:49,530 - INFO - LLM JSON parsed successfully: {'folders': [{'name': 'Flowers', 'images': ['flowers.jpg']}]}
2025-06-11 02:25:49,531 - DEBUG - Created folder: C:/Users/dadad/dadadies/development/ddd_image_organize/images\Flowers
2025-06-11 02:25:49,533 - DEBUG - Moved flowers.jpg to C:/Users/dadad/dadadies/development/ddd_image_organize/images\Flowers
2025-06-11 02:25:49,533 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\3.jpg
2025-06-11 02:25:49,533 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 3, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-11 02:25:49,541 - DEBUG - {"call_id": 3, "event": "Received RPC result", "json": {"callId": 3, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-11 02:25:49,541 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749633949535 - 590.jpg",
  "name": "3.jpg",
  "sizeBytes": 16659,
  "type": "file"
})
2025-06-11 02:25:49,542 - DEBUG - Full prompt sent to LLM: You are an expert image organizer with access to vision capabilities. 
Analyze the following command: ''. 
Provide instructions on how to organize the images into folders based on their content. 
The response should be a JSON object with the following format:

{
  "folders": [
    {
      "name": "folder_name",
      "images": ["image1.jpg", "image2.jpg"]
    }
  ]
}

Each object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array of the actual image filenames (including their extensions) to be moved to that folder. 
Include only the filename of the image being processed in the 'images' array.
Return ONLY a JSON object.

2025-06-11 02:25:49,542 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 4, "creationParameter": {"history": {"messages": [{"content": [{"text": "You are an expert image organizer with access to vision capabilities. \nAnalyze the following command: ''. \nProvide instructions on how to organize the images into folders based on their content. \nThe response should be a JSON object with the following format:\n\n{\n  \"folders\": [\n    {\n      \"name\": \"folder_name\",\n      \"images\": [\"image1.jpg\", \"image2.jpg\"]\n    }\n  ]\n}\n\nEach object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array of the actual image filenames (including their extensions) to be moved to that folder. \nInclude only the filename of the image being processed in the 'images' array.\nReturn ONLY a JSON object.\n", "type": "text"}, {"fileType": "image", "identifier": "1749633949535 - 590.jpg", "name": "3.jpg", "sizeBytes": 16659, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@q2_k"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-11 02:25:54,253 - DEBUG - Raw LLM response: {
  "folders": [
    {
      "name": "forest_scenery",
      "images": ["image1.jpg"]
    }
  ]
}
2025-06-11 02:25:54,253 - INFO - Attempting to parse JSON from LLM response.
2025-06-11 02:25:54,253 - INFO - LLM JSON parsed successfully: {'folders': [{'name': 'forest_scenery', 'images': ['image1.jpg']}]}
2025-06-11 02:25:54,255 - DEBUG - Created folder: C:/Users/dadad/dadadies/development/ddd_image_organize/images\forest_scenery
2025-06-11 02:25:54,256 - DEBUG - Moved image1.jpg to C:/Users/dadad/dadadies/development/ddd_image_organize/images\forest_scenery
2025-06-11 02:25:54,256 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\56ba49e41a00002d00ab2507.jpeg
2025-06-11 02:25:54,257 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 4, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-11 02:25:54,264 - DEBUG - {"call_id": 4, "event": "Received RPC result", "json": {"callId": 4, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-11 02:25:54,264 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749633954259 - 574.jpeg",
  "name": "56ba49e41a00002d00ab2507.jpeg",
  "sizeBytes": 42576,
  "type": "file"
})
2025-06-11 02:25:54,264 - DEBUG - Full prompt sent to LLM: You are an expert image organizer with access to vision capabilities. 
Analyze the following command: ''. 
Provide instructions on how to organize the images into folders based on their content. 
The response should be a JSON object with the following format:

{
  "folders": [
    {
      "name": "folder_name",
      "images": ["image1.jpg", "image2.jpg"]
    }
  ]
}

Each object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array of the actual image filenames (including their extensions) to be moved to that folder. 
Include only the filename of the image being processed in the 'images' array.
Return ONLY a JSON object.

2025-06-11 02:25:54,265 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 5, "creationParameter": {"history": {"messages": [{"content": [{"text": "You are an expert image organizer with access to vision capabilities. \nAnalyze the following command: ''. \nProvide instructions on how to organize the images into folders based on their content. \nThe response should be a JSON object with the following format:\n\n{\n  \"folders\": [\n    {\n      \"name\": \"folder_name\",\n      \"images\": [\"image1.jpg\", \"image2.jpg\"]\n    }\n  ]\n}\n\nEach object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array of the actual image filenames (including their extensions) to be moved to that folder. \nInclude only the filename of the image being processed in the 'images' array.\nReturn ONLY a JSON object.\n", "type": "text"}, {"fileType": "image", "identifier": "1749633954259 - 574.jpeg", "name": "56ba49e41a00002d00ab2507.jpeg", "sizeBytes": 42576, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@q2_k"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-11 02:25:59,163 - DEBUG - Raw LLM response: {
  "folders": [
    {
      "name": "sharks",
      "images": ["shark.jpg"]
    }
  ]
}
2025-06-11 02:25:59,163 - INFO - Attempting to parse JSON from LLM response.
2025-06-11 02:25:59,163 - INFO - LLM JSON parsed successfully: {'folders': [{'name': 'sharks', 'images': ['shark.jpg']}]}
2025-06-11 02:25:59,164 - DEBUG - Created folder: C:/Users/dadad/dadadies/development/ddd_image_organize/images\sharks
2025-06-11 02:25:59,166 - DEBUG - Moved shark.jpg to C:/Users/dadad/dadadies/development/ddd_image_organize/images\sharks
2025-06-11 02:25:59,166 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\9.jpg
2025-06-11 02:25:59,167 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 5, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-11 02:25:59,175 - DEBUG - {"call_id": 5, "event": "Received RPC result", "json": {"callId": 5, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-11 02:25:59,176 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749633959169 - 316.jpg",
  "name": "9.jpg",
  "sizeBytes": 77222,
  "type": "file"
})
2025-06-11 02:25:59,176 - DEBUG - Full prompt sent to LLM: You are an expert image organizer with access to vision capabilities. 
Analyze the following command: ''. 
Provide instructions on how to organize the images into folders based on their content. 
The response should be a JSON object with the following format:

{
  "folders": [
    {
      "name": "folder_name",
      "images": ["image1.jpg", "image2.jpg"]
    }
  ]
}

Each object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array of the actual image filenames (including their extensions) to be moved to that folder. 
Include only the filename of the image being processed in the 'images' array.
Return ONLY a JSON object.

2025-06-11 02:25:59,176 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 6, "creationParameter": {"history": {"messages": [{"content": [{"text": "You are an expert image organizer with access to vision capabilities. \nAnalyze the following command: ''. \nProvide instructions on how to organize the images into folders based on their content. \nThe response should be a JSON object with the following format:\n\n{\n  \"folders\": [\n    {\n      \"name\": \"folder_name\",\n      \"images\": [\"image1.jpg\", \"image2.jpg\"]\n    }\n  ]\n}\n\nEach object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array of the actual image filenames (including their extensions) to be moved to that folder. \nInclude only the filename of the image being processed in the 'images' array.\nReturn ONLY a JSON object.\n", "type": "text"}, {"fileType": "image", "identifier": "1749633959169 - 316.jpg", "name": "9.jpg", "sizeBytes": 77222, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@q2_k"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-11 02:26:04,538 - DEBUG - Raw LLM response: {
  "folders": [
    {
      "name": "underwater_scenic",
      "images": ["image1.jpg"]
    }
  ]
}
2025-06-11 02:26:04,538 - INFO - Attempting to parse JSON from LLM response.
2025-06-11 02:26:04,538 - INFO - LLM JSON parsed successfully: {'folders': [{'name': 'underwater_scenic', 'images': ['image1.jpg']}]}
2025-06-11 02:26:04,538 - DEBUG - Created folder: C:/Users/dadad/dadadies/development/ddd_image_organize/images\underwater_scenic
2025-06-11 02:26:04,541 - DEBUG - Moved image1.jpg to C:/Users/dadad/dadadies/development/ddd_image_organize/images\underwater_scenic
2025-06-11 02:26:04,541 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\a13052540ed9f27eea7d611e9e33293fea9fb4aa584c029e80036f5f857f03de.webp
2025-06-11 02:26:04,543 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 6, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-11 02:26:04,556 - DEBUG - {"call_id": 6, "event": "Received RPC result", "json": {"callId": 6, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-11 02:26:04,556 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749633964548 - 820.webp",
  "name": "a13052540ed9f27eea7d611e9e33293fea9fb4aa584c029e80036f5f857f03de.webp",
  "sizeBytes": 231480,
  "type": "file"
})
2025-06-11 02:26:04,558 - DEBUG - Full prompt sent to LLM: You are an expert image organizer with access to vision capabilities. 
Analyze the following command: ''. 
Provide instructions on how to organize the images into folders based on their content. 
The response should be a JSON object with the following format:

{
  "folders": [
    {
      "name": "folder_name",
      "images": ["image1.jpg", "image2.jpg"]
    }
  ]
}

Each object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array of the actual image filenames (including their extensions) to be moved to that folder. 
Include only the filename of the image being processed in the 'images' array.
Return ONLY a JSON object.

2025-06-11 02:26:04,558 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 7, "creationParameter": {"history": {"messages": [{"content": [{"text": "You are an expert image organizer with access to vision capabilities. \nAnalyze the following command: ''. \nProvide instructions on how to organize the images into folders based on their content. \nThe response should be a JSON object with the following format:\n\n{\n  \"folders\": [\n    {\n      \"name\": \"folder_name\",\n      \"images\": [\"image1.jpg\", \"image2.jpg\"]\n    }\n  ]\n}\n\nEach object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array of the actual image filenames (including their extensions) to be moved to that folder. \nInclude only the filename of the image being processed in the 'images' array.\nReturn ONLY a JSON object.\n", "type": "text"}, {"fileType": "image", "identifier": "1749633964548 - 820.webp", "name": "a13052540ed9f27eea7d611e9e33293fea9fb4aa584c029e80036f5f857f03de.webp", "sizeBytes": 231480, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@q2_k"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-11 02:26:09,994 - DEBUG - Raw LLM response: {
  "folders": [
    {
      "name": "castles",
      "images": ["castle1.jpg"]
    }
  ]
}
2025-06-11 02:26:09,994 - INFO - Attempting to parse JSON from LLM response.
2025-06-11 02:26:09,994 - INFO - LLM JSON parsed successfully: {'folders': [{'name': 'castles', 'images': ['castle1.jpg']}]}
2025-06-11 02:26:09,995 - DEBUG - Created folder: C:/Users/dadad/dadadies/development/ddd_image_organize/images\castles
2025-06-11 02:26:09,997 - DEBUG - Moved castle1.jpg to C:/Users/dadad/dadadies/development/ddd_image_organize/images\castles
2025-06-11 02:26:09,997 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\A1897E5E85B488FDE84BB77AE42E97B7778AE8CAC745860766931D266FDE4FE0.jpg
2025-06-11 02:26:09,998 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 7, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-11 02:26:10,006 - DEBUG - {"call_id": 7, "event": "Received RPC result", "json": {"callId": 7, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-11 02:26:10,007 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749633970001 - 970.jpg",
  "name": "A1897E5E85B488FDE84BB77AE42E97B7778AE8CAC745860766931D266FDE4FE0.jpg",
  "sizeBytes": 50344,
  "type": "file"
})
2025-06-11 02:26:10,007 - DEBUG - Full prompt sent to LLM: You are an expert image organizer with access to vision capabilities. 
Analyze the following command: ''. 
Provide instructions on how to organize the images into folders based on their content. 
The response should be a JSON object with the following format:

{
  "folders": [
    {
      "name": "folder_name",
      "images": ["image1.jpg", "image2.jpg"]
    }
  ]
}

Each object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array of the actual image filenames (including their extensions) to be moved to that folder. 
Include only the filename of the image being processed in the 'images' array.
Return ONLY a JSON object.

2025-06-11 02:26:10,007 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 8, "creationParameter": {"history": {"messages": [{"content": [{"text": "You are an expert image organizer with access to vision capabilities. \nAnalyze the following command: ''. \nProvide instructions on how to organize the images into folders based on their content. \nThe response should be a JSON object with the following format:\n\n{\n  \"folders\": [\n    {\n      \"name\": \"folder_name\",\n      \"images\": [\"image1.jpg\", \"image2.jpg\"]\n    }\n  ]\n}\n\nEach object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array of the actual image filenames (including their extensions) to be moved to that folder. \nInclude only the filename of the image being processed in the 'images' array.\nReturn ONLY a JSON object.\n", "type": "text"}, {"fileType": "image", "identifier": "1749633970001 - 970.jpg", "name": "A1897E5E85B488FDE84BB77AE42E97B7778AE8CAC745860766931D266FDE4FE0.jpg", "sizeBytes": 50344, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@q2_k"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-11 02:26:15,356 - DEBUG - Raw LLM response: {
  "folders": [
    {
      "name": "anime-style-portraits",
      "images": ["image1.jpg"]
    }
  ]
}
2025-06-11 02:26:15,356 - INFO - Attempting to parse JSON from LLM response.
2025-06-11 02:26:15,356 - INFO - LLM JSON parsed successfully: {'folders': [{'name': 'anime-style-portraits', 'images': ['image1.jpg']}]}
2025-06-11 02:26:15,356 - DEBUG - Created folder: C:/Users/dadad/dadadies/development/ddd_image_organize/images\anime-style-portraits
2025-06-11 02:26:15,358 - DEBUG - Moved image1.jpg to C:/Users/dadad/dadadies/development/ddd_image_organize/images\anime-style-portraits
2025-06-11 02:26:15,358 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\Amazing-StonesMinerals6__880.jpg
2025-06-11 02:26:15,360 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 8, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-11 02:26:15,370 - DEBUG - {"call_id": 8, "event": "Received RPC result", "json": {"callId": 8, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-11 02:26:15,371 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749633975364 - 109.jpg",
  "name": "Amazing-StonesMinerals6__880.jpg",
  "sizeBytes": 128783,
  "type": "file"
})
2025-06-11 02:26:15,371 - DEBUG - Full prompt sent to LLM: You are an expert image organizer with access to vision capabilities. 
Analyze the following command: ''. 
Provide instructions on how to organize the images into folders based on their content. 
The response should be a JSON object with the following format:

{
  "folders": [
    {
      "name": "folder_name",
      "images": ["image1.jpg", "image2.jpg"]
    }
  ]
}

Each object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array of the actual image filenames (including their extensions) to be moved to that folder. 
Include only the filename of the image being processed in the 'images' array.
Return ONLY a JSON object.

2025-06-11 02:26:15,371 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 9, "creationParameter": {"history": {"messages": [{"content": [{"text": "You are an expert image organizer with access to vision capabilities. \nAnalyze the following command: ''. \nProvide instructions on how to organize the images into folders based on their content. \nThe response should be a JSON object with the following format:\n\n{\n  \"folders\": [\n    {\n      \"name\": \"folder_name\",\n      \"images\": [\"image1.jpg\", \"image2.jpg\"]\n    }\n  ]\n}\n\nEach object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array of the actual image filenames (including their extensions) to be moved to that folder. \nInclude only the filename of the image being processed in the 'images' array.\nReturn ONLY a JSON object.\n", "type": "text"}, {"fileType": "image", "identifier": "1749633975364 - 109.jpg", "name": "Amazing-StonesMinerals6__880.jpg", "sizeBytes": 128783, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@q2_k"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-11 02:26:21,238 - DEBUG - Raw LLM response: {
  "folders": [
    {
      "name": "minerals",
      "images": ["red_cubic_mineral.jpg"]
    }
  ]
}
2025-06-11 02:26:21,238 - INFO - Attempting to parse JSON from LLM response.
2025-06-11 02:26:21,238 - INFO - LLM JSON parsed successfully: {'folders': [{'name': 'minerals', 'images': ['red_cubic_mineral.jpg']}]}
2025-06-11 02:26:21,239 - DEBUG - Created folder: C:/Users/dadad/dadadies/development/ddd_image_organize/images\minerals
2025-06-11 02:26:21,241 - DEBUG - Moved red_cubic_mineral.jpg to C:/Users/dadad/dadadies/development/ddd_image_organize/images\minerals
2025-06-11 02:26:21,241 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\Bing_0056.jpeg
2025-06-11 02:26:21,242 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 9, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-11 02:26:21,252 - DEBUG - {"call_id": 9, "event": "Received RPC result", "json": {"callId": 9, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-11 02:26:21,253 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749633981245 - 472.jpeg",
  "name": "Bing_0056.jpeg",
  "sizeBytes": 88069,
  "type": "file"
})
2025-06-11 02:26:21,253 - DEBUG - Full prompt sent to LLM: You are an expert image organizer with access to vision capabilities. 
Analyze the following command: ''. 
Provide instructions on how to organize the images into folders based on their content. 
The response should be a JSON object with the following format:

{
  "folders": [
    {
      "name": "folder_name",
      "images": ["image1.jpg", "image2.jpg"]
    }
  ]
}

Each object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array of the actual image filenames (including their extensions) to be moved to that folder. 
Include only the filename of the image being processed in the 'images' array.
Return ONLY a JSON object.

2025-06-11 02:26:21,253 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 10, "creationParameter": {"history": {"messages": [{"content": [{"text": "You are an expert image organizer with access to vision capabilities. \nAnalyze the following command: ''. \nProvide instructions on how to organize the images into folders based on their content. \nThe response should be a JSON object with the following format:\n\n{\n  \"folders\": [\n    {\n      \"name\": \"folder_name\",\n      \"images\": [\"image1.jpg\", \"image2.jpg\"]\n    }\n  ]\n}\n\nEach object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array of the actual image filenames (including their extensions) to be moved to that folder. \nInclude only the filename of the image being processed in the 'images' array.\nReturn ONLY a JSON object.\n", "type": "text"}, {"fileType": "image", "identifier": "1749633981245 - 472.jpeg", "name": "Bing_0056.jpeg", "sizeBytes": 88069, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@q2_k"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-11 02:26:26,355 - DEBUG - Raw LLM response: {
  "folders": [
    {
      "name": " portraits",
      "images": ["image1.jpg"]
    }
  ]
}
2025-06-11 02:26:26,356 - INFO - Attempting to parse JSON from LLM response.
2025-06-11 02:26:26,356 - INFO - LLM JSON parsed successfully: {'folders': [{'name': ' portraits', 'images': ['image1.jpg']}]}
2025-06-11 02:26:26,356 - DEBUG - Created folder: C:/Users/dadad/dadadies/development/ddd_image_organize/images\ portraits
2025-06-11 02:26:26,358 - DEBUG - Moved image1.jpg to C:/Users/dadad/dadadies/development/ddd_image_organize/images\ portraits
2025-06-11 02:26:26,358 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\NavalSquare.jpg
2025-06-11 02:26:26,359 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 10, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-11 02:26:26,367 - DEBUG - {"call_id": 10, "event": "Received RPC result", "json": {"callId": 10, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-11 02:26:26,368 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749633986362 - 371.jpg",
  "name": "NavalSquare.jpg",
  "sizeBytes": 45352,
  "type": "file"
})
2025-06-11 02:26:26,368 - DEBUG - Full prompt sent to LLM: You are an expert image organizer with access to vision capabilities. 
Analyze the following command: ''. 
Provide instructions on how to organize the images into folders based on their content. 
The response should be a JSON object with the following format:

{
  "folders": [
    {
      "name": "folder_name",
      "images": ["image1.jpg", "image2.jpg"]
    }
  ]
}

Each object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array of the actual image filenames (including their extensions) to be moved to that folder. 
Include only the filename of the image being processed in the 'images' array.
Return ONLY a JSON object.

2025-06-11 02:26:26,368 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 11, "creationParameter": {"history": {"messages": [{"content": [{"text": "You are an expert image organizer with access to vision capabilities. \nAnalyze the following command: ''. \nProvide instructions on how to organize the images into folders based on their content. \nThe response should be a JSON object with the following format:\n\n{\n  \"folders\": [\n    {\n      \"name\": \"folder_name\",\n      \"images\": [\"image1.jpg\", \"image2.jpg\"]\n    }\n  ]\n}\n\nEach object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array of the actual image filenames (including their extensions) to be moved to that folder. \nInclude only the filename of the image being processed in the 'images' array.\nReturn ONLY a JSON object.\n", "type": "text"}, {"fileType": "image", "identifier": "1749633986362 - 371.jpg", "name": "NavalSquare.jpg", "sizeBytes": 45352, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@q2_k"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-11 02:26:31,929 - DEBUG - Raw LLM response: {
  "folders": [
    {
      "name": "nature_scenes",
      "images": ["bark_tree.jpg"]
    }
  ]
}
2025-06-11 02:26:31,929 - INFO - Attempting to parse JSON from LLM response.
2025-06-11 02:26:31,929 - INFO - LLM JSON parsed successfully: {'folders': [{'name': 'nature_scenes', 'images': ['bark_tree.jpg']}]}
2025-06-11 02:26:31,929 - DEBUG - Created folder: C:/Users/dadad/dadadies/development/ddd_image_organize/images\nature_scenes
2025-06-11 02:26:31,931 - DEBUG - Moved bark_tree.jpg to C:/Users/dadad/dadadies/development/ddd_image_organize/images\nature_scenes
2025-06-11 02:27:19,870 - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/files)", "ws_url": "ws://localhost:1234/files"}
2025-06-11 02:27:19,874 - INFO - {"event": "Websocket demultiplexing task terminated.", "ws_url": "ws://localhost:1234/files"}
2025-06-11 02:27:19,874 - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/files)", "ws_url": "ws://localhost:1234/files"}
2025-06-11 02:27:19,874 - INFO - {"event": "Websocket closed.", "ws_url": "ws://localhost:1234/files"}
2025-06-11 02:27:19,875 - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-06-11 02:27:19,876 - DEBUG - response_closed.started
2025-06-11 02:27:19,876 - DEBUG - response_closed.complete
2025-06-11 02:27:19,876 - INFO - {"event": "Websocket task terminated", "ws_url": "ws://localhost:1234/files"}
2025-06-11 02:27:19,878 - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-06-11 02:27:19,878 - INFO - {"event": "Websocket demultiplexing task terminated.", "ws_url": "ws://localhost:1234/embedding"}
2025-06-11 02:27:19,878 - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-06-11 02:27:19,878 - INFO - {"event": "Websocket closed.", "ws_url": "ws://localhost:1234/embedding"}
2025-06-11 02:27:19,879 - DEBUG - response_closed.started
2025-06-11 02:27:19,879 - DEBUG - response_closed.complete
2025-06-11 02:27:19,879 - INFO - {"event": "Websocket task terminated", "ws_url": "ws://localhost:1234/embedding"}
2025-06-11 02:27:19,880 - INFO - {"event": "Websocket demultiplexing task terminated.", "ws_url": "ws://localhost:1234/llm"}
2025-06-11 02:27:19,880 - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-06-11 02:27:19,880 - INFO - {"event": "Websocket closed.", "ws_url": "ws://localhost:1234/llm"}
2025-06-11 02:27:19,880 - DEBUG - response_closed.started
2025-06-11 02:27:19,880 - DEBUG - response_closed.complete
2025-06-11 02:27:19,880 - INFO - {"event": "Websocket task terminated", "ws_url": "ws://localhost:1234/llm"}
2025-06-11 02:27:19,881 - DEBUG - {"client": "<lmstudio.sync_api.Client object at 0x000002E9C49FA290>", "event": "Terminating websocket thread due to exception", "thread_id": "Thread-1"}
Traceback (most recent call last):
  File "C:\Users\dadad\AppData\Local\Programs\Python\Python311\Lib\site-packages\lmstudio\_ws_impl.py", line 292, in _log_thread_execution
    await never_set.wait()
  File "C:\Users\dadad\AppData\Local\Programs\Python\Python311\Lib\asyncio\locks.py", line 213, in wait
    await fut
asyncio.exceptions.CancelledError: Cancelled by cancel scope 2e9c730d110
2025-06-11 02:27:19,888 - INFO - {"client": "<lmstudio.sync_api.Client object at 0x000002E9C49FA290>", "event": "Websocket thread terminated", "thread_id": "Thread-1"}
2025-06-11 02:55:20,735 - DEBUG - Using proactor: IocpProactor
2025-06-11 02:55:20,746 - INFO - {"client": "<lmstudio.sync_api.Client object at 0x0000019C624CA150>", "event": "Websocket handling thread started", "thread_id": "Thread-1"}
2025-06-11 02:55:20,746 - INFO - {"event": "Websocket handling task started", "ws_url": "ws://localhost:1234/llm"}
2025-06-11 02:55:21,036 - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-06-11 02:55:21,307 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000019C61932090>
2025-06-11 02:55:21,308 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-11 02:55:21,308 - DEBUG - send_request_headers.complete
2025-06-11 02:55:21,308 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-11 02:55:21,309 - DEBUG - send_request_body.complete
2025-06-11 02:55:21,309 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-11 02:55:21,319 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'olnHpG6BV3UHrIaDoMhoJx9DnnU=')])
2025-06-11 02:55:21,320 - INFO - HTTP Request: GET ws://localhost:1234/llm "HTTP/1.1 101 Switching Protocols"
2025-06-11 02:55:21,321 - DEBUG - {"event": "Websocket connected", "ws_url": "ws://localhost:1234/llm"}
2025-06-11 02:55:21,325 - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "ws_url": "ws://localhost:1234/llm"}
2025-06-11 02:55:21,325 - INFO - {"event": "Websocket session established (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-06-11 02:55:21,325 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "listLoaded", "type": "rpcCall"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-11 02:55:21,328 - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": ["..."], "type": "rpcResult"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-11 02:55:21,330 - INFO - {"event": "Websocket handling task started", "ws_url": "ws://localhost:1234/embedding"}
2025-06-11 02:55:21,622 - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-06-11 02:55:21,875 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000019C64DAAD50>
2025-06-11 02:55:21,875 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-11 02:55:21,875 - DEBUG - send_request_headers.complete
2025-06-11 02:55:21,876 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-11 02:55:21,876 - DEBUG - send_request_body.complete
2025-06-11 02:55:21,876 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-11 02:55:21,886 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'T9iK32ZK1wcm+SarE+4rY4f52LQ=')])
2025-06-11 02:55:21,886 - INFO - HTTP Request: GET ws://localhost:1234/embedding "HTTP/1.1 101 Switching Protocols"
2025-06-11 02:55:21,887 - DEBUG - {"event": "Websocket connected", "ws_url": "ws://localhost:1234/embedding"}
2025-06-11 02:55:21,888 - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "ws_url": "ws://localhost:1234/embedding"}
2025-06-11 02:55:21,888 - INFO - {"event": "Websocket session established (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-06-11 02:55:21,888 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "listLoaded", "type": "rpcCall"}, "ws_url": "ws://localhost:1234/embedding"}
2025-06-11 02:55:21,891 - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": ["..."], "type": "rpcResult"}, "ws_url": "ws://localhost:1234/embedding"}
2025-06-11 02:55:21,893 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 1, "creationParameter": {"identifier": "m@q2_k", "loadConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}, "loadTtlMs": 3600000}, "endpoint": "getOrLoad", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-11 02:55:21,897 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\2010-11-21-full-moon-1000.png
2025-06-11 02:55:21,900 - INFO - {"event": "Websocket handling task started", "ws_url": "ws://localhost:1234/files"}
2025-06-11 02:55:22,195 - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-06-11 02:55:22,447 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000019C64DB7050>
2025-06-11 02:55:22,448 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-11 02:55:22,448 - DEBUG - send_request_headers.complete
2025-06-11 02:55:22,448 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-11 02:55:22,448 - DEBUG - send_request_body.complete
2025-06-11 02:55:22,448 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-11 02:55:22,448 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'M3oEvDKTu2Su7Dp6e3lcWS53yoc=')])
2025-06-11 02:55:22,449 - INFO - HTTP Request: GET ws://localhost:1234/files "HTTP/1.1 101 Switching Protocols"
2025-06-11 02:55:22,449 - DEBUG - {"event": "Websocket connected", "ws_url": "ws://localhost:1234/files"}
2025-06-11 02:55:22,450 - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "ws_url": "ws://localhost:1234/files"}
2025-06-11 02:55:22,450 - INFO - {"event": "Websocket session established (ws://localhost:1234/files)", "ws_url": "ws://localhost:1234/files"}
2025-06-11 02:55:22,450 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-11 02:55:22,470 - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-11 02:55:22,471 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749635722459 - 117.png",
  "name": "2010-11-21-full-moon-1000.png",
  "sizeBytes": 303022,
  "type": "file"
})
2025-06-11 02:55:22,471 - DEBUG - Full prompt sent to LLM: You are an expert image organizer with access to vision capabilities. 
 Analyze the following command: ''. 
 Provide instructions on how to organize the image '2010-11-21-full-moon-1000.png' into folders based on its content. 
 The response should be a JSON object with the following format:

{
  "folders": [
    {
      "name": "folder_name",
      "images": ["2010-11-21-full-moon-1000.png"]
    }
  ]
}

Each object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array containing ONLY the filename '2010-11-21-full-moon-1000.png' (including its extension) to be moved to that folder. 
Include only the filename of the image being processed in the 'images' array.
Return ONLY a JSON object.

2025-06-11 02:55:22,474 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 2, "creationParameter": {"history": {"messages": [{"content": [{"text": "You are an expert image organizer with access to vision capabilities. \n Analyze the following command: ''. \n Provide instructions on how to organize the image '2010-11-21-full-moon-1000.png' into folders based on its content. \n The response should be a JSON object with the following format:\n\n{\n  \"folders\": [\n    {\n      \"name\": \"folder_name\",\n      \"images\": [\"2010-11-21-full-moon-1000.png\"]\n    }\n  ]\n}\n\nEach object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array containing ONLY the filename '2010-11-21-full-moon-1000.png' (including its extension) to be moved to that folder. \nInclude only the filename of the image being processed in the 'images' array.\nReturn ONLY a JSON object.\n", "type": "text"}, {"fileType": "image", "identifier": "1749635722459 - 117.png", "name": "2010-11-21-full-moon-1000.png", "sizeBytes": 303022, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@q2_k"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-11 02:55:28,816 - DEBUG - Raw LLM response: {
  "folders": [
    {
      "name": "full-moon",
      "images": ["2010-11-21-full-moon-1000.png"]
    }
  ]
}
2025-06-11 02:55:28,816 - INFO - Attempting to parse JSON from LLM response.
2025-06-11 02:55:28,816 - INFO - LLM JSON parsed successfully: {'folders': [{'name': 'full-moon', 'images': ['2010-11-21-full-moon-1000.png']}]}
2025-06-11 02:55:28,816 - DEBUG - Created folder: C:/Users/dadad/dadadies/development/ddd_image_organize/images\full-moon
2025-06-11 02:55:28,819 - DEBUG - Moved 2010-11-21-full-moon-1000.png to C:/Users/dadad/dadadies/development/ddd_image_organize/images\full-moon
2025-06-11 02:55:28,819 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\21663397742_10c834c71e_c.jpg
2025-06-11 02:55:28,820 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 2, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-11 02:55:28,832 - DEBUG - {"call_id": 2, "event": "Received RPC result", "json": {"callId": 2, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-11 02:55:28,833 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749635728825 - 673.jpg",
  "name": "21663397742_10c834c71e_c.jpg",
  "sizeBytes": 189014,
  "type": "file"
})
2025-06-11 02:55:28,833 - DEBUG - Full prompt sent to LLM: You are an expert image organizer with access to vision capabilities. 
 Analyze the following command: ''. 
 Provide instructions on how to organize the image '21663397742_10c834c71e_c.jpg' into folders based on its content. 
 The response should be a JSON object with the following format:

{
  "folders": [
    {
      "name": "folder_name",
      "images": ["21663397742_10c834c71e_c.jpg"]
    }
  ]
}

Each object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array containing ONLY the filename '21663397742_10c834c71e_c.jpg' (including its extension) to be moved to that folder. 
Include only the filename of the image being processed in the 'images' array.
Return ONLY a JSON object.

2025-06-11 02:55:28,833 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 3, "creationParameter": {"history": {"messages": [{"content": [{"text": "You are an expert image organizer with access to vision capabilities. \n Analyze the following command: ''. \n Provide instructions on how to organize the image '21663397742_10c834c71e_c.jpg' into folders based on its content. \n The response should be a JSON object with the following format:\n\n{\n  \"folders\": [\n    {\n      \"name\": \"folder_name\",\n      \"images\": [\"21663397742_10c834c71e_c.jpg\"]\n    }\n  ]\n}\n\nEach object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array containing ONLY the filename '21663397742_10c834c71e_c.jpg' (including its extension) to be moved to that folder. \nInclude only the filename of the image being processed in the 'images' array.\nReturn ONLY a JSON object.\n", "type": "text"}, {"fileType": "image", "identifier": "1749635728825 - 673.jpg", "name": "21663397742_10c834c71e_c.jpg", "sizeBytes": 189014, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@q2_k"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-11 02:55:34,781 - DEBUG - Raw LLM response: {
  "folders": [
    {
      "name": "Flowers",
      "images": ["21663397742_10c83c71e_c.jpg"]
    }
  ]
}
2025-06-11 02:55:34,782 - INFO - Attempting to parse JSON from LLM response.
2025-06-11 02:55:34,782 - INFO - LLM JSON parsed successfully: {'folders': [{'name': 'Flowers', 'images': ['21663397742_10c83c71e_c.jpg']}]}
2025-06-11 02:55:34,782 - DEBUG - Created folder: C:/Users/dadad/dadadies/development/ddd_image_organize/images\Flowers
2025-06-11 02:55:34,786 - DEBUG - Moved 21663397742_10c83c71e_c.jpg to C:/Users/dadad/dadadies/development/ddd_image_organize/images\Flowers
2025-06-11 02:55:34,786 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\3.jpg
2025-06-11 02:55:34,787 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 3, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-11 02:55:34,792 - DEBUG - {"call_id": 3, "event": "Received RPC result", "json": {"callId": 3, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-11 02:55:34,792 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749635734789 - 665.jpg",
  "name": "3.jpg",
  "sizeBytes": 16659,
  "type": "file"
})
2025-06-11 02:55:34,793 - DEBUG - Full prompt sent to LLM: You are an expert image organizer with access to vision capabilities. 
 Analyze the following command: ''. 
 Provide instructions on how to organize the image '3.jpg' into folders based on its content. 
 The response should be a JSON object with the following format:

{
  "folders": [
    {
      "name": "folder_name",
      "images": ["3.jpg"]
    }
  ]
}

Each object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array containing ONLY the filename '3.jpg' (including its extension) to be moved to that folder. 
Include only the filename of the image being processed in the 'images' array.
Return ONLY a JSON object.

2025-06-11 02:55:34,793 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 4, "creationParameter": {"history": {"messages": [{"content": [{"text": "You are an expert image organizer with access to vision capabilities. \n Analyze the following command: ''. \n Provide instructions on how to organize the image '3.jpg' into folders based on its content. \n The response should be a JSON object with the following format:\n\n{\n  \"folders\": [\n    {\n      \"name\": \"folder_name\",\n      \"images\": [\"3.jpg\"]\n    }\n  ]\n}\n\nEach object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array containing ONLY the filename '3.jpg' (including its extension) to be moved to that folder. \nInclude only the filename of the image being processed in the 'images' array.\nReturn ONLY a JSON object.\n", "type": "text"}, {"fileType": "image", "identifier": "1749635734789 - 665.jpg", "name": "3.jpg", "sizeBytes": 16659, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@q2_k"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-11 02:55:38,057 - DEBUG - Raw LLM response: {
  "folders": [
    {
      "name": "forest_scenery",
      "images": ["3.jpg"]
    }
  ]
}
2025-06-11 02:55:38,057 - INFO - Attempting to parse JSON from LLM response.
2025-06-11 02:55:38,057 - INFO - LLM JSON parsed successfully: {'folders': [{'name': 'forest_scenery', 'images': ['3.jpg']}]}
2025-06-11 02:55:38,057 - DEBUG - Created folder: C:/Users/dadad/dadadies/development/ddd_image_organize/images\forest_scenery
2025-06-11 02:55:38,059 - DEBUG - Moved 3.jpg to C:/Users/dadad/dadadies/development/ddd_image_organize/images\forest_scenery
2025-06-11 02:55:38,059 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\56ba49e41a00002d00ab2507.jpeg
2025-06-11 02:55:38,060 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 4, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-11 02:55:38,066 - DEBUG - {"call_id": 4, "event": "Received RPC result", "json": {"callId": 4, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-11 02:55:38,067 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749635738063 - 326.jpeg",
  "name": "56ba49e41a00002d00ab2507.jpeg",
  "sizeBytes": 42576,
  "type": "file"
})
2025-06-11 02:55:38,067 - DEBUG - Full prompt sent to LLM: You are an expert image organizer with access to vision capabilities. 
 Analyze the following command: ''. 
 Provide instructions on how to organize the image '56ba49e41a00002d00ab2507.jpeg' into folders based on its content. 
 The response should be a JSON object with the following format:

{
  "folders": [
    {
      "name": "folder_name",
      "images": ["56ba49e41a00002d00ab2507.jpeg"]
    }
  ]
}

Each object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array containing ONLY the filename '56ba49e41a00002d00ab2507.jpeg' (including its extension) to be moved to that folder. 
Include only the filename of the image being processed in the 'images' array.
Return ONLY a JSON object.

2025-06-11 02:55:38,067 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 5, "creationParameter": {"history": {"messages": [{"content": [{"text": "You are an expert image organizer with access to vision capabilities. \n Analyze the following command: ''. \n Provide instructions on how to organize the image '56ba49e41a00002d00ab2507.jpeg' into folders based on its content. \n The response should be a JSON object with the following format:\n\n{\n  \"folders\": [\n    {\n      \"name\": \"folder_name\",\n      \"images\": [\"56ba49e41a00002d00ab2507.jpeg\"]\n    }\n  ]\n}\n\nEach object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array containing ONLY the filename '56ba49e41a00002d00ab2507.jpeg' (including its extension) to be moved to that folder. \nInclude only the filename of the image being processed in the 'images' array.\nReturn ONLY a JSON object.\n", "type": "text"}, {"fileType": "image", "identifier": "1749635738063 - 326.jpeg", "name": "56ba49e41a00002d00ab2507.jpeg", "sizeBytes": 42576, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@q2_k"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-11 02:55:48,298 - DEBUG - Raw LLM response: {
  "folders": [
    {
      "name": "sharks",
      "images": ["56ba49e41a00002d00ab2507.jpeg"]
    }
  ]
}
2025-06-11 02:55:48,298 - INFO - Attempting to parse JSON from LLM response.
2025-06-11 02:55:48,298 - INFO - LLM JSON parsed successfully: {'folders': [{'name': 'sharks', 'images': ['56ba49e41a00002d00ab2507.jpeg']}]}
2025-06-11 02:55:48,300 - DEBUG - Created folder: C:/Users/dadad/dadadies/development/ddd_image_organize/images\sharks
2025-06-11 02:55:48,302 - DEBUG - Moved 56ba49e41a00002d00ab2507.jpeg to C:/Users/dadad/dadadies/development/ddd_image_organize/images\sharks
2025-06-11 02:55:48,302 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\9.jpg
2025-06-11 02:55:48,303 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 5, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-11 02:55:48,312 - DEBUG - {"call_id": 5, "event": "Received RPC result", "json": {"callId": 5, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-11 02:55:48,313 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749635748306 - 790.jpg",
  "name": "9.jpg",
  "sizeBytes": 77222,
  "type": "file"
})
2025-06-11 02:55:48,313 - DEBUG - Full prompt sent to LLM: You are an expert image organizer with access to vision capabilities. 
 Analyze the following command: ''. 
 Provide instructions on how to organize the image '9.jpg' into folders based on its content. 
 The response should be a JSON object with the following format:

{
  "folders": [
    {
      "name": "folder_name",
      "images": ["9.jpg"]
    }
  ]
}

Each object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array containing ONLY the filename '9.jpg' (including its extension) to be moved to that folder. 
Include only the filename of the image being processed in the 'images' array.
Return ONLY a JSON object.

2025-06-11 02:55:48,313 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 6, "creationParameter": {"history": {"messages": [{"content": [{"text": "You are an expert image organizer with access to vision capabilities. \n Analyze the following command: ''. \n Provide instructions on how to organize the image '9.jpg' into folders based on its content. \n The response should be a JSON object with the following format:\n\n{\n  \"folders\": [\n    {\n      \"name\": \"folder_name\",\n      \"images\": [\"9.jpg\"]\n    }\n  ]\n}\n\nEach object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array containing ONLY the filename '9.jpg' (including its extension) to be moved to that folder. \nInclude only the filename of the image being processed in the 'images' array.\nReturn ONLY a JSON object.\n", "type": "text"}, {"fileType": "image", "identifier": "1749635748306 - 790.jpg", "name": "9.jpg", "sizeBytes": 77222, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@q2_k"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-11 02:55:53,497 - DEBUG - Raw LLM response: {
  "folders": [
    {
      "name": "underwater_scenic",
      "images": ["9.jpg"]
    }
  ]
}
2025-06-11 02:55:53,497 - INFO - Attempting to parse JSON from LLM response.
2025-06-11 02:55:53,497 - INFO - LLM JSON parsed successfully: {'folders': [{'name': 'underwater_scenic', 'images': ['9.jpg']}]}
2025-06-11 02:55:53,497 - DEBUG - Created folder: C:/Users/dadad/dadadies/development/ddd_image_organize/images\underwater_scenic
2025-06-11 02:55:53,500 - DEBUG - Moved 9.jpg to C:/Users/dadad/dadadies/development/ddd_image_organize/images\underwater_scenic
2025-06-11 02:55:53,500 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\a13052540ed9f27eea7d611e9e33293fea9fb4aa584c029e80036f5f857f03de.webp
2025-06-11 02:55:53,502 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 6, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-11 02:55:53,518 - DEBUG - {"call_id": 6, "event": "Received RPC result", "json": {"callId": 6, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-11 02:55:53,518 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749635753508 - 544.webp",
  "name": "a13052540ed9f27eea7d611e9e33293fea9fb4aa584c029e80036f5f857f03de.webp",
  "sizeBytes": 231480,
  "type": "file"
})
2025-06-11 02:55:53,519 - DEBUG - Full prompt sent to LLM: You are an expert image organizer with access to vision capabilities. 
 Analyze the following command: ''. 
 Provide instructions on how to organize the image 'a13052540ed9f27eea7d611e9e33293fea9fb4aa584c029e80036f5f857f03de.webp' into folders based on its content. 
 The response should be a JSON object with the following format:

{
  "folders": [
    {
      "name": "folder_name",
      "images": ["a13052540ed9f27eea7d611e9e33293fea9fb4aa584c029e80036f5f857f03de.webp"]
    }
  ]
}

Each object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array containing ONLY the filename 'a13052540ed9f27eea7d611e9e33293fea9fb4aa584c029e80036f5f857f03de.webp' (including its extension) to be moved to that folder. 
Include only the filename of the image being processed in the 'images' array.
Return ONLY a JSON object.

2025-06-11 02:55:53,520 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 7, "creationParameter": {"history": {"messages": [{"content": [{"text": "You are an expert image organizer with access to vision capabilities. \n Analyze the following command: ''. \n Provide instructions on how to organize the image 'a13052540ed9f27eea7d611e9e33293fea9fb4aa584c029e80036f5f857f03de.webp' into folders based on its content. \n The response should be a JSON object with the following format:\n\n{\n  \"folders\": [\n    {\n      \"name\": \"folder_name\",\n      \"images\": [\"a13052540ed9f27eea7d611e9e33293fea9fb4aa584c029e80036f5f857f03de.webp\"]\n    }\n  ]\n}\n\nEach object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array containing ONLY the filename 'a13052540ed9f27eea7d611e9e33293fea9fb4aa584c029e80036f5f857f03de.webp' (including its extension) to be moved to that folder. \nInclude only the filename of the image being processed in the 'images' array.\nReturn ONLY a JSON object.\n", "type": "text"}, {"fileType": "image", "identifier": "1749635753508 - 544.webp", "name": "a13052540ed9f27eea7d611e9e33293fea9fb4aa584c029e80036f5f857f03de.webp", "sizeBytes": 231480, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@q2_k"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-11 02:56:03,752 - DEBUG - Raw LLM response: {
  "folders": [
    {
      "name": "castles",
      "images": ["a13052540ed9f27eea7d611e9e33293fea9fb4aa584c029e80036f5f857f03de.webp"]
    }
  ]
}
2025-06-11 02:56:03,753 - INFO - Attempting to parse JSON from LLM response.
2025-06-11 02:56:03,753 - INFO - LLM JSON parsed successfully: {'folders': [{'name': 'castles', 'images': ['a13052540ed9f27eea7d611e9e33293fea9fb4aa584c029e80036f5f857f03de.webp']}]}
2025-06-11 02:56:03,753 - DEBUG - Created folder: C:/Users/dadad/dadadies/development/ddd_image_organize/images\castles
2025-06-11 02:56:03,755 - DEBUG - Moved a13052540ed9f27eea7d611e9e33293fea9fb4aa584c029e80036f5f857f03de.webp to C:/Users/dadad/dadadies/development/ddd_image_organize/images\castles
2025-06-11 02:56:03,755 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\A1897E5E85B488FDE84BB77AE42E97B7778AE8CAC745860766931D266FDE4FE0.jpg
2025-06-11 02:56:03,756 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 7, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-11 02:56:03,764 - DEBUG - {"call_id": 7, "event": "Received RPC result", "json": {"callId": 7, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-11 02:56:03,764 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749635763758 - 613.jpg",
  "name": "A1897E5E85B488FDE84BB77AE42E97B7778AE8CAC745860766931D266FDE4FE0.jpg",
  "sizeBytes": 50344,
  "type": "file"
})
2025-06-11 02:56:03,764 - DEBUG - Full prompt sent to LLM: You are an expert image organizer with access to vision capabilities. 
 Analyze the following command: ''. 
 Provide instructions on how to organize the image 'A1897E5E85B488FDE84BB77AE42E97B7778AE8CAC745860766931D266FDE4FE0.jpg' into folders based on its content. 
 The response should be a JSON object with the following format:

{
  "folders": [
    {
      "name": "folder_name",
      "images": ["A1897E5E85B488FDE84BB77AE42E97B7778AE8CAC745860766931D266FDE4FE0.jpg"]
    }
  ]
}

Each object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array containing ONLY the filename 'A1897E5E85B488FDE84BB77AE42E97B7778AE8CAC745860766931D266FDE4FE0.jpg' (including its extension) to be moved to that folder. 
Include only the filename of the image being processed in the 'images' array.
Return ONLY a JSON object.

2025-06-11 02:56:03,765 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 8, "creationParameter": {"history": {"messages": [{"content": [{"text": "You are an expert image organizer with access to vision capabilities. \n Analyze the following command: ''. \n Provide instructions on how to organize the image 'A1897E5E85B488FDE84BB77AE42E97B7778AE8CAC745860766931D266FDE4FE0.jpg' into folders based on its content. \n The response should be a JSON object with the following format:\n\n{\n  \"folders\": [\n    {\n      \"name\": \"folder_name\",\n      \"images\": [\"A1897E5E85B488FDE84BB77AE42E97B7778AE8CAC745860766931D266FDE4FE0.jpg\"]\n    }\n  ]\n}\n\nEach object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array containing ONLY the filename 'A1897E5E85B488FDE84BB77AE42E97B7778AE8CAC745860766931D266FDE4FE0.jpg' (including its extension) to be moved to that folder. \nInclude only the filename of the image being processed in the 'images' array.\nReturn ONLY a JSON object.\n", "type": "text"}, {"fileType": "image", "identifier": "1749635763758 - 613.jpg", "name": "A1897E5E85B488FDE84BB77AE42E97B7778AE8CAC745860766931D266FDE4FE0.jpg", "sizeBytes": 50344, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@q2_k"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-11 02:56:13,237 - DEBUG - Raw LLM response: {
  "folders": [
    {
      "name": "anime_characters",
      "images": ["A1897E5E85B488FDE84BB77AE42E97B7778AE8CAC745860766931D266FDE4FE0.jpg"]
    }
  ]
}
2025-06-11 02:56:13,237 - INFO - Attempting to parse JSON from LLM response.
2025-06-11 02:56:13,237 - INFO - LLM JSON parsed successfully: {'folders': [{'name': 'anime_characters', 'images': ['A1897E5E85B488FDE84BB77AE42E97B7778AE8CAC745860766931D266FDE4FE0.jpg']}]}
2025-06-11 02:56:13,238 - DEBUG - Created folder: C:/Users/dadad/dadadies/development/ddd_image_organize/images\anime_characters
2025-06-11 02:56:13,240 - DEBUG - Moved A1897E5E85B488FDE84BB77AE42E97B7778AE8CAC745860766931D266FDE4FE0.jpg to C:/Users/dadad/dadadies/development/ddd_image_organize/images\anime_characters
2025-06-11 02:56:13,240 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\Amazing-StonesMinerals6__880.jpg
2025-06-11 02:56:13,241 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 8, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-11 02:56:13,252 - DEBUG - {"call_id": 8, "event": "Received RPC result", "json": {"callId": 8, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-11 02:56:13,252 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749635773245 - 385.jpg",
  "name": "Amazing-StonesMinerals6__880.jpg",
  "sizeBytes": 128783,
  "type": "file"
})
2025-06-11 02:56:13,252 - DEBUG - Full prompt sent to LLM: You are an expert image organizer with access to vision capabilities. 
 Analyze the following command: ''. 
 Provide instructions on how to organize the image 'Amazing-StonesMinerals6__880.jpg' into folders based on its content. 
 The response should be a JSON object with the following format:

{
  "folders": [
    {
      "name": "folder_name",
      "images": ["Amazing-StonesMinerals6__880.jpg"]
    }
  ]
}

Each object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array containing ONLY the filename 'Amazing-StonesMinerals6__880.jpg' (including its extension) to be moved to that folder. 
Include only the filename of the image being processed in the 'images' array.
Return ONLY a JSON object.

2025-06-11 02:56:13,253 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 9, "creationParameter": {"history": {"messages": [{"content": [{"text": "You are an expert image organizer with access to vision capabilities. \n Analyze the following command: ''. \n Provide instructions on how to organize the image 'Amazing-StonesMinerals6__880.jpg' into folders based on its content. \n The response should be a JSON object with the following format:\n\n{\n  \"folders\": [\n    {\n      \"name\": \"folder_name\",\n      \"images\": [\"Amazing-StonesMinerals6__880.jpg\"]\n    }\n  ]\n}\n\nEach object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array containing ONLY the filename 'Amazing-StonesMinerals6__880.jpg' (including its extension) to be moved to that folder. \nInclude only the filename of the image being processed in the 'images' array.\nReturn ONLY a JSON object.\n", "type": "text"}, {"fileType": "image", "identifier": "1749635773245 - 385.jpg", "name": "Amazing-StonesMinerals6__880.jpg", "sizeBytes": 128783, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@q2_k"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-11 02:56:18,747 - DEBUG - Raw LLM response: {
  "folders": [
    {
      "name": "StonesMinerals",
      "images": ["Amazing-StonesMinerals6__880.jpg"]
    }
  ]
}
2025-06-11 02:56:18,747 - INFO - Attempting to parse JSON from LLM response.
2025-06-11 02:56:18,748 - INFO - LLM JSON parsed successfully: {'folders': [{'name': 'StonesMinerals', 'images': ['Amazing-StonesMinerals6__880.jpg']}]}
2025-06-11 02:56:18,748 - DEBUG - Created folder: C:/Users/dadad/dadadies/development/ddd_image_organize/images\StonesMinerals
2025-06-11 02:56:18,751 - DEBUG - Moved Amazing-StonesMinerals6__880.jpg to C:/Users/dadad/dadadies/development/ddd_image_organize/images\StonesMinerals
2025-06-11 02:56:18,751 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\Bing_0056.jpeg
2025-06-11 02:56:18,752 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 9, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-11 02:56:18,763 - DEBUG - {"call_id": 9, "event": "Received RPC result", "json": {"callId": 9, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-11 02:56:18,763 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749635778755 - 257.jpeg",
  "name": "Bing_0056.jpeg",
  "sizeBytes": 88069,
  "type": "file"
})
2025-06-11 02:56:18,764 - DEBUG - Full prompt sent to LLM: You are an expert image organizer with access to vision capabilities. 
 Analyze the following command: ''. 
 Provide instructions on how to organize the image 'Bing_0056.jpeg' into folders based on its content. 
 The response should be a JSON object with the following format:

{
  "folders": [
    {
      "name": "folder_name",
      "images": ["Bing_0056.jpeg"]
    }
  ]
}

Each object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array containing ONLY the filename 'Bing_0056.jpeg' (including its extension) to be moved to that folder. 
Include only the filename of the image being processed in the 'images' array.
Return ONLY a JSON object.

2025-06-11 02:56:18,764 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 10, "creationParameter": {"history": {"messages": [{"content": [{"text": "You are an expert image organizer with access to vision capabilities. \n Analyze the following command: ''. \n Provide instructions on how to organize the image 'Bing_0056.jpeg' into folders based on its content. \n The response should be a JSON object with the following format:\n\n{\n  \"folders\": [\n    {\n      \"name\": \"folder_name\",\n      \"images\": [\"Bing_0056.jpeg\"]\n    }\n  ]\n}\n\nEach object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array containing ONLY the filename 'Bing_0056.jpeg' (including its extension) to be moved to that folder. \nInclude only the filename of the image being processed in the 'images' array.\nReturn ONLY a JSON object.\n", "type": "text"}, {"fileType": "image", "identifier": "1749635778755 - 257.jpeg", "name": "Bing_0056.jpeg", "sizeBytes": 88069, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@q2_k"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-11 02:56:23,909 - DEBUG - Raw LLM response: {
  "folders": [
    {
      "name": "Bing_0056_Portraits",
      "images": ["Bing_0056.jpeg"]
    }
  ]
}
2025-06-11 02:56:23,909 - INFO - Attempting to parse JSON from LLM response.
2025-06-11 02:56:23,909 - INFO - LLM JSON parsed successfully: {'folders': [{'name': 'Bing_0056_Portraits', 'images': ['Bing_0056.jpeg']}]}
2025-06-11 02:56:23,910 - DEBUG - Created folder: C:/Users/dadad/dadadies/development/ddd_image_organize/images\Bing_0056_Portraits
2025-06-11 02:56:23,912 - DEBUG - Moved Bing_0056.jpeg to C:/Users/dadad/dadadies/development/ddd_image_organize/images\Bing_0056_Portraits
2025-06-11 02:56:23,912 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\NavalSquare.jpg
2025-06-11 02:56:23,913 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 10, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-11 02:56:23,919 - DEBUG - {"call_id": 10, "event": "Received RPC result", "json": {"callId": 10, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-11 02:56:23,919 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749635783915 - 172.jpg",
  "name": "NavalSquare.jpg",
  "sizeBytes": 45352,
  "type": "file"
})
2025-06-11 02:56:23,920 - DEBUG - Full prompt sent to LLM: You are an expert image organizer with access to vision capabilities. 
 Analyze the following command: ''. 
 Provide instructions on how to organize the image 'NavalSquare.jpg' into folders based on its content. 
 The response should be a JSON object with the following format:

{
  "folders": [
    {
      "name": "folder_name",
      "images": ["NavalSquare.jpg"]
    }
  ]
}

Each object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array containing ONLY the filename 'NavalSquare.jpg' (including its extension) to be moved to that folder. 
Include only the filename of the image being processed in the 'images' array.
Return ONLY a JSON object.

2025-06-11 02:56:23,920 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 11, "creationParameter": {"history": {"messages": [{"content": [{"text": "You are an expert image organizer with access to vision capabilities. \n Analyze the following command: ''. \n Provide instructions on how to organize the image 'NavalSquare.jpg' into folders based on its content. \n The response should be a JSON object with the following format:\n\n{\n  \"folders\": [\n    {\n      \"name\": \"folder_name\",\n      \"images\": [\"NavalSquare.jpg\"]\n    }\n  ]\n}\n\nEach object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array containing ONLY the filename 'NavalSquare.jpg' (including its extension) to be moved to that folder. \nInclude only the filename of the image being processed in the 'images' array.\nReturn ONLY a JSON object.\n", "type": "text"}, {"fileType": "image", "identifier": "1749635783915 - 172.jpg", "name": "NavalSquare.jpg", "sizeBytes": 45352, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@q2_k"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-11 02:56:28,699 - DEBUG - Raw LLM response: {
  "folders": [
    {
      "name": "NatureScenes",
      "images": ["NavalSquare.jpg"]
    }
  ]
}
2025-06-11 02:56:28,699 - INFO - Attempting to parse JSON from LLM response.
2025-06-11 02:56:28,699 - INFO - LLM JSON parsed successfully: {'folders': [{'name': 'NatureScenes', 'images': ['NavalSquare.jpg']}]}
2025-06-11 02:56:28,700 - DEBUG - Created folder: C:/Users/dadad/dadadies/development/ddd_image_organize/images\NatureScenes
2025-06-11 02:56:28,702 - DEBUG - Moved NavalSquare.jpg to C:/Users/dadad/dadadies/development/ddd_image_organize/images\NatureScenes
2025-06-13 19:08:01,478 - DEBUG - Using proactor: IocpProactor
2025-06-13 19:08:01,486 - INFO - {"client": "<lmstudio.sync_api.Client object at 0x000001F7D1F09990>", "event": "Websocket handling thread started", "thread_id": "Thread-1"}
2025-06-13 19:08:01,487 - INFO - {"event": "Websocket handling task started", "ws_url": "ws://localhost:1234/llm"}
2025-06-13 19:08:01,666 - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-06-13 19:08:01,923 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001F7D631E650>
2025-06-13 19:08:01,923 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-13 19:08:01,924 - DEBUG - send_request_headers.complete
2025-06-13 19:08:01,924 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-13 19:08:01,924 - DEBUG - send_request_body.complete
2025-06-13 19:08:01,924 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-13 19:08:01,930 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'p6piTBy9/Aqk3PjDhU6QQSk4uko=')])
2025-06-13 19:08:01,930 - INFO - HTTP Request: GET ws://localhost:1234/llm "HTTP/1.1 101 Switching Protocols"
2025-06-13 19:08:01,930 - DEBUG - {"event": "Websocket connected", "ws_url": "ws://localhost:1234/llm"}
2025-06-13 19:08:01,933 - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "ws_url": "ws://localhost:1234/llm"}
2025-06-13 19:08:01,933 - INFO - {"event": "Websocket session established (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-06-13 19:08:01,934 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "listLoaded", "type": "rpcCall"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-13 19:08:01,936 - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": ["..."], "type": "rpcResult"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-13 19:08:01,936 - INFO - {"event": "Websocket handling task started", "ws_url": "ws://localhost:1234/embedding"}
2025-06-13 19:08:02,105 - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-06-13 19:08:02,356 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001F7D632E610>
2025-06-13 19:08:02,357 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-13 19:08:02,357 - DEBUG - send_request_headers.complete
2025-06-13 19:08:02,357 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-13 19:08:02,357 - DEBUG - send_request_body.complete
2025-06-13 19:08:02,357 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-13 19:08:02,357 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'HiIAQPI9t3JwnDG+9fV0Pni1tqo=')])
2025-06-13 19:08:02,357 - INFO - HTTP Request: GET ws://localhost:1234/embedding "HTTP/1.1 101 Switching Protocols"
2025-06-13 19:08:02,358 - DEBUG - {"event": "Websocket connected", "ws_url": "ws://localhost:1234/embedding"}
2025-06-13 19:08:02,358 - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "ws_url": "ws://localhost:1234/embedding"}
2025-06-13 19:08:02,358 - INFO - {"event": "Websocket session established (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-06-13 19:08:02,358 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "listLoaded", "type": "rpcCall"}, "ws_url": "ws://localhost:1234/embedding"}
2025-06-13 19:08:02,360 - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": ["..."], "type": "rpcResult"}, "ws_url": "ws://localhost:1234/embedding"}
2025-06-13 19:08:02,362 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 1, "creationParameter": {"identifier": "r/m/qwen3-1.7b-q6_k.gguf", "loadConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}, "loadTtlMs": 3600000}, "endpoint": "getOrLoad", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-13 19:08:02,364 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\2010-11-21-full-moon-1000.png
2025-06-13 19:08:02,365 - INFO - {"event": "Websocket handling task started", "ws_url": "ws://localhost:1234/files"}
2025-06-13 19:08:02,545 - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-06-13 19:08:02,798 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001F7D633E850>
2025-06-13 19:08:02,798 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-13 19:08:02,798 - DEBUG - send_request_headers.complete
2025-06-13 19:08:02,798 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-13 19:08:02,798 - DEBUG - send_request_body.complete
2025-06-13 19:08:02,798 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-13 19:08:02,799 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'2PgWCPeVMUHA2+6ZB08Rg/YL8Pk=')])
2025-06-13 19:08:02,799 - INFO - HTTP Request: GET ws://localhost:1234/files "HTTP/1.1 101 Switching Protocols"
2025-06-13 19:08:02,799 - DEBUG - {"event": "Websocket connected", "ws_url": "ws://localhost:1234/files"}
2025-06-13 19:08:02,800 - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "ws_url": "ws://localhost:1234/files"}
2025-06-13 19:08:02,800 - INFO - {"event": "Websocket session established (ws://localhost:1234/files)", "ws_url": "ws://localhost:1234/files"}
2025-06-13 19:08:02,800 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-13 19:08:02,815 - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-13 19:08:02,816 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749866882808 - 789.png",
  "name": "2010-11-21-full-moon-1000.png",
  "sizeBytes": 303022,
  "type": "file"
})
2025-06-13 19:08:02,816 - DEBUG - Full prompt sent to LLM: You are an expert image organizer with access to vision capabilities. 
 Analyze the following command: ''. 
 Provide instructions on how to organize the image '2010-11-21-full-moon-1000.png' into folders based on its content. 
 The response should be a JSON object with the following format:

{
  "folders": [
    {
      "name": "folder_name",
      "images": ["2010-11-21-full-moon-1000.png"]
    }
  ]
}

Each object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array containing ONLY the filename '2010-11-21-full-moon-1000.png' (including its extension) to be moved to that folder. 
Include only the filename of the image being processed in the 'images' array.
Return ONLY a JSON object.

2025-06-13 19:08:02,817 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 2, "creationParameter": {"history": {"messages": [{"content": [{"text": "You are an expert image organizer with access to vision capabilities. \n Analyze the following command: ''. \n Provide instructions on how to organize the image '2010-11-21-full-moon-1000.png' into folders based on its content. \n The response should be a JSON object with the following format:\n\n{\n  \"folders\": [\n    {\n      \"name\": \"folder_name\",\n      \"images\": [\"2010-11-21-full-moon-1000.png\"]\n    }\n  ]\n}\n\nEach object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array containing ONLY the filename '2010-11-21-full-moon-1000.png' (including its extension) to be moved to that folder. \nInclude only the filename of the image being processed in the 'images' array.\nReturn ONLY a JSON object.\n", "type": "text"}, {"fileType": "image", "identifier": "1749866882808 - 789.png", "name": "2010-11-21-full-moon-1000.png", "sizeBytes": 303022, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "r/m/qwen3-1.7b-q6_k.gguf"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-13 19:08:09,312 - DEBUG - Raw LLM response: I'm 2024\u5e7416\u65e5, 2023-08-17 15:59:51
</think>

It is possible that I have to admit that this is the best way to use the image. It's a good idea to learn from it. The user is asking for a JSON object with the following structure, but there is no content in the response. Please fix the error and make sure to keep the original meaning of the text. 2019-08-17 15:59:51
</think>

The provided text seems to be a mix of Chinese and English sentences, which is not properly formatted or structured. I will correct it and provide the proper response in the requested format.

I need to fix the error in the given text and ensure that the response is in the correct format. The original text appears to be a random string with some errors, possibly containing Chinese characters that are not properly encoded or formatted. I will correct this and provide the JSON object as specified.
</think>

{"error": "The input text contains invalid characters and cannot be processed."}
2025-06-13 19:08:09,312 - INFO - Attempting to parse JSON from LLM response.
2025-06-13 19:08:09,312 - INFO - LLM JSON parsed successfully: {'error': 'The input text contains invalid characters and cannot be processed.'}
2025-06-13 19:08:09,314 - WARNING - LLM response for 2010-11-21-full-moon-1000.png did not contain 'folders' key. Raw response: I'm 2024\u5e7416\u65e5, 2023-08-17 15:59:51
</think>

It is possible that I have to admit that this is the best way to use the image. It's a good idea to learn from it. The user is asking for a JSON object with the following structure, but there is no content in the response. Please fix the error and make sure to keep the original meaning of the text. 2019-08-17 15:59:51
</think>

The provided text seems to be a mix of Chinese and English sentences, which is not properly formatted or structured. I will correct it and provide the proper response in the requested format.

I need to fix the error in the given text and ensure that the response is in the correct format. The original text appears to be a random string with some errors, possibly containing Chinese characters that are not properly encoded or formatted. I will correct this and provide the JSON object as specified.
</think>

{"error": "The input text contains invalid characters and cannot be processed."}
2025-06-13 19:08:09,314 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\3.jpg
2025-06-13 19:08:09,315 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 2, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-13 19:08:09,321 - DEBUG - {"call_id": 2, "event": "Received RPC result", "json": {"callId": 2, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-13 19:08:09,321 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749866889317 - 45.jpg",
  "name": "3.jpg",
  "sizeBytes": 16659,
  "type": "file"
})
2025-06-13 19:08:09,322 - DEBUG - Full prompt sent to LLM: You are an expert image organizer with access to vision capabilities. 
 Analyze the following command: ''. 
 Provide instructions on how to organize the image '3.jpg' into folders based on its content. 
 The response should be a JSON object with the following format:

{
  "folders": [
    {
      "name": "folder_name",
      "images": ["3.jpg"]
    }
  ]
}

Each object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array containing ONLY the filename '3.jpg' (including its extension) to be moved to that folder. 
Include only the filename of the image being processed in the 'images' array.
Return ONLY a JSON object.

2025-06-13 19:08:09,322 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 3, "creationParameter": {"history": {"messages": [{"content": [{"text": "You are an expert image organizer with access to vision capabilities. \n Analyze the following command: ''. \n Provide instructions on how to organize the image '3.jpg' into folders based on its content. \n The response should be a JSON object with the following format:\n\n{\n  \"folders\": [\n    {\n      \"name\": \"folder_name\",\n      \"images\": [\"3.jpg\"]\n    }\n  ]\n}\n\nEach object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array containing ONLY the filename '3.jpg' (including its extension) to be moved to that folder. \nInclude only the filename of the image being processed in the 'images' array.\nReturn ONLY a JSON object.\n", "type": "text"}, {"fileType": "image", "identifier": "1749866889317 - 45.jpg", "name": "3.jpg", "sizeBytes": 16659, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "r/m/qwen3-1.7b-q6_k.gguf"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-13 19:08:09,927 - DEBUG - Raw LLM response: </think>

</think>

{"folders": ["3.jpg"]}
2025-06-13 19:08:09,927 - INFO - Attempting to parse JSON from LLM response.
2025-06-13 19:08:09,927 - INFO - LLM JSON parsed successfully: {'folders': ['3.jpg']}
2025-06-13 19:08:09,928 - ERROR - Error processing folders for 3.jpg: string indices must be integers, not 'str'
Traceback (most recent call last):
  File "C:\Users\dadad\dadadies\development\ddd_image_organize\lmstudio_organizer.py", line 139, in organize_images_lmstudio
    folder_name = folder_info['name']
                  ~~~~~~~~~~~^^^^^^^^
TypeError: string indices must be integers, not 'str'
2025-06-13 19:08:09,929 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\56ba49e41a00002d00ab2507.jpeg
2025-06-13 19:08:09,930 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 3, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-13 19:08:09,937 - DEBUG - {"call_id": 3, "event": "Received RPC result", "json": {"callId": 3, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-13 19:08:09,937 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749866889933 - 696.jpeg",
  "name": "56ba49e41a00002d00ab2507.jpeg",
  "sizeBytes": 42576,
  "type": "file"
})
2025-06-13 19:08:09,937 - DEBUG - Full prompt sent to LLM: You are an expert image organizer with access to vision capabilities. 
 Analyze the following command: ''. 
 Provide instructions on how to organize the image '56ba49e41a00002d00ab2507.jpeg' into folders based on its content. 
 The response should be a JSON object with the following format:

{
  "folders": [
    {
      "name": "folder_name",
      "images": ["56ba49e41a00002d00ab2507.jpeg"]
    }
  ]
}

Each object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array containing ONLY the filename '56ba49e41a00002d00ab2507.jpeg' (including its extension) to be moved to that folder. 
Include only the filename of the image being processed in the 'images' array.
Return ONLY a JSON object.

2025-06-13 19:08:09,938 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 4, "creationParameter": {"history": {"messages": [{"content": [{"text": "You are an expert image organizer with access to vision capabilities. \n Analyze the following command: ''. \n Provide instructions on how to organize the image '56ba49e41a00002d00ab2507.jpeg' into folders based on its content. \n The response should be a JSON object with the following format:\n\n{\n  \"folders\": [\n    {\n      \"name\": \"folder_name\",\n      \"images\": [\"56ba49e41a00002d00ab2507.jpeg\"]\n    }\n  ]\n}\n\nEach object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array containing ONLY the filename '56ba49e41a00002d00ab2507.jpeg' (including its extension) to be moved to that folder. \nInclude only the filename of the image being processed in the 'images' array.\nReturn ONLY a JSON object.\n", "type": "text"}, {"fileType": "image", "identifier": "1749866889933 - 696.jpeg", "name": "56ba49e41a00002d00ab2507.jpeg", "sizeBytes": 42576, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "r/m/qwen3-1.7b-q6_k.gguf"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-13 19:08:17,428 - DEBUG - Raw LLM response: </think>

</think>

</think>

</think>

Certainly! Here's a detailed explanation of how to organize the image "56ba49e41a00002d00ab2507.jpeg" into folders based on its content:

**Step 1: Identify the Image Content**
- First, analyze the image content. The filename is "56ba49e41a00002d00ab2507.jpeg", which suggests it's a JPEG file. Without seeing the actual image, I can't determine its content.

**Step 2: Determine Folder Categories**
- Based on common image types and typical use cases, here are some possible folder categories:
  - **General Images**: For standard images that don't have specific content.
  - **Portrait Photos**: If it's a person's portrait.
  - **Product Images**: If it's an product or item image.
  - **Document Images**: If it's a document or scanned document.

**Step 3: Organize the Image**
- Move the image to the appropriate folder based on its content. For example, if it's a portrait, place it in "Portrait Photos"; if it's a product image, place it in "Product Images".

**Final Answer:**  
{
  "folders": [
    {
      "name": "General Images",
      "images": ["56ba49e41a00002d00ab2507.jpeg"]
    }
  ]
}
2025-06-13 19:08:17,428 - INFO - Attempting to parse JSON from LLM response.
2025-06-13 19:08:17,428 - INFO - LLM JSON parsed successfully: {'folders': [{'name': 'General Images', 'images': ['56ba49e41a00002d00ab2507.jpeg']}]}
2025-06-13 19:08:17,428 - DEBUG - Created folder: C:/Users/dadad/dadadies/development/ddd_image_organize/images\General Images
2025-06-13 19:08:17,431 - DEBUG - Moved 56ba49e41a00002d00ab2507.jpeg to C:/Users/dadad/dadadies/development/ddd_image_organize/images\General Images
2025-06-13 19:08:17,431 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\a13052540ed9f27eea7d611e9e33293fea9fb4aa584c029e80036f5f857f03de.webp
2025-06-13 19:08:17,432 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 4, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-13 19:08:17,445 - DEBUG - {"call_id": 4, "event": "Received RPC result", "json": {"callId": 4, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-13 19:08:17,446 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749866897437 - 381.webp",
  "name": "a13052540ed9f27eea7d611e9e33293fea9fb4aa584c029e80036f5f857f03de.webp",
  "sizeBytes": 231480,
  "type": "file"
})
2025-06-13 19:08:17,446 - DEBUG - Full prompt sent to LLM: You are an expert image organizer with access to vision capabilities. 
 Analyze the following command: ''. 
 Provide instructions on how to organize the image 'a13052540ed9f27eea7d611e9e33293fea9fb4aa584c029e80036f5f857f03de.webp' into folders based on its content. 
 The response should be a JSON object with the following format:

{
  "folders": [
    {
      "name": "folder_name",
      "images": ["a13052540ed9f27eea7d611e9e33293fea9fb4aa584c029e80036f5f857f03de.webp"]
    }
  ]
}

Each object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array containing ONLY the filename 'a13052540ed9f27eea7d611e9e33293fea9fb4aa584c029e80036f5f857f03de.webp' (including its extension) to be moved to that folder. 
Include only the filename of the image being processed in the 'images' array.
Return ONLY a JSON object.

2025-06-13 19:08:17,447 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 5, "creationParameter": {"history": {"messages": [{"content": [{"text": "You are an expert image organizer with access to vision capabilities. \n Analyze the following command: ''. \n Provide instructions on how to organize the image 'a13052540ed9f27eea7d611e9e33293fea9fb4aa584c029e80036f5f857f03de.webp' into folders based on its content. \n The response should be a JSON object with the following format:\n\n{\n  \"folders\": [\n    {\n      \"name\": \"folder_name\",\n      \"images\": [\"a13052540ed9f27eea7d611e9e33293fea9fb4aa584c029e80036f5f857f03de.webp\"]\n    }\n  ]\n}\n\nEach object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array containing ONLY the filename 'a13052540ed9f27eea7d611e9e33293fea9fb4aa584c029e80036f5f857f03de.webp' (including its extension) to be moved to that folder. \nInclude only the filename of the image being processed in the 'images' array.\nReturn ONLY a JSON object.\n", "type": "text"}, {"fileType": "image", "identifier": "1749866897437 - 381.webp", "name": "a13052540ed9f27eea7d611e9e33293fea9fb4aa584c029e80036f5f857f03de.webp", "sizeBytes": 231480, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "r/m/qwen3-1.7b-q6_k.gguf"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-13 19:08:19,077 - DEBUG - Raw LLM response: </think>

</think>

</think>

</think>

</think>

Certainly, I'm unable to provide a translation of the given text. Please provide the text you want me to translate.
2025-06-13 19:08:19,077 - INFO - Attempting to parse JSON from LLM response.
2025-06-13 19:08:19,080 - ERROR - Error parsing LLM response: No JSON object found in LLM response
Traceback (most recent call last):
  File "C:\Users\dadad\dadadies\development\ddd_image_organize\lmstudio_organizer.py", line 119, in organize_images_lmstudio
    instructions = parse_json_response(analysis.content)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dadad\dadadies\development\ddd_image_organize\lmstudio_organizer.py", line 58, in parse_json_response
    raise ValueError("No JSON object found in LLM response")
ValueError: No JSON object found in LLM response
2025-06-13 19:08:19,080 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\A1897E5E85B488FDE84BB77AE42E97B7778AE8CAC745860766931D266FDE4FE0.jpg
2025-06-13 19:08:19,081 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 5, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-13 19:08:19,087 - DEBUG - {"call_id": 5, "event": "Received RPC result", "json": {"callId": 5, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-13 19:08:19,087 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749866899082 - 4.jpg",
  "name": "A1897E5E85B488FDE84BB77AE42E97B7778AE8CAC745860766931D266FDE4FE0.jpg",
  "sizeBytes": 50344,
  "type": "file"
})
2025-06-13 19:08:19,087 - DEBUG - Full prompt sent to LLM: You are an expert image organizer with access to vision capabilities. 
 Analyze the following command: ''. 
 Provide instructions on how to organize the image 'A1897E5E85B488FDE84BB77AE42E97B7778AE8CAC745860766931D266FDE4FE0.jpg' into folders based on its content. 
 The response should be a JSON object with the following format:

{
  "folders": [
    {
      "name": "folder_name",
      "images": ["A1897E5E85B488FDE84BB77AE42E97B7778AE8CAC745860766931D266FDE4FE0.jpg"]
    }
  ]
}

Each object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array containing ONLY the filename 'A1897E5E85B488FDE84BB77AE42E97B7778AE8CAC745860766931D266FDE4FE0.jpg' (including its extension) to be moved to that folder. 
Include only the filename of the image being processed in the 'images' array.
Return ONLY a JSON object.

2025-06-13 19:08:19,087 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 6, "creationParameter": {"history": {"messages": [{"content": [{"text": "You are an expert image organizer with access to vision capabilities. \n Analyze the following command: ''. \n Provide instructions on how to organize the image 'A1897E5E85B488FDE84BB77AE42E97B7778AE8CAC745860766931D266FDE4FE0.jpg' into folders based on its content. \n The response should be a JSON object with the following format:\n\n{\n  \"folders\": [\n    {\n      \"name\": \"folder_name\",\n      \"images\": [\"A1897E5E85B488FDE84BB77AE42E97B7778AE8CAC745860766931D266FDE4FE0.jpg\"]\n    }\n  ]\n}\n\nEach object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array containing ONLY the filename 'A1897E5E85B488FDE84BB77AE42E97B7778AE8CAC745860766931D266FDE4FE0.jpg' (including its extension) to be moved to that folder. \nInclude only the filename of the image being processed in the 'images' array.\nReturn ONLY a JSON object.\n", "type": "text"}, {"fileType": "image", "identifier": "1749866899082 - 4.jpg", "name": "A1897E5E85B488FDE84BB77AE42E97B7778AE8CAC745860766931D266FDE4FE0.jpg", "sizeBytes": 50344, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "r/m/qwen3-1.7b-q6_k.gguf"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-13 19:08:21,772 - DEBUG - Raw LLM response: </think>

</think>

</think>

```json
{
  "folders": [
    {
      "name": "folder_name",
      "images": ["A1897E5E85B488FDE84BB77AE42E97B7778AE8CAC745860766931D266FDE4FE0.jpg"]
    }
  ]
}
```
2025-06-13 19:08:21,773 - INFO - Attempting to parse JSON from LLM response.
2025-06-13 19:08:21,773 - INFO - LLM JSON parsed successfully: {'folders': [{'name': 'folder_name', 'images': ['A1897E5E85B488FDE84BB77AE42E97B7778AE8CAC745860766931D266FDE4FE0.jpg']}]}
2025-06-13 19:08:21,773 - DEBUG - Created folder: C:/Users/dadad/dadadies/development/ddd_image_organize/images\folder_name
2025-06-13 19:08:21,776 - DEBUG - Moved A1897E5E85B488FDE84BB77AE42E97B7778AE8CAC745860766931D266FDE4FE0.jpg to C:/Users/dadad/dadadies/development/ddd_image_organize/images\folder_name
2025-06-13 19:08:21,776 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\Bing_0056.jpeg
2025-06-13 19:08:21,776 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 6, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-13 19:08:21,783 - DEBUG - {"call_id": 6, "event": "Received RPC result", "json": {"callId": 6, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-13 19:08:21,784 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749866901779 - 149.jpeg",
  "name": "Bing_0056.jpeg",
  "sizeBytes": 88069,
  "type": "file"
})
2025-06-13 19:08:21,784 - DEBUG - Full prompt sent to LLM: You are an expert image organizer with access to vision capabilities. 
 Analyze the following command: ''. 
 Provide instructions on how to organize the image 'Bing_0056.jpeg' into folders based on its content. 
 The response should be a JSON object with the following format:

{
  "folders": [
    {
      "name": "folder_name",
      "images": ["Bing_0056.jpeg"]
    }
  ]
}

Each object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array containing ONLY the filename 'Bing_0056.jpeg' (including its extension) to be moved to that folder. 
Include only the filename of the image being processed in the 'images' array.
Return ONLY a JSON object.

2025-06-13 19:08:21,784 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 7, "creationParameter": {"history": {"messages": [{"content": [{"text": "You are an expert image organizer with access to vision capabilities. \n Analyze the following command: ''. \n Provide instructions on how to organize the image 'Bing_0056.jpeg' into folders based on its content. \n The response should be a JSON object with the following format:\n\n{\n  \"folders\": [\n    {\n      \"name\": \"folder_name\",\n      \"images\": [\"Bing_0056.jpeg\"]\n    }\n  ]\n}\n\nEach object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array containing ONLY the filename 'Bing_0056.jpeg' (including its extension) to be moved to that folder. \nInclude only the filename of the image being processed in the 'images' array.\nReturn ONLY a JSON object.\n", "type": "text"}, {"fileType": "image", "identifier": "1749866901779 - 149.jpeg", "name": "Bing_0056.jpeg", "sizeBytes": 88069, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "r/m/qwen3-1.7b-q6_k.gguf"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-13 19:08:24,177 - DEBUG - Raw LLM response: </think>

It seems like there is a mistake in the query. Please provide a more specific request. The user has provided a query that contains an error, and I need to fix it. Please provide a more specific request.

The user has requested to translate this text into English. Please provide a more specific request.
</think>

Sure! I'll help you with that. Let me know what you want to translate.
2025-06-13 19:08:24,177 - INFO - Attempting to parse JSON from LLM response.
2025-06-13 19:08:24,179 - ERROR - Error parsing LLM response: No JSON object found in LLM response
Traceback (most recent call last):
  File "C:\Users\dadad\dadadies\development\ddd_image_organize\lmstudio_organizer.py", line 119, in organize_images_lmstudio
    instructions = parse_json_response(analysis.content)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dadad\dadadies\development\ddd_image_organize\lmstudio_organizer.py", line 58, in parse_json_response
    raise ValueError("No JSON object found in LLM response")
ValueError: No JSON object found in LLM response
2025-06-13 19:09:11,618 - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/files)", "ws_url": "ws://localhost:1234/files"}
2025-06-13 19:09:11,619 - INFO - {"event": "Websocket demultiplexing task terminated.", "ws_url": "ws://localhost:1234/files"}
2025-06-13 19:09:11,619 - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/files)", "ws_url": "ws://localhost:1234/files"}
2025-06-13 19:09:11,619 - INFO - {"event": "Websocket closed.", "ws_url": "ws://localhost:1234/files"}
2025-06-13 19:09:11,619 - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-06-13 19:09:11,619 - DEBUG - response_closed.started
2025-06-13 19:09:11,621 - DEBUG - response_closed.complete
2025-06-13 19:09:11,621 - INFO - {"event": "Websocket task terminated", "ws_url": "ws://localhost:1234/files"}
2025-06-13 19:09:11,621 - INFO - {"event": "Websocket demultiplexing task terminated.", "ws_url": "ws://localhost:1234/embedding"}
2025-06-13 19:09:11,621 - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-06-13 19:09:11,621 - INFO - {"event": "Websocket closed.", "ws_url": "ws://localhost:1234/embedding"}
2025-06-13 19:09:11,622 - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-06-13 19:09:11,622 - DEBUG - response_closed.started
2025-06-13 19:09:11,622 - DEBUG - response_closed.complete
2025-06-13 19:09:11,622 - INFO - {"event": "Websocket task terminated", "ws_url": "ws://localhost:1234/embedding"}
2025-06-13 19:09:11,623 - INFO - {"event": "Websocket demultiplexing task terminated.", "ws_url": "ws://localhost:1234/llm"}
2025-06-13 19:09:11,623 - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-06-13 19:09:11,623 - INFO - {"event": "Websocket closed.", "ws_url": "ws://localhost:1234/llm"}
2025-06-13 19:09:11,623 - DEBUG - response_closed.started
2025-06-13 19:09:11,623 - DEBUG - response_closed.complete
2025-06-13 19:09:11,624 - INFO - {"event": "Websocket task terminated", "ws_url": "ws://localhost:1234/llm"}
2025-06-13 19:09:11,624 - DEBUG - {"client": "<lmstudio.sync_api.Client object at 0x000001F7D1F09990>", "event": "Terminating websocket thread due to exception", "thread_id": "Thread-1"}
Traceback (most recent call last):
  File "C:\Users\dadad\AppData\Local\Programs\Python\Python311\Lib\site-packages\lmstudio\_ws_impl.py", line 292, in _log_thread_execution
    await never_set.wait()
  File "C:\Users\dadad\AppData\Local\Programs\Python\Python311\Lib\asyncio\locks.py", line 213, in wait
    await fut
asyncio.exceptions.CancelledError: Cancelled by cancel scope 1f7d1f0b090
2025-06-13 19:09:11,635 - INFO - {"client": "<lmstudio.sync_api.Client object at 0x000001F7D1F09990>", "event": "Websocket thread terminated", "thread_id": "Thread-1"}
2025-06-13 19:09:50,199 - DEBUG - Using proactor: IocpProactor
2025-06-13 19:09:50,205 - INFO - {"client": "<lmstudio.sync_api.Client object at 0x00000270F91F9D90>", "event": "Websocket handling thread started", "thread_id": "Thread-1"}
2025-06-13 19:09:50,205 - INFO - {"event": "Websocket handling task started", "ws_url": "ws://localhost:1234/llm"}
2025-06-13 19:09:50,377 - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-06-13 19:09:50,632 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002708135EB50>
2025-06-13 19:09:50,632 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-13 19:09:50,632 - DEBUG - send_request_headers.complete
2025-06-13 19:09:50,632 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-13 19:09:50,632 - DEBUG - send_request_body.complete
2025-06-13 19:09:50,633 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-13 19:09:50,633 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'g1TDh1g+F2v8qJVVj06VUoyu+qI=')])
2025-06-13 19:09:50,633 - INFO - HTTP Request: GET ws://localhost:1234/llm "HTTP/1.1 101 Switching Protocols"
2025-06-13 19:09:50,634 - DEBUG - {"event": "Websocket connected", "ws_url": "ws://localhost:1234/llm"}
2025-06-13 19:09:50,635 - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "ws_url": "ws://localhost:1234/llm"}
2025-06-13 19:09:50,635 - INFO - {"event": "Websocket session established (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-06-13 19:09:50,635 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "listLoaded", "type": "rpcCall"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-13 19:09:50,637 - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": ["..."], "type": "rpcResult"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-13 19:09:50,637 - INFO - {"event": "Websocket handling task started", "ws_url": "ws://localhost:1234/embedding"}
2025-06-13 19:09:50,817 - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-06-13 19:09:51,070 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002708136AB50>
2025-06-13 19:09:51,071 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-13 19:09:51,072 - DEBUG - send_request_headers.complete
2025-06-13 19:09:51,072 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-13 19:09:51,072 - DEBUG - send_request_body.complete
2025-06-13 19:09:51,072 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-13 19:09:51,072 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'55JAAXUbcL2ypBvdgusptbxaJzA=')])
2025-06-13 19:09:51,073 - INFO - HTTP Request: GET ws://localhost:1234/embedding "HTTP/1.1 101 Switching Protocols"
2025-06-13 19:09:51,073 - DEBUG - {"event": "Websocket connected", "ws_url": "ws://localhost:1234/embedding"}
2025-06-13 19:09:51,074 - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "ws_url": "ws://localhost:1234/embedding"}
2025-06-13 19:09:51,074 - INFO - {"event": "Websocket session established (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-06-13 19:09:51,075 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "listLoaded", "type": "rpcCall"}, "ws_url": "ws://localhost:1234/embedding"}
2025-06-13 19:09:51,077 - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": ["..."], "type": "rpcResult"}, "ws_url": "ws://localhost:1234/embedding"}
2025-06-13 19:09:51,077 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 1, "creationParameter": {"identifier": "r/m/qwen3-1.7b-q6_k.gguf", "loadConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}, "loadTtlMs": 3600000}, "endpoint": "getOrLoad", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-13 19:09:51,079 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\2010-11-21-full-moon-1000.png
2025-06-13 19:09:51,081 - INFO - {"event": "Websocket handling task started", "ws_url": "ws://localhost:1234/files"}
2025-06-13 19:09:51,252 - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-06-13 19:09:51,504 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000027081376C10>
2025-06-13 19:09:51,505 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-13 19:09:51,505 - DEBUG - send_request_headers.complete
2025-06-13 19:09:51,505 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-13 19:09:51,505 - DEBUG - send_request_body.complete
2025-06-13 19:09:51,505 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-13 19:09:51,506 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'r/bcfDYu+Zx2RGIMnVaPL9/tx0A=')])
2025-06-13 19:09:51,506 - INFO - HTTP Request: GET ws://localhost:1234/files "HTTP/1.1 101 Switching Protocols"
2025-06-13 19:09:51,507 - DEBUG - {"event": "Websocket connected", "ws_url": "ws://localhost:1234/files"}
2025-06-13 19:09:51,508 - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "ws_url": "ws://localhost:1234/files"}
2025-06-13 19:09:51,508 - INFO - {"event": "Websocket session established (ws://localhost:1234/files)", "ws_url": "ws://localhost:1234/files"}
2025-06-13 19:09:51,508 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-13 19:09:51,524 - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-13 19:09:51,524 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749866991517 - 121.png",
  "name": "2010-11-21-full-moon-1000.png",
  "sizeBytes": 303022,
  "type": "file"
})
2025-06-13 19:09:51,525 - DEBUG - Full prompt sent to LLM: You are an expert image organizer with access to vision capabilities. 
 Analyze the following command: ''. 
 Provide instructions on how to organize the image '2010-11-21-full-moon-1000.png' into folders based on its content. 
 The response should be a JSON object with the following format:

{
  "folders": [
    {
      "name": "folder_name",
      "images": ["2010-11-21-full-moon-1000.png"]
    }
  ]
}

Each object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array containing ONLY the filename '2010-11-21-full-moon-1000.png' (including its extension) to be moved to that folder. 
Include only the filename of the image being processed in the 'images' array.
Return ONLY a JSON object.

2025-06-13 19:09:51,526 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 2, "creationParameter": {"history": {"messages": [{"content": [{"text": "You are an expert image organizer with access to vision capabilities. \n Analyze the following command: ''. \n Provide instructions on how to organize the image '2010-11-21-full-moon-1000.png' into folders based on its content. \n The response should be a JSON object with the following format:\n\n{\n  \"folders\": [\n    {\n      \"name\": \"folder_name\",\n      \"images\": [\"2010-11-21-full-moon-1000.png\"]\n    }\n  ]\n}\n\nEach object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array containing ONLY the filename '2010-11-21-full-moon-1000.png' (including its extension) to be moved to that folder. \nInclude only the filename of the image being processed in the 'images' array.\nReturn ONLY a JSON object.\n", "type": "text"}, {"fileType": "image", "identifier": "1749866991517 - 121.png", "name": "2010-11-21-full-moon-1000.png", "sizeBytes": 303022, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "r/m/qwen3-1.7b-q6_k.gguf"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-13 19:11:16,421 - ERROR - Error generating response for 2010-11-21-full-moon-1000.png: Chat response error: Context shifting is not yet supported when images are in the chat. Current number of prompt+generated tokens with all images expanded: 4097. Loaded context length: 4096. Try reloading with a larger context length or using a shorter prompt.
Traceback (most recent call last):
  File "C:\Users\dadad\dadadies\development\ddd_image_organize\lmstudio_organizer.py", line 107, in organize_images_lmstudio
    analysis = model.respond(chat)
               ^^^^^^^^^^^^^^^^^^^
lmstudio.LMStudioServerError: Chat response error: Context shifting is not yet supported when images are in the chat. Current number of prompt+generated tokens with all images expanded: 4097. Loaded context length: 4096. Try reloading with a larger context length or using a shorter prompt.
2025-06-13 19:11:16,422 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\3.jpg
2025-06-13 19:11:16,423 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 2, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-13 19:11:16,445 - DEBUG - {"call_id": 2, "event": "Received RPC result", "json": {"callId": 2, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-13 19:11:16,446 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749867076432 - 795.jpg",
  "name": "3.jpg",
  "sizeBytes": 16659,
  "type": "file"
})
2025-06-13 19:11:16,446 - DEBUG - Full prompt sent to LLM: You are an expert image organizer with access to vision capabilities. 
 Analyze the following command: ''. 
 Provide instructions on how to organize the image '3.jpg' into folders based on its content. 
 The response should be a JSON object with the following format:

{
  "folders": [
    {
      "name": "folder_name",
      "images": ["3.jpg"]
    }
  ]
}

Each object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array containing ONLY the filename '3.jpg' (including its extension) to be moved to that folder. 
Include only the filename of the image being processed in the 'images' array.
Return ONLY a JSON object.

2025-06-13 19:11:16,446 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 3, "creationParameter": {"history": {"messages": [{"content": [{"text": "You are an expert image organizer with access to vision capabilities. \n Analyze the following command: ''. \n Provide instructions on how to organize the image '3.jpg' into folders based on its content. \n The response should be a JSON object with the following format:\n\n{\n  \"folders\": [\n    {\n      \"name\": \"folder_name\",\n      \"images\": [\"3.jpg\"]\n    }\n  ]\n}\n\nEach object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array containing ONLY the filename '3.jpg' (including its extension) to be moved to that folder. \nInclude only the filename of the image being processed in the 'images' array.\nReturn ONLY a JSON object.\n", "type": "text"}, {"fileType": "image", "identifier": "1749867076432 - 795.jpg", "name": "3.jpg", "sizeBytes": 16659, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "r/m/qwen3-1.7b-q6_k.gguf"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-13 19:12:25,952 - DEBUG - Using proactor: IocpProactor
2025-06-13 19:12:25,961 - INFO - {"client": "<lmstudio.sync_api.Client object at 0x0000020D4CB89F10>", "event": "Websocket handling thread started", "thread_id": "Thread-1"}
2025-06-13 19:12:25,961 - INFO - {"event": "Websocket handling task started", "ws_url": "ws://localhost:1234/llm"}
2025-06-13 19:12:26,149 - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-06-13 19:12:26,404 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000020D4F5BEAD0>
2025-06-13 19:12:26,405 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-13 19:12:26,405 - DEBUG - send_request_headers.complete
2025-06-13 19:12:26,406 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-13 19:12:26,406 - DEBUG - send_request_body.complete
2025-06-13 19:12:26,406 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-13 19:12:26,407 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'ftiPBRaRYZabssh35qLitYGPXYs=')])
2025-06-13 19:12:26,409 - INFO - HTTP Request: GET ws://localhost:1234/llm "HTTP/1.1 101 Switching Protocols"
2025-06-13 19:12:26,410 - DEBUG - {"event": "Websocket connected", "ws_url": "ws://localhost:1234/llm"}
2025-06-13 19:12:26,412 - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "ws_url": "ws://localhost:1234/llm"}
2025-06-13 19:12:26,412 - INFO - {"event": "Websocket session established (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-06-13 19:12:26,413 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "listLoaded", "type": "rpcCall"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-13 19:12:26,414 - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": ["..."], "type": "rpcResult"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-13 19:12:26,415 - INFO - {"event": "Websocket handling task started", "ws_url": "ws://localhost:1234/embedding"}
2025-06-13 19:12:26,597 - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-06-13 19:12:26,850 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000020D4F5CA950>
2025-06-13 19:12:26,851 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-13 19:12:26,851 - DEBUG - send_request_headers.complete
2025-06-13 19:12:26,851 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-13 19:12:26,851 - DEBUG - send_request_body.complete
2025-06-13 19:12:26,851 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-13 19:12:26,852 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'RmGJgchioOGbhFmEAxYxjB8oV80=')])
2025-06-13 19:12:26,852 - INFO - HTTP Request: GET ws://localhost:1234/embedding "HTTP/1.1 101 Switching Protocols"
2025-06-13 19:12:26,852 - DEBUG - {"event": "Websocket connected", "ws_url": "ws://localhost:1234/embedding"}
2025-06-13 19:12:26,853 - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "ws_url": "ws://localhost:1234/embedding"}
2025-06-13 19:12:26,853 - INFO - {"event": "Websocket session established (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-06-13 19:12:26,854 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "listLoaded", "type": "rpcCall"}, "ws_url": "ws://localhost:1234/embedding"}
2025-06-13 19:12:26,855 - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": ["..."], "type": "rpcResult"}, "ws_url": "ws://localhost:1234/embedding"}
2025-06-13 19:12:26,858 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 1, "creationParameter": {"identifier": "r/m/qwen3-1.7b-q6_k.gguf", "loadConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}, "loadTtlMs": 3600000}, "endpoint": "getOrLoad", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-13 19:12:26,859 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\2010-11-21-full-moon-1000.png
2025-06-13 19:12:26,860 - INFO - {"event": "Websocket handling task started", "ws_url": "ws://localhost:1234/files"}
2025-06-13 19:12:27,043 - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-06-13 19:12:27,295 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000020D4F5DABD0>
2025-06-13 19:12:27,296 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-13 19:12:27,296 - DEBUG - send_request_headers.complete
2025-06-13 19:12:27,296 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-13 19:12:27,297 - DEBUG - send_request_body.complete
2025-06-13 19:12:27,297 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-13 19:12:27,298 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'xVdHQJUchoExzm2dWRpd4sUECgs=')])
2025-06-13 19:12:27,299 - INFO - HTTP Request: GET ws://localhost:1234/files "HTTP/1.1 101 Switching Protocols"
2025-06-13 19:12:27,299 - DEBUG - {"event": "Websocket connected", "ws_url": "ws://localhost:1234/files"}
2025-06-13 19:12:27,300 - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "ws_url": "ws://localhost:1234/files"}
2025-06-13 19:12:27,300 - INFO - {"event": "Websocket session established (ws://localhost:1234/files)", "ws_url": "ws://localhost:1234/files"}
2025-06-13 19:12:27,301 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-13 19:12:27,316 - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-13 19:12:27,317 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749867147305 - 342.png",
  "name": "2010-11-21-full-moon-1000.png",
  "sizeBytes": 303022,
  "type": "file"
})
2025-06-13 19:12:27,317 - DEBUG - Full prompt sent to LLM: You are an expert image organizer with access to vision capabilities. 
 Analyze the following command: ''. 
 Provide instructions on how to organize the image '2010-11-21-full-moon-1000.png' into folders based on its content. 
 The response should be a JSON object with the following format:

{
  "folders": [
    {
      "name": "folder_name",
      "images": ["2010-11-21-full-moon-1000.png"]
    }
  ]
}

Each object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array containing ONLY the filename '2010-11-21-full-moon-1000.png' (including its extension) to be moved to that folder. 
Include only the filename of the image being processed in the 'images' array.
Return ONLY a JSON object.

2025-06-13 19:12:27,322 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 2, "creationParameter": {"history": {"messages": [{"content": [{"text": "You are an expert image organizer with access to vision capabilities. \n Analyze the following command: ''. \n Provide instructions on how to organize the image '2010-11-21-full-moon-1000.png' into folders based on its content. \n The response should be a JSON object with the following format:\n\n{\n  \"folders\": [\n    {\n      \"name\": \"folder_name\",\n      \"images\": [\"2010-11-21-full-moon-1000.png\"]\n    }\n  ]\n}\n\nEach object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array containing ONLY the filename '2010-11-21-full-moon-1000.png' (including its extension) to be moved to that folder. \nInclude only the filename of the image being processed in the 'images' array.\nReturn ONLY a JSON object.\n", "type": "text"}, {"fileType": "image", "identifier": "1749867147305 - 342.png", "name": "2010-11-21-full-moon-1000.png", "sizeBytes": 303022, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "r/m/qwen3-1.7b-q6_k.gguf"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-13 19:15:49,632 - ERROR - Error generating response for 2010-11-21-full-moon-1000.png: Chat response error: Context shifting is not yet supported when images are in the chat. Current number of prompt+generated tokens with all images expanded: 7569. Loaded context length: 7568. Try reloading with a larger context length or using a shorter prompt.
Traceback (most recent call last):
  File "C:\Users\dadad\dadadies\development\ddd_image_organize\lmstudio_organizer.py", line 107, in organize_images_lmstudio
    analysis = model.respond(chat)
               ^^^^^^^^^^^^^^^^^^^
lmstudio.LMStudioServerError: Chat response error: Context shifting is not yet supported when images are in the chat. Current number of prompt+generated tokens with all images expanded: 7569. Loaded context length: 7568. Try reloading with a larger context length or using a shorter prompt.
2025-06-13 19:15:49,634 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\3.jpg
2025-06-13 19:15:49,635 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 2, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-13 19:15:49,649 - DEBUG - {"call_id": 2, "event": "Received RPC result", "json": {"callId": 2, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-13 19:15:49,649 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749867349636 - 439.jpg",
  "name": "3.jpg",
  "sizeBytes": 16659,
  "type": "file"
})
2025-06-13 19:15:49,650 - DEBUG - Full prompt sent to LLM: You are an expert image organizer with access to vision capabilities. 
 Analyze the following command: ''. 
 Provide instructions on how to organize the image '3.jpg' into folders based on its content. 
 The response should be a JSON object with the following format:

{
  "folders": [
    {
      "name": "folder_name",
      "images": ["3.jpg"]
    }
  ]
}

Each object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array containing ONLY the filename '3.jpg' (including its extension) to be moved to that folder. 
Include only the filename of the image being processed in the 'images' array.
Return ONLY a JSON object.

2025-06-13 19:15:49,650 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 3, "creationParameter": {"history": {"messages": [{"content": [{"text": "You are an expert image organizer with access to vision capabilities. \n Analyze the following command: ''. \n Provide instructions on how to organize the image '3.jpg' into folders based on its content. \n The response should be a JSON object with the following format:\n\n{\n  \"folders\": [\n    {\n      \"name\": \"folder_name\",\n      \"images\": [\"3.jpg\"]\n    }\n  ]\n}\n\nEach object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array containing ONLY the filename '3.jpg' (including its extension) to be moved to that folder. \nInclude only the filename of the image being processed in the 'images' array.\nReturn ONLY a JSON object.\n", "type": "text"}, {"fileType": "image", "identifier": "1749867349636 - 439.jpg", "name": "3.jpg", "sizeBytes": 16659, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "r/m/qwen3-1.7b-q6_k.gguf"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-13 19:17:25,754 - DEBUG - Using proactor: IocpProactor
2025-06-13 19:17:25,759 - INFO - {"client": "<lmstudio.sync_api.Client object at 0x00000246DAB79A50>", "event": "Websocket handling thread started", "thread_id": "Thread-1"}
2025-06-13 19:17:25,759 - INFO - {"event": "Websocket handling task started", "ws_url": "ws://localhost:1234/llm"}
2025-06-13 19:17:25,983 - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-06-13 19:17:26,239 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x00000246DD9AE5D0>
2025-06-13 19:17:26,240 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-13 19:17:26,240 - DEBUG - send_request_headers.complete
2025-06-13 19:17:26,240 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-13 19:17:26,240 - DEBUG - send_request_body.complete
2025-06-13 19:17:26,240 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-13 19:17:26,241 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'YNAcz/Aj0RsIlwOp+HTm20/8iKs=')])
2025-06-13 19:17:26,241 - INFO - HTTP Request: GET ws://localhost:1234/llm "HTTP/1.1 101 Switching Protocols"
2025-06-13 19:17:26,241 - DEBUG - {"event": "Websocket connected", "ws_url": "ws://localhost:1234/llm"}
2025-06-13 19:17:26,242 - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "ws_url": "ws://localhost:1234/llm"}
2025-06-13 19:17:26,242 - INFO - {"event": "Websocket session established (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-06-13 19:17:26,242 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "listLoaded", "type": "rpcCall"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-13 19:17:26,243 - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": ["..."], "type": "rpcResult"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-13 19:17:26,243 - INFO - {"event": "Websocket handling task started", "ws_url": "ws://localhost:1234/embedding"}
2025-06-13 19:17:26,459 - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-06-13 19:17:26,710 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x00000246DD9BE290>
2025-06-13 19:17:26,711 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-13 19:17:26,711 - DEBUG - send_request_headers.complete
2025-06-13 19:17:26,711 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-13 19:17:26,711 - DEBUG - send_request_body.complete
2025-06-13 19:17:26,711 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-13 19:17:26,713 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'kkMtas77k55geEDNkER/9uHzxfA=')])
2025-06-13 19:17:26,713 - INFO - HTTP Request: GET ws://localhost:1234/embedding "HTTP/1.1 101 Switching Protocols"
2025-06-13 19:17:26,713 - DEBUG - {"event": "Websocket connected", "ws_url": "ws://localhost:1234/embedding"}
2025-06-13 19:17:26,714 - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "ws_url": "ws://localhost:1234/embedding"}
2025-06-13 19:17:26,714 - INFO - {"event": "Websocket session established (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-06-13 19:17:26,714 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "listLoaded", "type": "rpcCall"}, "ws_url": "ws://localhost:1234/embedding"}
2025-06-13 19:17:26,716 - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": ["..."], "type": "rpcResult"}, "ws_url": "ws://localhost:1234/embedding"}
2025-06-13 19:17:26,718 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 1, "creationParameter": {"identifier": "m@q2_k", "loadConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}, "loadTtlMs": 3600000}, "endpoint": "getOrLoad", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-13 19:17:26,720 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\2010-11-21-full-moon-1000.png
2025-06-13 19:17:26,722 - INFO - {"event": "Websocket handling task started", "ws_url": "ws://localhost:1234/files"}
2025-06-13 19:17:26,927 - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-06-13 19:17:27,179 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x00000246DD9CE110>
2025-06-13 19:17:27,179 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-13 19:17:27,179 - DEBUG - send_request_headers.complete
2025-06-13 19:17:27,179 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-13 19:17:27,179 - DEBUG - send_request_body.complete
2025-06-13 19:17:27,179 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-13 19:17:27,179 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'Bo3/6Dr8HUKOiqD9lwuB3c1Xmbk=')])
2025-06-13 19:17:27,180 - INFO - HTTP Request: GET ws://localhost:1234/files "HTTP/1.1 101 Switching Protocols"
2025-06-13 19:17:27,180 - DEBUG - {"event": "Websocket connected", "ws_url": "ws://localhost:1234/files"}
2025-06-13 19:17:27,181 - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "ws_url": "ws://localhost:1234/files"}
2025-06-13 19:17:27,181 - INFO - {"event": "Websocket session established (ws://localhost:1234/files)", "ws_url": "ws://localhost:1234/files"}
2025-06-13 19:17:27,181 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-13 19:17:27,193 - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-13 19:17:27,194 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749867447186 - 275.png",
  "name": "2010-11-21-full-moon-1000.png",
  "sizeBytes": 303022,
  "type": "file"
})
2025-06-13 19:17:27,194 - DEBUG - Full prompt sent to LLM: You are an expert image organizer with access to vision capabilities. 
 Analyze the following command: ''. 
 Provide instructions on how to organize the image '2010-11-21-full-moon-1000.png' into folders based on its content. 
 The response should be a JSON object with the following format:

{
  "folders": [
    {
      "name": "folder_name",
      "images": ["2010-11-21-full-moon-1000.png"]
    }
  ]
}

Each object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array containing ONLY the filename '2010-11-21-full-moon-1000.png' (including its extension) to be moved to that folder. 
Include only the filename of the image being processed in the 'images' array.
Return ONLY a JSON object.

2025-06-13 19:17:27,196 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 2, "creationParameter": {"history": {"messages": [{"content": [{"text": "You are an expert image organizer with access to vision capabilities. \n Analyze the following command: ''. \n Provide instructions on how to organize the image '2010-11-21-full-moon-1000.png' into folders based on its content. \n The response should be a JSON object with the following format:\n\n{\n  \"folders\": [\n    {\n      \"name\": \"folder_name\",\n      \"images\": [\"2010-11-21-full-moon-1000.png\"]\n    }\n  ]\n}\n\nEach object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array containing ONLY the filename '2010-11-21-full-moon-1000.png' (including its extension) to be moved to that folder. \nInclude only the filename of the image being processed in the 'images' array.\nReturn ONLY a JSON object.\n", "type": "text"}, {"fileType": "image", "identifier": "1749867447186 - 275.png", "name": "2010-11-21-full-moon-1000.png", "sizeBytes": 303022, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@q2_k"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-13 19:17:39,953 - DEBUG - Raw LLM response: <think>
Got it, let's analyze the image. The filename is '2010-11-21-full-moon-1000.png'. The content shows a full moon, so the folder name should reflect that. Let's create a folder named "Full Moon Images" and put the image there. So the JSON structure would have one folder with that name and the image in its images array.
</think>{
  "folders": [
    {
      "name": "Full Moon Images",
      "images": ["2010-11-21-full-moon-1000.png"]
    }
  ]
}
2025-06-13 19:17:39,953 - INFO - Attempting to parse JSON from LLM response.
2025-06-13 19:17:39,954 - INFO - LLM JSON parsed successfully: {'folders': [{'name': 'Full Moon Images', 'images': ['2010-11-21-full-moon-1000.png']}]}
2025-06-13 19:17:39,954 - DEBUG - Created folder: C:/Users/dadad/dadadies/development/ddd_image_organize/images\Full Moon Images
2025-06-13 19:17:39,956 - DEBUG - Moved 2010-11-21-full-moon-1000.png to C:/Users/dadad/dadadies/development/ddd_image_organize/images\Full Moon Images
2025-06-13 19:17:39,956 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\3.jpg
2025-06-13 19:17:39,957 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 2, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-13 19:17:39,964 - DEBUG - {"call_id": 2, "event": "Received RPC result", "json": {"callId": 2, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-13 19:17:39,965 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749867459959 - 812.jpg",
  "name": "3.jpg",
  "sizeBytes": 16659,
  "type": "file"
})
2025-06-13 19:17:39,965 - DEBUG - Full prompt sent to LLM: You are an expert image organizer with access to vision capabilities. 
 Analyze the following command: ''. 
 Provide instructions on how to organize the image '3.jpg' into folders based on its content. 
 The response should be a JSON object with the following format:

{
  "folders": [
    {
      "name": "folder_name",
      "images": ["3.jpg"]
    }
  ]
}

Each object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array containing ONLY the filename '3.jpg' (including its extension) to be moved to that folder. 
Include only the filename of the image being processed in the 'images' array.
Return ONLY a JSON object.

2025-06-13 19:17:39,965 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 3, "creationParameter": {"history": {"messages": [{"content": [{"text": "You are an expert image organizer with access to vision capabilities. \n Analyze the following command: ''. \n Provide instructions on how to organize the image '3.jpg' into folders based on its content. \n The response should be a JSON object with the following format:\n\n{\n  \"folders\": [\n    {\n      \"name\": \"folder_name\",\n      \"images\": [\"3.jpg\"]\n    }\n  ]\n}\n\nEach object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array containing ONLY the filename '3.jpg' (including its extension) to be moved to that folder. \nInclude only the filename of the image being processed in the 'images' array.\nReturn ONLY a JSON object.\n", "type": "text"}, {"fileType": "image", "identifier": "1749867459959 - 812.jpg", "name": "3.jpg", "sizeBytes": 16659, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@q2_k"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-13 19:18:08,991 - DEBUG - Raw LLM response: <think>Okay, let's start by analyzing the image "3.jpg". The user wants me to organize this image into folders based on its content. First, I need to understand what the image depicts. Since I can't view the image directly, I'll rely on the description provided: it shows a forest scene with trees, ferns, and a fallen log. 

Next step is to categorize the image's content. The main elements here are nature, specifically a forest environment. There are no people or animals mentioned, so it's likely a landscape or natural scenery. The presence of trees, ferns, and a log suggests themes like wilderness, greenery, or perhaps a specific type of forest.

Now, considering typical folder structures for organizing images, common categories might be "Nature", "Forests", "Wilderness", "Greenery", etc. Since the image is of a forest with lush vegetation, the most appropriate folder name would be something that reflects this. 

I need to ensure the folder name is concise and descriptive. Options could include "Forest Scenery", "Lush Forests", or "Natural Landscapes". However, the user might prefer more specific terms. Given the elements presenttrees, ferns, a fallen logthe term "Forests" seems appropriate as it directly relates to the main content. 

Therefore, the folder should be named "Forests" and contain the image "3.jpg". The JSON structure requires an array of folders, each with a name and an images array containing only the filename. Since there's no other image mentioned, the array will have one entry.
</think>
{
  "folders": [
    {
      "name": "Forests",
      "images": ["3.jpg"]
    }
  ]
}
2025-06-13 19:18:08,991 - INFO - Attempting to parse JSON from LLM response.
2025-06-13 19:18:08,991 - INFO - LLM JSON parsed successfully: {'folders': [{'name': 'Forests', 'images': ['3.jpg']}]}
2025-06-13 19:18:08,992 - DEBUG - Created folder: C:/Users/dadad/dadadies/development/ddd_image_organize/images\Forests
2025-06-13 19:18:08,995 - DEBUG - Moved 3.jpg to C:/Users/dadad/dadadies/development/ddd_image_organize/images\Forests
2025-06-13 19:18:08,995 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\56ba49e41a00002d00ab2507.jpeg
2025-06-13 19:18:08,996 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 3, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-13 19:18:09,002 - DEBUG - {"call_id": 3, "event": "Received RPC result", "json": {"callId": 3, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-13 19:18:09,002 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749867488998 - 102.jpeg",
  "name": "56ba49e41a00002d00ab2507.jpeg",
  "sizeBytes": 42576,
  "type": "file"
})
2025-06-13 19:18:09,003 - DEBUG - Full prompt sent to LLM: You are an expert image organizer with access to vision capabilities. 
 Analyze the following command: ''. 
 Provide instructions on how to organize the image '56ba49e41a00002d00ab2507.jpeg' into folders based on its content. 
 The response should be a JSON object with the following format:

{
  "folders": [
    {
      "name": "folder_name",
      "images": ["56ba49e41a00002d00ab2507.jpeg"]
    }
  ]
}

Each object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array containing ONLY the filename '56ba49e41a00002d00ab2507.jpeg' (including its extension) to be moved to that folder. 
Include only the filename of the image being processed in the 'images' array.
Return ONLY a JSON object.

2025-06-13 19:18:09,003 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 4, "creationParameter": {"history": {"messages": [{"content": [{"text": "You are an expert image organizer with access to vision capabilities. \n Analyze the following command: ''. \n Provide instructions on how to organize the image '56ba49e41a00002d00ab2507.jpeg' into folders based on its content. \n The response should be a JSON object with the following format:\n\n{\n  \"folders\": [\n    {\n      \"name\": \"folder_name\",\n      \"images\": [\"56ba49e41a00002d00ab2507.jpeg\"]\n    }\n  ]\n}\n\nEach object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array containing ONLY the filename '56ba49e41a00002d00ab2507.jpeg' (including its extension) to be moved to that folder. \nInclude only the filename of the image being processed in the 'images' array.\nReturn ONLY a JSON object.\n", "type": "text"}, {"fileType": "image", "identifier": "1749867488998 - 102.jpeg", "name": "56ba49e41a00002d00ab2507.jpeg", "sizeBytes": 42576, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@q2_k"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-13 19:18:25,690 - DEBUG - Raw LLM response: <think>
Got it, let's analyze the image. The image shows a great white shark swimming underwater near the surface. So we need to create a folder name that reflects this content. Let's think about keywords: "shark", "underwater", "ocean", "marine life". Maybe "Shark Underwater Scene" or something similar. Then structure the JSON as required.

First, determine the folder name based on the image content. The image is of a shark in an underwater environment. So the folder name could be "Shark Underwater". Then the images array has only the filename. So the JSON object would have one folder with that name and the image.
</think>{
  "folders": [
    {
      "name": "Shark Underwater",
      "images": ["56ba49e41a00002d00ab2507.jpeg"]
    }
  ]
}
2025-06-13 19:18:25,690 - INFO - Attempting to parse JSON from LLM response.
2025-06-13 19:18:25,690 - INFO - LLM JSON parsed successfully: {'folders': [{'name': 'Shark Underwater', 'images': ['56ba49e41a00002d00ab2507.jpeg']}]}
2025-06-13 19:18:25,690 - DEBUG - Created folder: C:/Users/dadad/dadadies/development/ddd_image_organize/images\Shark Underwater
2025-06-13 19:18:25,694 - DEBUG - Moved 56ba49e41a00002d00ab2507.jpeg to C:/Users/dadad/dadadies/development/ddd_image_organize/images\Shark Underwater
2025-06-13 19:18:25,694 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\a13052540ed9f27eea7d611e9e33293fea9fb4aa584c029e80036f5f857f03de.webp
2025-06-13 19:18:25,695 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 4, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-13 19:18:25,708 - DEBUG - {"call_id": 4, "event": "Received RPC result", "json": {"callId": 4, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-13 19:18:25,708 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749867505701 - 93.webp",
  "name": "a13052540ed9f27eea7d611e9e33293fea9fb4aa584c029e80036f5f857f03de.webp",
  "sizeBytes": 231480,
  "type": "file"
})
2025-06-13 19:18:25,708 - DEBUG - Full prompt sent to LLM: You are an expert image organizer with access to vision capabilities. 
 Analyze the following command: ''. 
 Provide instructions on how to organize the image 'a13052540ed9f27eea7d611e9e33293fea9fb4aa584c029e80036f5f857f03de.webp' into folders based on its content. 
 The response should be a JSON object with the following format:

{
  "folders": [
    {
      "name": "folder_name",
      "images": ["a13052540ed9f27eea7d611e9e33293fea9fb4aa584c029e80036f5f857f03de.webp"]
    }
  ]
}

Each object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array containing ONLY the filename 'a13052540ed9f27eea7d611e9e33293fea9fb4aa584c029e80036f5f857f03de.webp' (including its extension) to be moved to that folder. 
Include only the filename of the image being processed in the 'images' array.
Return ONLY a JSON object.

2025-06-13 19:18:25,709 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 5, "creationParameter": {"history": {"messages": [{"content": [{"text": "You are an expert image organizer with access to vision capabilities. \n Analyze the following command: ''. \n Provide instructions on how to organize the image 'a13052540ed9f27eea7d611e9e33293fea9fb4aa584c029e80036f5f857f03de.webp' into folders based on its content. \n The response should be a JSON object with the following format:\n\n{\n  \"folders\": [\n    {\n      \"name\": \"folder_name\",\n      \"images\": [\"a13052540ed9f27eea7d611e9e33293fea9fb4aa584c029e80036f5f857f03de.webp\"]\n    }\n  ]\n}\n\nEach object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array containing ONLY the filename 'a13052540ed9f27eea7d611e9e33293fea9fb4aa584c029e80036f5f857f03de.webp' (including its extension) to be moved to that folder. \nInclude only the filename of the image being processed in the 'images' array.\nReturn ONLY a JSON object.\n", "type": "text"}, {"fileType": "image", "identifier": "1749867505701 - 93.webp", "name": "a13052540ed9f27eea7d611e9e33293fea9fb4aa584c029e80036f5f857f03de.webp", "sizeBytes": 231480, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@q2_k"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-13 19:19:03,137 - DEBUG - Raw LLM response: <think>Okay, let's see. The user wants me to organize an image into folders based on its content. The image is named 'a13052540ed9f27eea7d611e9e33293fea9fb4aa584c029e80036f5f857f03de.webp'. First, I need to analyze the content of this image. 

Looking at the image description provided: it's a castle with red roofs, stone walls, towers, flags, and situated on a cliffside. The style is medieval European architecture. So the main elements are the castle structure, its architectural features like turrets, bridges, and the natural setting around it.

Now, I need to categorize this image into folders based on these elements. Possible categories could be 'castles', 'medieval architecture', 'European landmarks', or 'fantasy landscapes'. Since the user wants a JSON response with folder names and the image in the images array, I should pick a name that accurately reflects the content.

The castle is clearly medieval European style, so maybe 'Medieval Castles' as the folder name. Alternatively, 'Fantasy Architecture' if it's more imaginative, but the description mentions flags and realistic elements, so 'Medieval Castles' seems appropriate. 

I need to ensure the JSON structure matches exactly: a list of folders, each with a name and an array containing only the image filename. The folder name should be descriptive of the content. So the final JSON would have one folder named 'Medieval Castles' with the image in it.
</think>
{
  "folders": [
    {
      "name": "Medieval Castles",
      "images": ["a13052540ed9f27eea7d611e9e33293fea9fb4aa584c029e80036f5f857f03de.webp"]
    }
  ]
}
2025-06-13 19:19:03,137 - INFO - Attempting to parse JSON from LLM response.
2025-06-13 19:19:03,138 - INFO - LLM JSON parsed successfully: {'folders': [{'name': 'Medieval Castles', 'images': ['a13052540ed9f27eea7d611e9e33293fea9fb4aa584c029e80036f5f857f03de.webp']}]}
2025-06-13 19:19:03,138 - DEBUG - Created folder: C:/Users/dadad/dadadies/development/ddd_image_organize/images\Medieval Castles
2025-06-13 19:19:03,141 - DEBUG - Moved a13052540ed9f27eea7d611e9e33293fea9fb4aa584c029e80036f5f857f03de.webp to C:/Users/dadad/dadadies/development/ddd_image_organize/images\Medieval Castles
2025-06-13 19:19:03,141 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\A1897E5E85B488FDE84BB77AE42E97B7778AE8CAC745860766931D266FDE4FE0.jpg
2025-06-13 19:19:03,142 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 5, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-13 19:19:03,147 - DEBUG - {"call_id": 5, "event": "Received RPC result", "json": {"callId": 5, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-13 19:19:03,147 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749867543144 - 957.jpg",
  "name": "A1897E5E85B488FDE84BB77AE42E97B7778AE8CAC745860766931D266FDE4FE0.jpg",
  "sizeBytes": 50344,
  "type": "file"
})
2025-06-13 19:19:03,149 - DEBUG - Full prompt sent to LLM: You are an expert image organizer with access to vision capabilities. 
 Analyze the following command: ''. 
 Provide instructions on how to organize the image 'A1897E5E85B488FDE84BB77AE42E97B7778AE8CAC745860766931D266FDE4FE0.jpg' into folders based on its content. 
 The response should be a JSON object with the following format:

{
  "folders": [
    {
      "name": "folder_name",
      "images": ["A1897E5E85B488FDE84BB77AE42E97B7778AE8CAC745860766931D266FDE4FE0.jpg"]
    }
  ]
}

Each object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array containing ONLY the filename 'A1897E5E85B488FDE84BB77AE42E97B7778AE8CAC745860766931D266FDE4FE0.jpg' (including its extension) to be moved to that folder. 
Include only the filename of the image being processed in the 'images' array.
Return ONLY a JSON object.

2025-06-13 19:19:03,149 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 6, "creationParameter": {"history": {"messages": [{"content": [{"text": "You are an expert image organizer with access to vision capabilities. \n Analyze the following command: ''. \n Provide instructions on how to organize the image 'A1897E5E85B488FDE84BB77AE42E97B7778AE8CAC745860766931D266FDE4FE0.jpg' into folders based on its content. \n The response should be a JSON object with the following format:\n\n{\n  \"folders\": [\n    {\n      \"name\": \"folder_name\",\n      \"images\": [\"A1897E5E85B488FDE84BB77AE42E97B7778AE8CAC745860766931D266FDE4FE0.jpg\"]\n    }\n  ]\n}\n\nEach object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array containing ONLY the filename 'A1897E5E85B488FDE84BB77AE42E97B7778AE8CAC745860766931D266FDE4FE0.jpg' (including its extension) to be moved to that folder. \nInclude only the filename of the image being processed in the 'images' array.\nReturn ONLY a JSON object.\n", "type": "text"}, {"fileType": "image", "identifier": "1749867543144 - 957.jpg", "name": "A1897E5E85B488FDE84BB77AE42E97B7778AE8CAC745860766931D266FDE4FE0.jpg", "sizeBytes": 50344, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@q2_k"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-13 19:19:12,228 - DEBUG - Raw LLM response: <think>
</think>

{
  "folders": [
    {
      "name": "anime-style-portraits",
      "images": ["A1897E5E85B488FDE84BB77AE42E97B7778AE8CAC745860766931D266FDE4FE0.jpg"]
    }
  ]
}
2025-06-13 19:19:12,228 - INFO - Attempting to parse JSON from LLM response.
2025-06-13 19:19:12,228 - INFO - LLM JSON parsed successfully: {'folders': [{'name': 'anime-style-portraits', 'images': ['A1897E5E85B488FDE84BB77AE42E97B7778AE8CAC745860766931D266FDE4FE0.jpg']}]}
2025-06-13 19:19:12,229 - DEBUG - Created folder: C:/Users/dadad/dadadies/development/ddd_image_organize/images\anime-style-portraits
2025-06-13 19:19:12,232 - DEBUG - Moved A1897E5E85B488FDE84BB77AE42E97B7778AE8CAC745860766931D266FDE4FE0.jpg to C:/Users/dadad/dadadies/development/ddd_image_organize/images\anime-style-portraits
2025-06-13 19:19:12,232 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\Bing_0056.jpeg
2025-06-13 19:19:12,234 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 6, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-13 19:19:12,242 - DEBUG - {"call_id": 6, "event": "Received RPC result", "json": {"callId": 6, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-13 19:19:12,242 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749867552237 - 814.jpeg",
  "name": "Bing_0056.jpeg",
  "sizeBytes": 88069,
  "type": "file"
})
2025-06-13 19:19:12,243 - DEBUG - Full prompt sent to LLM: You are an expert image organizer with access to vision capabilities. 
 Analyze the following command: ''. 
 Provide instructions on how to organize the image 'Bing_0056.jpeg' into folders based on its content. 
 The response should be a JSON object with the following format:

{
  "folders": [
    {
      "name": "folder_name",
      "images": ["Bing_0056.jpeg"]
    }
  ]
}

Each object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array containing ONLY the filename 'Bing_0056.jpeg' (including its extension) to be moved to that folder. 
Include only the filename of the image being processed in the 'images' array.
Return ONLY a JSON object.

2025-06-13 19:19:12,243 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 7, "creationParameter": {"history": {"messages": [{"content": [{"text": "You are an expert image organizer with access to vision capabilities. \n Analyze the following command: ''. \n Provide instructions on how to organize the image 'Bing_0056.jpeg' into folders based on its content. \n The response should be a JSON object with the following format:\n\n{\n  \"folders\": [\n    {\n      \"name\": \"folder_name\",\n      \"images\": [\"Bing_0056.jpeg\"]\n    }\n  ]\n}\n\nEach object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array containing ONLY the filename 'Bing_0056.jpeg' (including its extension) to be moved to that folder. \nInclude only the filename of the image being processed in the 'images' array.\nReturn ONLY a JSON object.\n", "type": "text"}, {"fileType": "image", "identifier": "1749867552237 - 814.jpeg", "name": "Bing_0056.jpeg", "sizeBytes": 88069, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@q2_k"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-13 19:19:17,322 - DEBUG - Raw LLM response: <think>
</think>

{
  "folders": [
    {
      "name": "Bing_0056_Portraits",
      "images": ["Bing_0056.jpeg"]
    }
  ]
}
2025-06-13 19:19:17,322 - INFO - Attempting to parse JSON from LLM response.
2025-06-13 19:19:17,322 - INFO - LLM JSON parsed successfully: {'folders': [{'name': 'Bing_0056_Portraits', 'images': ['Bing_0056.jpeg']}]}
2025-06-13 19:19:17,323 - DEBUG - Created folder: C:/Users/dadad/dadadies/development/ddd_image_organize/images\Bing_0056_Portraits
2025-06-13 19:19:17,326 - DEBUG - Moved Bing_0056.jpeg to C:/Users/dadad/dadadies/development/ddd_image_organize/images\Bing_0056_Portraits
2025-06-13 19:22:49,112 - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/files)", "ws_url": "ws://localhost:1234/files"}
2025-06-13 19:22:49,113 - INFO - {"event": "Websocket demultiplexing task terminated.", "ws_url": "ws://localhost:1234/files"}
2025-06-13 19:22:49,113 - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/files)", "ws_url": "ws://localhost:1234/files"}
2025-06-13 19:22:49,114 - INFO - {"event": "Websocket closed.", "ws_url": "ws://localhost:1234/files"}
2025-06-13 19:22:49,114 - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-06-13 19:22:49,114 - DEBUG - response_closed.started
2025-06-13 19:22:49,114 - DEBUG - response_closed.complete
2025-06-13 19:22:49,115 - INFO - {"event": "Websocket task terminated", "ws_url": "ws://localhost:1234/files"}
2025-06-13 19:22:49,115 - INFO - {"event": "Websocket demultiplexing task terminated.", "ws_url": "ws://localhost:1234/embedding"}
2025-06-13 19:22:49,116 - INFO - {"event": "Websocket closed.", "ws_url": "ws://localhost:1234/embedding"}
2025-06-13 19:22:49,116 - DEBUG - response_closed.started
2025-06-13 19:22:49,116 - DEBUG - response_closed.complete
2025-06-13 19:22:49,117 - INFO - {"event": "Websocket task terminated", "ws_url": "ws://localhost:1234/embedding"}
2025-06-13 19:22:49,117 - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-06-13 19:22:49,117 - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-06-13 19:22:49,119 - INFO - {"event": "Websocket demultiplexing task terminated.", "ws_url": "ws://localhost:1234/llm"}
2025-06-13 19:22:49,119 - INFO - {"event": "Websocket closed.", "ws_url": "ws://localhost:1234/llm"}
2025-06-13 19:22:49,119 - DEBUG - response_closed.started
2025-06-13 19:22:49,120 - DEBUG - response_closed.complete
2025-06-13 19:22:49,120 - INFO - {"event": "Websocket task terminated", "ws_url": "ws://localhost:1234/llm"}
2025-06-13 19:22:49,120 - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-06-13 19:22:49,121 - DEBUG - {"client": "<lmstudio.sync_api.Client object at 0x00000246DAB79A50>", "event": "Terminating websocket thread due to exception", "thread_id": "Thread-1"}
Traceback (most recent call last):
  File "C:\Users\dadad\AppData\Local\Programs\Python\Python311\Lib\site-packages\lmstudio\_ws_impl.py", line 292, in _log_thread_execution
    await never_set.wait()
  File "C:\Users\dadad\AppData\Local\Programs\Python\Python311\Lib\asyncio\locks.py", line 213, in wait
    await fut
asyncio.exceptions.CancelledError: Cancelled by cancel scope 246dab7af90
2025-06-13 19:22:49,124 - INFO - {"client": "<lmstudio.sync_api.Client object at 0x00000246DAB79A50>", "event": "Websocket thread terminated", "thread_id": "Thread-1"}
2025-06-13 19:24:09,990 - DEBUG - Using proactor: IocpProactor
2025-06-13 19:24:09,999 - INFO - {"client": "<lmstudio.sync_api.Client object at 0x000002596AE79AD0>", "event": "Websocket handling thread started", "thread_id": "Thread-1"}
2025-06-13 19:24:09,999 - INFO - {"event": "Websocket handling task started", "ws_url": "ws://localhost:1234/llm"}
2025-06-13 19:24:10,174 - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-06-13 19:24:10,413 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002596DBCE310>
2025-06-13 19:24:10,414 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-13 19:24:10,414 - DEBUG - send_request_headers.complete
2025-06-13 19:24:10,414 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-13 19:24:10,414 - DEBUG - send_request_body.complete
2025-06-13 19:24:10,414 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-13 19:24:10,415 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'kebK0FI6cvF0/mH/oVo94Cv/cSQ=')])
2025-06-13 19:24:10,415 - INFO - HTTP Request: GET ws://localhost:1234/llm "HTTP/1.1 101 Switching Protocols"
2025-06-13 19:24:10,416 - DEBUG - {"event": "Websocket connected", "ws_url": "ws://localhost:1234/llm"}
2025-06-13 19:24:10,417 - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "ws_url": "ws://localhost:1234/llm"}
2025-06-13 19:24:10,417 - INFO - {"event": "Websocket session established (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-06-13 19:24:10,417 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "listLoaded", "type": "rpcCall"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-13 19:24:10,419 - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": ["..."], "type": "rpcResult"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-13 19:24:10,420 - INFO - {"event": "Websocket handling task started", "ws_url": "ws://localhost:1234/embedding"}
2025-06-13 19:24:10,589 - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-06-13 19:24:10,841 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002596DBDE0D0>
2025-06-13 19:24:10,841 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-13 19:24:10,843 - DEBUG - send_request_headers.complete
2025-06-13 19:24:10,843 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-13 19:24:10,843 - DEBUG - send_request_body.complete
2025-06-13 19:24:10,843 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-13 19:24:10,843 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'TEyXJqB64dQ58oq14QjEDAgG+Is=')])
2025-06-13 19:24:10,844 - INFO - HTTP Request: GET ws://localhost:1234/embedding "HTTP/1.1 101 Switching Protocols"
2025-06-13 19:24:10,844 - DEBUG - {"event": "Websocket connected", "ws_url": "ws://localhost:1234/embedding"}
2025-06-13 19:24:10,845 - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "ws_url": "ws://localhost:1234/embedding"}
2025-06-13 19:24:10,846 - INFO - {"event": "Websocket session established (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-06-13 19:24:10,846 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "listLoaded", "type": "rpcCall"}, "ws_url": "ws://localhost:1234/embedding"}
2025-06-13 19:24:10,849 - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": ["..."], "type": "rpcResult"}, "ws_url": "ws://localhost:1234/embedding"}
2025-06-13 19:24:10,849 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 1, "creationParameter": {"identifier": "m@q2_k", "loadConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}, "loadTtlMs": 3600000}, "endpoint": "getOrLoad", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-13 19:24:10,853 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\0.jpeg
2025-06-13 19:24:10,855 - INFO - {"event": "Websocket handling task started", "ws_url": "ws://localhost:1234/files"}
2025-06-13 19:24:11,028 - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-06-13 19:24:11,280 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002596DBEE490>
2025-06-13 19:24:11,281 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-13 19:24:11,281 - DEBUG - send_request_headers.complete
2025-06-13 19:24:11,281 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-13 19:24:11,281 - DEBUG - send_request_body.complete
2025-06-13 19:24:11,281 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-13 19:24:11,283 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'83zXCYFhKg+LHgXnsY/3SF8ofXI=')])
2025-06-13 19:24:11,283 - INFO - HTTP Request: GET ws://localhost:1234/files "HTTP/1.1 101 Switching Protocols"
2025-06-13 19:24:11,283 - DEBUG - {"event": "Websocket connected", "ws_url": "ws://localhost:1234/files"}
2025-06-13 19:24:11,285 - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "ws_url": "ws://localhost:1234/files"}
2025-06-13 19:24:11,285 - INFO - {"event": "Websocket session established (ws://localhost:1234/files)", "ws_url": "ws://localhost:1234/files"}
2025-06-13 19:24:11,286 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-13 19:24:11,293 - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-13 19:24:11,294 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749867851288 - 99.jpeg",
  "name": "0.jpeg",
  "sizeBytes": 88069,
  "type": "file"
})
2025-06-13 19:24:11,294 - DEBUG - Full prompt sent to LLM: You are an expert image organizer with access to vision capabilities. 
 Analyze the following command: ''. 
 Provide instructions on how to organize the image '0.jpeg' into folders based on its content. 
 The response should be a JSON object with the following format:

{
  "folders": [
    {
      "name": "folder_name",
      "images": ["0.jpeg"]
    }
  ]
}

Each object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array containing ONLY the filename '0.jpeg' (including its extension) to be moved to that folder. 
Include only the filename of the image being processed in the 'images' array.
Return ONLY a JSON object.

2025-06-13 19:24:11,297 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 2, "creationParameter": {"history": {"messages": [{"content": [{"text": "You are an expert image organizer with access to vision capabilities. \n Analyze the following command: ''. \n Provide instructions on how to organize the image '0.jpeg' into folders based on its content. \n The response should be a JSON object with the following format:\n\n{\n  \"folders\": [\n    {\n      \"name\": \"folder_name\",\n      \"images\": [\"0.jpeg\"]\n    }\n  ]\n}\n\nEach object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array containing ONLY the filename '0.jpeg' (including its extension) to be moved to that folder. \nInclude only the filename of the image being processed in the 'images' array.\nReturn ONLY a JSON object.\n", "type": "text"}, {"fileType": "image", "identifier": "1749867851288 - 99.jpeg", "name": "0.jpeg", "sizeBytes": 88069, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@q2_k"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-13 19:24:14,782 - DEBUG - Raw LLM response: <think>
</think>

{
  "folders": [
    {
      "name": " portraits",
      "images": ["0.jpeg"]
    }
  ]
}
2025-06-13 19:24:14,782 - INFO - Attempting to parse JSON from LLM response.
2025-06-13 19:24:14,782 - INFO - LLM JSON parsed successfully: {'folders': [{'name': ' portraits', 'images': ['0.jpeg']}]}
2025-06-13 19:24:14,782 - DEBUG - Created folder: C:/Users/dadad/dadadies/development/ddd_image_organize/images\ portraits
2025-06-13 19:24:14,784 - DEBUG - Moved 0.jpeg to C:/Users/dadad/dadadies/development/ddd_image_organize/images\ portraits
2025-06-13 19:24:14,784 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\3.jpg
2025-06-13 19:24:14,784 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 2, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-13 19:24:14,790 - DEBUG - {"call_id": 2, "event": "Received RPC result", "json": {"callId": 2, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-13 19:24:14,791 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749867854785 - 46.jpg",
  "name": "3.jpg",
  "sizeBytes": 16659,
  "type": "file"
})
2025-06-13 19:24:14,791 - DEBUG - Full prompt sent to LLM: You are an expert image organizer with access to vision capabilities. 
 Analyze the following command: ''. 
 Provide instructions on how to organize the image '3.jpg' into folders based on its content. 
 The response should be a JSON object with the following format:

{
  "folders": [
    {
      "name": "folder_name",
      "images": ["3.jpg"]
    }
  ]
}

Each object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array containing ONLY the filename '3.jpg' (including its extension) to be moved to that folder. 
Include only the filename of the image being processed in the 'images' array.
Return ONLY a JSON object.

2025-06-13 19:24:14,791 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 3, "creationParameter": {"history": {"messages": [{"content": [{"text": "You are an expert image organizer with access to vision capabilities. \n Analyze the following command: ''. \n Provide instructions on how to organize the image '3.jpg' into folders based on its content. \n The response should be a JSON object with the following format:\n\n{\n  \"folders\": [\n    {\n      \"name\": \"folder_name\",\n      \"images\": [\"3.jpg\"]\n    }\n  ]\n}\n\nEach object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array containing ONLY the filename '3.jpg' (including its extension) to be moved to that folder. \nInclude only the filename of the image being processed in the 'images' array.\nReturn ONLY a JSON object.\n", "type": "text"}, {"fileType": "image", "identifier": "1749867854785 - 46.jpg", "name": "3.jpg", "sizeBytes": 16659, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@q2_k"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-13 19:24:56,019 - DEBUG - Raw LLM response: <think>Okay, let's see. The user wants me to organize the image "3.jpg" into folders based on its content. First, I need to analyze what's in the image. The image shows a forest scene with lots of green ferns and trees. There are also some white flowers or plants scattered around. So the main elements here are nature, specifically a forest with lush vegetation.

Now, how should I categorize this? Since it's a forest scene, maybe folders like "Nature Forest", "Greenery", or "Wilderness". The image has vibrant green colors and dense foliage, so "Greenery" could work. Alternatively, "Flowers in Nature" if focusing on the white flowers. But since the dominant feature is the lush green ferns and trees, "Greenery" seems appropriate.

I need to create a JSON object with folders. Each folder should have a name and an array containing just "3.jpg". Let me check the requirements again: only include the filename in the images array. So the structure should be correct. The folder name should reflect the content accurately. Maybe "Greenery" is too generic, but given the image's focus on green plants, it fits. Alternatively, "Forest with Ferns" could be more specific. But maybe keeping it simple is better for clarity.

Wait, the user might prefer a more descriptive name. Let me think again. The image has tall trees and ferns covering the ground. So perhaps "Lush Forest" or "Fern-covered Ground". However, the exact folder names need to be concise. Maybe "Nature Greenery" combines both elements. Alternatively, "Wilderness Scene". Hmm.

Alternatively, maybe the user wants a more general category. Since the image is of nature, perhaps "Nature Photography" as a broader category. But the instruction says to base it on content. The image's content is specifically greenery in a forest. So "Greenery" might be sufficient. Let me confirm: the image has dense green plants, trees, and some white flowers. So "Greenery" captures the dominant color and vegetation type. Yes, that makes sense.

So the JSON should have one folder named "Greenery" with ["3.jpg"]. That's straightforward. I need to make sure the JSON is correctly formatted, with proper syntax for arrays and keys. Let me double-check: the folders array contains an object with name and images. The images array has only "3.jpg". Yes, that matches the requirements.
</think>
{
  "folders": [
    {
      "name": "Greenery",
      "images": ["3.jpg"]
    }
  ]
}
2025-06-13 19:24:56,019 - INFO - Attempting to parse JSON from LLM response.
2025-06-13 19:24:56,019 - INFO - LLM JSON parsed successfully: {'folders': [{'name': 'Greenery', 'images': ['3.jpg']}]}
2025-06-13 19:24:56,020 - DEBUG - Created folder: C:/Users/dadad/dadadies/development/ddd_image_organize/images\Greenery
2025-06-13 19:24:56,022 - DEBUG - Moved 3.jpg to C:/Users/dadad/dadadies/development/ddd_image_organize/images\Greenery
2025-06-13 21:50:51,363 - DEBUG - Using proactor: IocpProactor
2025-06-13 21:50:51,371 - INFO - {"client": "<lmstudio.sync_api.Client object at 0x000002DB700B9990>", "event": "Websocket handling thread started", "thread_id": "Thread-1"}
2025-06-13 21:50:51,372 - INFO - {"event": "Websocket handling task started", "ws_url": "ws://localhost:1234/llm"}
2025-06-13 21:50:51,551 - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-06-13 21:50:51,810 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002DB7298E7D0>
2025-06-13 21:50:51,810 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-13 21:50:51,811 - DEBUG - send_request_headers.complete
2025-06-13 21:50:51,811 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-13 21:50:51,811 - DEBUG - send_request_body.complete
2025-06-13 21:50:51,811 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-13 21:50:51,815 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'c8Bh5eiAvhakLZ4KMe5H3NoI4tg=')])
2025-06-13 21:50:51,816 - INFO - HTTP Request: GET ws://localhost:1234/llm "HTTP/1.1 101 Switching Protocols"
2025-06-13 21:50:51,816 - DEBUG - {"event": "Websocket connected", "ws_url": "ws://localhost:1234/llm"}
2025-06-13 21:50:51,819 - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "ws_url": "ws://localhost:1234/llm"}
2025-06-13 21:50:51,819 - INFO - {"event": "Websocket session established (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-06-13 21:50:51,819 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "listLoaded", "type": "rpcCall"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-13 21:50:51,820 - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": ["..."], "type": "rpcResult"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-13 21:50:51,821 - INFO - {"event": "Websocket handling task started", "ws_url": "ws://localhost:1234/embedding"}
2025-06-13 21:50:51,995 - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-06-13 21:50:52,247 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002DB7299E650>
2025-06-13 21:50:52,248 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-13 21:50:52,248 - DEBUG - send_request_headers.complete
2025-06-13 21:50:52,248 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-13 21:50:52,248 - DEBUG - send_request_body.complete
2025-06-13 21:50:52,248 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-13 21:50:52,249 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'uiTwIYxtBeRiXdRqW8TltL8eY10=')])
2025-06-13 21:50:52,250 - INFO - HTTP Request: GET ws://localhost:1234/embedding "HTTP/1.1 101 Switching Protocols"
2025-06-13 21:50:52,250 - DEBUG - {"event": "Websocket connected", "ws_url": "ws://localhost:1234/embedding"}
2025-06-13 21:50:52,251 - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "ws_url": "ws://localhost:1234/embedding"}
2025-06-13 21:50:52,251 - INFO - {"event": "Websocket session established (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-06-13 21:50:52,251 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "listLoaded", "type": "rpcCall"}, "ws_url": "ws://localhost:1234/embedding"}
2025-06-13 21:50:52,255 - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": ["..."], "type": "rpcResult"}, "ws_url": "ws://localhost:1234/embedding"}
2025-06-13 21:50:52,260 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 1, "creationParameter": {"identifier": "m@q2_k", "loadConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}, "loadTtlMs": 3600000}, "endpoint": "getOrLoad", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-13 21:50:52,263 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\0.jpeg
2025-06-13 21:50:52,266 - INFO - {"event": "Websocket handling task started", "ws_url": "ws://localhost:1234/files"}
2025-06-13 21:50:52,448 - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-06-13 21:50:52,700 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002DB729AE750>
2025-06-13 21:50:52,701 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-13 21:50:52,701 - DEBUG - send_request_headers.complete
2025-06-13 21:50:52,701 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-13 21:50:52,701 - DEBUG - send_request_body.complete
2025-06-13 21:50:52,701 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-13 21:50:52,701 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'npKPQ2iUUNlUlQuElp2zxvP4zmY=')])
2025-06-13 21:50:52,702 - INFO - HTTP Request: GET ws://localhost:1234/files "HTTP/1.1 101 Switching Protocols"
2025-06-13 21:50:52,702 - DEBUG - {"event": "Websocket connected", "ws_url": "ws://localhost:1234/files"}
2025-06-13 21:50:52,703 - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "ws_url": "ws://localhost:1234/files"}
2025-06-13 21:50:52,703 - INFO - {"event": "Websocket session established (ws://localhost:1234/files)", "ws_url": "ws://localhost:1234/files"}
2025-06-13 21:50:52,703 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-13 21:50:52,715 - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-13 21:50:52,716 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749876652706 - 886.jpeg",
  "name": "0.jpeg",
  "sizeBytes": 88069,
  "type": "file"
})
2025-06-13 21:50:52,716 - DEBUG - Full prompt sent to LLM: You are an expert image organizer with access to vision capabilities. 
 Analyze the following command: ''. 
 Provide instructions on how to organize the image '0.jpeg' into folders based on its content. 
 The response should be a JSON object with the following format:

{
  "folders": [
    {
      "name": "folder_name",
      "images": ["0.jpeg"]
    }
  ]
}

Each object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array containing ONLY the filename '0.jpeg' (including its extension) to be moved to that folder. 
Include only the filename of the image being processed in the 'images' array.
Return ONLY a JSON object.

2025-06-13 21:50:52,718 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 2, "creationParameter": {"history": {"messages": [{"content": [{"text": "You are an expert image organizer with access to vision capabilities. \n Analyze the following command: ''. \n Provide instructions on how to organize the image '0.jpeg' into folders based on its content. \n The response should be a JSON object with the following format:\n\n{\n  \"folders\": [\n    {\n      \"name\": \"folder_name\",\n      \"images\": [\"0.jpeg\"]\n    }\n  ]\n}\n\nEach object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array containing ONLY the filename '0.jpeg' (including its extension) to be moved to that folder. \nInclude only the filename of the image being processed in the 'images' array.\nReturn ONLY a JSON object.\n", "type": "text"}, {"fileType": "image", "identifier": "1749876652706 - 886.jpeg", "name": "0.jpeg", "sizeBytes": 88069, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@q2_k"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-13 21:50:57,314 - DEBUG - Raw LLM response: <think>
</think>

{
  "folders": [
    {
      "name": " portraits",
      "images": ["0.jpeg"]
    }
  ]
}
2025-06-13 21:50:57,314 - INFO - Attempting to parse JSON from LLM response.
2025-06-13 21:50:57,314 - INFO - LLM JSON parsed successfully: {'folders': [{'name': ' portraits', 'images': ['0.jpeg']}]}
2025-06-13 21:50:57,315 - DEBUG - Created folder: C:/Users/dadad/dadadies/development/ddd_image_organize/images\ portraits
2025-06-13 21:50:57,316 - DEBUG - Moved 0.jpeg to C:/Users/dadad/dadadies/development/ddd_image_organize/images\ portraits
2025-06-13 21:50:57,316 - DEBUG - Processing image: C:/Users/dadad/dadadies/development/ddd_image_organize/images\3.jpg
2025-06-13 21:50:57,317 - DEBUG - {"event": "Sending RPC request", "json": {"callId": 2, "endpoint": "uploadFileBase64", "parameter": {"...": "..."}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/files"}
2025-06-13 21:50:57,323 - DEBUG - {"call_id": 2, "event": "Received RPC result", "json": {"callId": 2, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/files"}
2025-06-13 21:50:57,323 - DEBUG - Prepared image handle: FileHandle.from_dict({
  "fileType": "image",
  "identifier": "1749876657319 - 332.jpg",
  "name": "3.jpg",
  "sizeBytes": 16659,
  "type": "file"
})
2025-06-13 21:50:57,323 - DEBUG - Full prompt sent to LLM: You are an expert image organizer with access to vision capabilities. 
 Analyze the following command: ''. 
 Provide instructions on how to organize the image '3.jpg' into folders based on its content. 
 The response should be a JSON object with the following format:

{
  "folders": [
    {
      "name": "folder_name",
      "images": ["3.jpg"]
    }
  ]
}

Each object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array containing ONLY the filename '3.jpg' (including its extension) to be moved to that folder. 
Include only the filename of the image being processed in the 'images' array.
Return ONLY a JSON object.

2025-06-13 21:50:57,323 - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 3, "creationParameter": {"history": {"messages": [{"content": [{"text": "You are an expert image organizer with access to vision capabilities. \n Analyze the following command: ''. \n Provide instructions on how to organize the image '3.jpg' into folders based on its content. \n The response should be a JSON object with the following format:\n\n{\n  \"folders\": [\n    {\n      \"name\": \"folder_name\",\n      \"images\": [\"3.jpg\"]\n    }\n  ]\n}\n\nEach object in the 'folders' array should have a 'name' key representing the folder name and an 'images' key representing an array containing ONLY the filename '3.jpg' (including its extension) to be moved to that folder. \nInclude only the filename of the image being processed in the 'images' array.\nReturn ONLY a JSON object.\n", "type": "text"}, {"fileType": "image", "identifier": "1749876657319 - 332.jpg", "name": "3.jpg", "sizeBytes": 16659, "type": "file"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "m@q2_k"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-06-13 21:51:36,056 - DEBUG - Raw LLM response: <think>Okay, let's see. The user wants me to organize the image "3.jpg" into folders based on its content. First, I need to analyze what's in the image. The image shows a forest scene with lots of green ferns and trees. There are also some white flowers or plants scattered around. So the main elements here are nature, specifically a lush forest with ferns.

Now, how should I categorize this? Since it's a nature scene, maybe folders like "Nature", "Forest", "Flora", or "Greenery". But the user wants specific folder names. Let me think of possible categories. The image has dense green vegetation, so "Lush Forest" could work. Alternatively, "Ferns and Flowers" since there are both ferns and white flowers. Another option is "Woodland Scenery" to capture the trees and forest floor.

I need to pick one folder name that best represents the content. The image is predominantly green with ferns and trees, so maybe "Lush Green Forest" or "Forest Flora". Wait, but the user might prefer more concise names. Let's check common folder naming conventions. Maybe "Nature Scene" or "Greenery". But perhaps "Ferns in Woodland" to highlight both elements.

Wait, the image has a lot of ferns and trees, so maybe "Woodland with Ferns" is accurate. Alternatively, "Forest Undergrowth" since the undergrowth is prominent here. Or "Lush Vegetation". Hmm. Let me decide on one that's descriptive but concise. "Lush Forest" seems good because it captures the density of the forest and the greenery. Alternatively, "Ferns and Trees" to specify both elements present.

I think "Lush Forest" is a safe choice as it's broad enough but still specific. So the JSON would have a folder named "Lush Forest" with the image "3.jpg" in it. Let me make sure there are no other elements I'm missing. The image doesn't have animals or water, just plants and trees. So yes, "Lush Forest" fits.
</think>
{
  "folders": [
    {
      "name": "Lush Forest",
      "images": ["3.jpg"]
    }
  ]
}
2025-06-13 21:51:36,056 - INFO - Attempting to parse JSON from LLM response.
2025-06-13 21:51:36,056 - INFO - LLM JSON parsed successfully: {'folders': [{'name': 'Lush Forest', 'images': ['3.jpg']}]}
2025-06-13 21:51:36,057 - DEBUG - Created folder: C:/Users/dadad/dadadies/development/ddd_image_organize/images\Lush Forest
2025-06-13 21:51:36,060 - DEBUG - Moved 3.jpg to C:/Users/dadad/dadadies/development/ddd_image_organize/images\Lush Forest
2025-06-13 21:52:06,658 - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/files)", "ws_url": "ws://localhost:1234/files"}
2025-06-13 21:52:06,660 - INFO - {"event": "Websocket demultiplexing task terminated.", "ws_url": "ws://localhost:1234/files"}
2025-06-13 21:52:06,660 - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/files)", "ws_url": "ws://localhost:1234/files"}
2025-06-13 21:52:06,660 - INFO - {"event": "Websocket closed.", "ws_url": "ws://localhost:1234/files"}
2025-06-13 21:52:06,661 - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-06-13 21:52:06,661 - DEBUG - response_closed.started
2025-06-13 21:52:06,661 - DEBUG - response_closed.complete
2025-06-13 21:52:06,661 - INFO - {"event": "Websocket task terminated", "ws_url": "ws://localhost:1234/files"}
2025-06-13 21:52:06,662 - INFO - {"event": "Websocket demultiplexing task terminated.", "ws_url": "ws://localhost:1234/embedding"}
2025-06-13 21:52:06,662 - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-06-13 21:52:06,662 - INFO - {"event": "Websocket closed.", "ws_url": "ws://localhost:1234/embedding"}
2025-06-13 21:52:06,662 - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-06-13 21:52:06,663 - DEBUG - response_closed.started
2025-06-13 21:52:06,663 - DEBUG - response_closed.complete
2025-06-13 21:52:06,663 - INFO - {"event": "Websocket task terminated", "ws_url": "ws://localhost:1234/embedding"}
2025-06-13 21:52:06,663 - INFO - {"event": "Websocket demultiplexing task terminated.", "ws_url": "ws://localhost:1234/llm"}
2025-06-13 21:52:06,664 - INFO - {"event": "Websocket closed.", "ws_url": "ws://localhost:1234/llm"}
2025-06-13 21:52:06,664 - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-06-13 21:52:06,664 - DEBUG - response_closed.started
2025-06-13 21:52:06,664 - DEBUG - response_closed.complete
2025-06-13 21:52:06,665 - INFO - {"event": "Websocket task terminated", "ws_url": "ws://localhost:1234/llm"}
2025-06-13 21:52:06,665 - DEBUG - {"client": "<lmstudio.sync_api.Client object at 0x000002DB700B9990>", "event": "Terminating websocket thread due to exception", "thread_id": "Thread-1"}
Traceback (most recent call last):
  File "C:\Users\dadad\AppData\Local\Programs\Python\Python311\Lib\site-packages\lmstudio\_ws_impl.py", line 292, in _log_thread_execution
    await never_set.wait()
  File "C:\Users\dadad\AppData\Local\Programs\Python\Python311\Lib\asyncio\locks.py", line 213, in wait
    await fut
asyncio.exceptions.CancelledError: Cancelled by cancel scope 2db700baf50
2025-06-13 21:52:06,701 - INFO - {"client": "<lmstudio.sync_api.Client object at 0x000002DB700B9990>", "event": "Websocket thread terminated", "thread_id": "Thread-1"}
